import{a as pp,b as gp}from"/myst_assets_folder/_shared/chunk-FMKRCXEX.js";import{e as Yl,f as Ql,g as up}from"/myst_assets_folder/_shared/chunk-USDYFJTO.js";import{$ as Or,A as Ar,Aa as Wl,B as Dl,C as se,Ca as Rt,D as Di,Da as Kl,E as Ml,Ea as Dr,F as Il,Fa as Xl,G as Ll,H as Rl,I as jl,Ia as Zl,J as Ul,Ja as hp,K as Bl,L as Pl,M as Fl,N as Lt,O as gt,W as Mi,Z as $l,_ as E,a as Ai,b as Nn,ea as Vl,fa as Tr,g as Ol,h as Tl,ha as Ii,i as P,ia as zl,j as pt,ja as Dn,ka as Nr,l as Oi,la as Mn,m as Ti,ma as Li,n as Sr,na as Ri,o as Cr,q as It,r as Ni,sa as ql,u as Er,v as en,w as Nl,wa as Gl,x as cp,xa as Hl,ya as ji,za as Jl}from"/myst_assets_folder/_shared/chunk-HXYMBR26.js";import{$ as El,B as xl,G as ve,I as Mt,K as vl,L as wl,M as _l,O as kl,V as Sl,W as Cl,Z as ap,aa as Al,ba as lp,ca as J,da as jt,ea as Mr,fa as dp,g as Ye,h as me,i as Dt,ia as ec,ja as fp,ma as tc,na as mp,s as Ei,t as op,u as yl}from"/myst_assets_folder/_shared/chunk-TEYZXLTV.js";import{a as Be}from"/myst_assets_folder/_shared/chunk-XJN3BT5Q.js";import{b as v,c as T,e as $}from"/myst_assets_folder/_shared/chunk-2NH4LW52.js";function $i(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(r(t.update(s)),!0):!1}}function Vi(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}function wp(n,{open:e,close:t},r,s){let i=n.sliceDoc(r-In,r),o=n.sliceDoc(s,s+In),a=/\s*$/.exec(i)[0].length,l=/^\s*/.exec(o)[0].length,c=i.length-a;if(i.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:s+l,margin:l&&1}};let u,h;s-r<=2*In?u=h=n.sliceDoc(r,s):(u=n.sliceDoc(r,r+In),h=n.sliceDoc(s-In,s));let d=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-t.length;return u.slice(d,d+e.length)==e&&h.slice(p,p+t.length)==t?{open:{pos:r+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:s-f-t.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function _p(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),s=t.to<=r.to?r:n.doc.lineAt(t.to),i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function uc(n,e,t=e.selection.ranges){let r=t.map(i=>Vi(e,i.from).block);if(!r.every(i=>i))return null;let s=t.map((i,o)=>wp(e,r[o],i.from,i.to));if(n!=2&&!s.every(i=>i))return{changes:e.changes(t.map((i,o)=>s[o]?[]:[{from:i.from,insert:r[o].open+" "},{from:i.to,insert:" "+r[o].close}]))};if(n!=1&&s.some(i=>i)){let i=[];for(let o=0,a;o<s.length;o++)if(a=s[o]){let l=r[o],{open:c,close:u}=a;i.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:i}}return null}function kp(n,e,t=e.selection.ranges){let r=[],s=-1;for(let{from:i,to:o}of t){let a=r.length,l=1e9,c=Vi(e,i).line;if(c){for(let u=i;u<=o;){let h=e.doc.lineAt(u);if(h.from>s&&(i==o||o>h.from)){s=h.from;let d=/^\s*/.exec(h.text)[0].length,f=d==h.length,p=h.text.slice(d,d+c.length)==c?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:p,token:c,indent:d,empty:f,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&i.push({from:a.from+c,insert:l+" "});let o=e.changes(i);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,i.push({from:c,to:u})}return{changes:i}}return null}function Bi(n,e,t,r){let s=e+1>t+20?e-t-1:0,i=n.slice(s,e);return i.push(r),i}function Cp(n,e){let t=[],r=!1;return n.iterChangedRanges((s,i)=>t.push(s,i)),e.iterChangedRanges((s,i,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(r=!0)}}),r}function Ep(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function hc(n,e){return n.length?e.length?n.concat(e):n:e}function Op(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Ap));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Bi(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Pe.selection([e])]}function Tp(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ui(n,e){if(!n.length)return n;let t=n.length,r=Fe;for(;t;){let s=Np(n[t-1],e,r);if(s.changes&&!s.changes.empty||s.effects.length){let i=n.slice(0,t);return i[t-1]=s,i}else e=s.mapped,t--,r=s.selectionsAfter}return r.length?[Pe.selection(r)]:Fe}function Np(n,e,t){let r=hc(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):Fe,t);if(!n.changes)return Pe.selection(r);let s=n.changes.map(e),i=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(i):i;return new Pe(s,Cr.mapEffects(n.effects,e),o,n.startSelection.map(i),r)}function tn(n,e){return P.create(n.ranges.map(e),n.mainIndex)}function Qe(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ge({state:n,dispatch:e},t){let r=tn(n.selection,t);return r.eq(n.selection)?!1:(e(Qe(n,r)),!0)}function Lr(n,e){return P.cursor(e?n.to:n.from)}function dc(n,e){return Ge(n,t=>t.empty?n.moveByChar(t,e):Lr(t,e))}function ue(n){return n.textDirectionAt(n.state.selection.main.head)==Dl.LTR}function pc(n,e){return Ge(n,t=>t.empty?n.moveByGroup(t,e):Lr(t,e))}function Lp(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Rr(n,e,t){let r=Tr(n).resolveInner(e.head),s=t?gt.closedBy:gt.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;Lp(n,c,s)?r=c:l=t?c.to:c.from}let i=r.type.prop(s),o,a;return i&&(o=t?Rt(n,r.from,1):Rt(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,P.cursor(a,t?-1:1)}function gc(n,e){return Ge(n,t=>{if(!t.empty)return Lr(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}function xc(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,s;if(e){for(let i of n.state.facet(se.scrollMargins)){let o=i(n);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(r=Math.max(o?.bottom,r))}s=n.scrollDOM.clientHeight-t-r}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function vc(n,e){let t=xc(n),{state:r}=n,s=tn(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):Lr(o,e));if(s.eq(r.selection))return!1;let i;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(i=se.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(Qe(r,s),{effects:i}),!0}function bt(n,e,t){let r=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?r.to:r.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==r.from&&r.length){let i=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(s=P.cursor(r.from+i))}return s}function zp(n,e,t){let r=!1,s=tn(n.selection,i=>{let o=Rt(n,i.head,-1)||Rt(n,i.head,1)||i.head>0&&Rt(n,i.head-1,1)||i.head<n.doc.length&&Rt(n,i.head+1,-1);if(!o||!o.end)return i;r=!0;let a=o.start.from==i.head?o.end.to:o.end.from;return t?P.range(i.anchor,a):P.cursor(a)});return r?(e(Qe(n,s)),!0):!1}function $e(n,e){let t=tn(n.state.selection,r=>{let s=e(r);return P.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Qe(n.state,t)),!0)}function wc(n,e){return $e(n,t=>n.moveByChar(t,e))}function Sc(n,e){return $e(n,t=>n.moveByGroup(t,e))}function Cc(n,e){return $e(n,t=>n.moveVertically(t,e))}function Oc(n,e){return $e(n,t=>n.moveVertically(t,e,xc(n).height))}function jr(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,s=r.changeByRange(i=>{let{from:o,to:a}=i;if(o==a){let l=e(o);l<o?(t="delete.backward",l=Ir(n,l,!1)):l>o&&(t="delete.forward",l=Ir(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Ir(n,o,!1),a=Ir(n,a,!0);return o==a?{range:i}:{changes:{from:o,to:a},range:P.cursor(o)}});return s.changes.empty?!1:(n.dispatch(r.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?se.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Ir(n,e,t){if(n instanceof se)for(let r of n.state.facet(se.atomicRanges).map(s=>s(n)))r.between(e,e,(s,i)=>{s<e&&i>e&&(e=t?i:s)});return e}function Ur(n){let e=[],t=-1;for(let r of n.selection.ranges){let s=n.doc.lineAt(r.from),i=n.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=n.doc.lineAt(r.to-1)),t>=s.number){let o=e[e.length-1];o.to=i.to,o.ranges.push(r)}else e.push({from:s.from,to:i.to,ranges:[r]});t=i.number+1}return e}function Lc(n,e,t){if(n.readOnly)return!1;let r=[],s=[];for(let i of Ur(n)){if(t?i.to==n.doc.length:i.from==0)continue;let o=n.doc.lineAt(t?i.to+1:i.from-1),a=o.length+1;if(t){r.push({from:i.to,to:o.to},{from:i.from,insert:o.text+n.lineBreak});for(let l of i.ranges)s.push(P.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:i.from},{from:i.to,insert:n.lineBreak+o.text});for(let l of i.ranges)s.push(P.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:P.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}function Rc(n,e,t){if(n.readOnly)return!1;let r=[];for(let s of Ur(n))t?r.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):r.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}function mg(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Tr(n).resolveInner(e),r=t.childBefore(e),s=t.childAfter(e),i;return r&&s&&r.to<=e&&s.from>=e&&(i=r.type.prop(gt.closedBy))&&i.indexOf(s.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}function jc(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:i,to:o}=s,a=e.doc.lineAt(i),l=!n&&i==o&&mg(e,i);n&&(i=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Ri(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=Li(c,i);for(u==null&&(u=Er(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:i,to:o}=l:i>a.from&&i<a.from+100&&!/\S/.test(a.text.slice(0,i))&&(i=a.from);let h=["",Mn(e,u)];return l&&h.push(Mn(e,c.lineIndent(a.from,-1))),{changes:{from:i,to:o,insert:Ai.of(h)},range:P.cursor(i+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function zi(n,e){let t=-1;return n.changeByRange(r=>{let s=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,s,r),t=a.number),o=a.to+1}let i=n.changes(s);return{changes:s,range:P.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}var bp,yp,xp,vp,In,nc,Sp,Pe,Fe,Ap,Dp,it,fc,mc,Mp,Ip,Cv,Rp,jp,bc,yc,rc,Pi,Up,Bp,Pp,Fp,$p,Vp,qp,_c,kc,Gp,Hp,Jp,Wp,Ec,Ac,sc,ic,Kp,Yp,Qp,Xp,Zp,eg,oc,ac,lc,cc,tg,ng,rg,sg,Tc,Fi,Nc,Dc,Mc,ig,Ic,og,ag,lg,cg,ug,hg,dg,fg,pg,gg,bg,Ln,qi,Uc,yg,xg,Bc,Gi=v(()=>{en();Lt();Dr();Mi();bp=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Vi(n.state,t.from);return r.line?yp(n):r.block?vp(n):!1};yp=$i(kp,0),xp=$i(uc,0),vp=$i((n,e)=>uc(n,e,_p(e)),0);In=50;nc=Sr.define(),Sp=pt.define(),Pe=class{constructor(e,t,r,s,i){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=s,this.selectionsAfter=i}setSelAfter(e){return new Pe(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new Pe(e.changes&&Tl.fromJSON(e.changes),[],e.mapped&&Ol.fromJSON(e.mapped),e.startSelection&&P.fromJSON(e.startSelection),e.selectionsAfter.map(P.fromJSON))}static fromTransaction(e,t){let r=Fe;for(let s of e.startState.facet(Sp)){let i=s(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new Pe(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Fe)}static selection(e){return new Pe(void 0,Fe,void 0,void 0,e)}};Fe=[],Ap=200;Dp=/^(input\.type|delete)($|\.)/,it=class{constructor(e,t,r=0,s=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=s}isolate(){return this.prevTime?new it(this.done,this.undone):this}addChanges(e,t,r,s,i){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||Dp.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(i,Cp(a.changes,e.changes))||r=="input.type.compose")?o=Bi(o,o.length-1,s.minDepth,new Pe(e.changes.compose(a.changes),hc(e.effects,a.effects),a.mapped,a.startSelection,Fe)):o=Bi(o,o.length,s.minDepth,e),new it(o,Fe,t,r)}addSelection(e,t,r,s){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Fe;return i.length>0&&t-this.prevTime<s&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Ep(i[i.length-1],e)?this:new it(Op(this.done,e),this.undone,t,r)}addMapping(e){return new it(Ui(this.done,e),Ui(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let s=e==0?this.done:this.undone;if(s.length==0)return null;let i=s[s.length-1];if(r&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:nc.of({side:e,rest:Tp(s)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let o=s.length==1?Fe:s.slice(0,s.length-1);return i.mapped&&(o=Ui(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:nc.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};it.empty=new it(Fe,Fe);fc=n=>dc(n,!ue(n)),mc=n=>dc(n,ue(n));Mp=n=>pc(n,!ue(n)),Ip=n=>pc(n,ue(n)),Cv=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;Rp=n=>Ge(n,e=>Rr(n.state,e,!ue(n))),jp=n=>Ge(n,e=>Rr(n.state,e,ue(n)));bc=n=>gc(n,!1),yc=n=>gc(n,!0);rc=n=>vc(n,!1),Pi=n=>vc(n,!0);Up=n=>Ge(n,e=>bt(n,e,!0)),Bp=n=>Ge(n,e=>bt(n,e,!1)),Pp=n=>Ge(n,e=>bt(n,e,!ue(n))),Fp=n=>Ge(n,e=>bt(n,e,ue(n))),$p=n=>Ge(n,e=>P.cursor(n.lineBlockAt(e.head).from,1)),Vp=n=>Ge(n,e=>P.cursor(n.lineBlockAt(e.head).to,-1));qp=({state:n,dispatch:e})=>zp(n,e,!1);_c=n=>wc(n,!ue(n)),kc=n=>wc(n,ue(n));Gp=n=>Sc(n,!ue(n)),Hp=n=>Sc(n,ue(n)),Jp=n=>$e(n,e=>Rr(n.state,e,!ue(n))),Wp=n=>$e(n,e=>Rr(n.state,e,ue(n)));Ec=n=>Cc(n,!1),Ac=n=>Cc(n,!0);sc=n=>Oc(n,!1),ic=n=>Oc(n,!0),Kp=n=>$e(n,e=>bt(n,e,!0)),Yp=n=>$e(n,e=>bt(n,e,!1)),Qp=n=>$e(n,e=>bt(n,e,!ue(n))),Xp=n=>$e(n,e=>bt(n,e,ue(n))),Zp=n=>$e(n,e=>P.cursor(n.lineBlockAt(e.head).from)),eg=n=>$e(n,e=>P.cursor(n.lineBlockAt(e.head).to)),oc=({state:n,dispatch:e})=>(e(Qe(n,{anchor:0})),!0),ac=({state:n,dispatch:e})=>(e(Qe(n,{anchor:n.doc.length})),!0),lc=({state:n,dispatch:e})=>(e(Qe(n,{anchor:n.selection.main.anchor,head:0})),!0),cc=({state:n,dispatch:e})=>(e(Qe(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),tg=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),ng=({state:n,dispatch:e})=>{let t=Ur(n).map(({from:r,to:s})=>P.range(r,Math.min(s+1,n.doc.length)));return e(n.update({selection:P.create(t),userEvent:"select"})),!0},rg=({state:n,dispatch:e})=>{let t=tn(n.selection,r=>{var s;let i=Tr(n).resolveInner(r.head,1);for(;!(i.from<r.from&&i.to>=r.to||i.to>r.to&&i.from<=r.from||!(!((s=i.parent)===null||s===void 0)&&s.parent));)i=i.parent;return P.range(i.to,i.from)});return e(Qe(n,t)),!0},sg=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=P.create([t.main]):t.main.empty||(r=P.create([P.cursor(t.main.head)])),r?(e(Qe(n,r)),!0):!1};Tc=(n,e)=>jr(n,t=>{let{state:r}=n,s=r.doc.lineAt(t),i,o;if(!e&&t>s.from&&t<s.from+200&&!/[^ \t]/.test(i=s.text.slice(0,t-s.from))){if(i[i.length-1]=="	")return t-1;let a=Er(i,r.tabSize),l=a%Nr(r)||Nr(r);for(let c=0;c<l&&i[i.length-1-c]==" ";c++)t--;o=t}else o=Nn(s.text,t-s.from,e,e)+s.from,o==t&&s.number!=(e?r.doc.lines:1)&&(o+=e?1:-1);return o}),Fi=n=>Tc(n,!1),Nc=n=>Tc(n,!0),Dc=(n,e)=>jr(n,t=>{let r=t,{state:s}=n,i=s.doc.lineAt(r),o=s.charCategorizer(r);for(let a=null;;){if(r==(e?i.to:i.from)){r==t&&i.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let l=Nn(i.text,r-i.from,e)+i.from,c=i.text.slice(Math.min(r,l)-i.from,Math.max(r,l)-i.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=t)&&(a=u),r=l}return r}),Mc=n=>Dc(n,!1),ig=n=>Dc(n,!0),Ic=n=>jr(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),og=n=>jr(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),ag=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ai.of(["",""])},range:P.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},lg=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let s=r.from,i=n.doc.lineAt(s),o=s==i.from?s-1:Nn(i.text,s-i.from,!1)+i.from,a=s==i.to?s+1:Nn(i.text,s-i.from,!0)+i.from;return{changes:{from:o,to:a,insert:n.doc.slice(s,a).append(n.doc.slice(o,s))},range:P.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};cg=({state:n,dispatch:e})=>Lc(n,e,!1),ug=({state:n,dispatch:e})=>Lc(n,e,!0);hg=({state:n,dispatch:e})=>Rc(n,e,!1),dg=({state:n,dispatch:e})=>Rc(n,e,!0),fg=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Ur(e).map(({from:s,to:i})=>(s>0?s--:i<e.doc.length&&i++,{from:s,to:i}))),r=tn(e.selection,s=>n.moveVertically(s,!0)).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};pg=jc(!1),gg=jc(!0);bg=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Ri(n,{overrideIndentation:i=>{let o=t[i];return o??-1}}),s=zi(n,(i,o,a)=>{let l=Li(r,i.from);if(l==null)return;/\S/.test(i.text)||(l=0);let c=/^\s*/.exec(i.text)[0],u=Mn(n,l);(c!=u||a.from<i.from+c.length)&&(t[i.from]=l,o.push({from:i.from,to:i.from+c.length,insert:u}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},Ln=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(zi(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Dn)})}),{userEvent:"input.indent"})),!0),qi=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(zi(n,(t,r)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let i=Er(s,n.tabSize),o=0,a=Mn(n,Math.max(0,i-Nr(n)));for(;o<s.length&&o<a.length&&s.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+s.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Uc=({state:n,dispatch:e})=>n.selection.ranges.some(t=>!t.empty)?Ln({state:n,dispatch:e}):(e(n.update(n.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),yg=[{key:"Ctrl-b",run:fc,shift:_c,preventDefault:!0},{key:"Ctrl-f",run:mc,shift:kc},{key:"Ctrl-p",run:bc,shift:Ec},{key:"Ctrl-n",run:yc,shift:Ac},{key:"Ctrl-a",run:$p,shift:Zp},{key:"Ctrl-e",run:Vp,shift:eg},{key:"Ctrl-d",run:Nc},{key:"Ctrl-h",run:Fi},{key:"Ctrl-k",run:Ic},{key:"Ctrl-Alt-h",run:Mc},{key:"Ctrl-o",run:ag},{key:"Ctrl-t",run:lg},{key:"Ctrl-v",run:Pi}],xg=[{key:"ArrowLeft",run:fc,shift:_c,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Mp,shift:Gp,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Pp,shift:Qp,preventDefault:!0},{key:"ArrowRight",run:mc,shift:kc,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Ip,shift:Hp,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Fp,shift:Xp,preventDefault:!0},{key:"ArrowUp",run:bc,shift:Ec,preventDefault:!0},{mac:"Cmd-ArrowUp",run:oc,shift:lc},{mac:"Ctrl-ArrowUp",run:rc,shift:sc},{key:"ArrowDown",run:yc,shift:Ac,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ac,shift:cc},{mac:"Ctrl-ArrowDown",run:Pi,shift:ic},{key:"PageUp",run:rc,shift:sc},{key:"PageDown",run:Pi,shift:ic},{key:"Home",run:Bp,shift:Yp,preventDefault:!0},{key:"Mod-Home",run:oc,shift:lc},{key:"End",run:Up,shift:Kp,preventDefault:!0},{key:"Mod-End",run:ac,shift:cc},{key:"Enter",run:pg},{key:"Mod-a",run:tg},{key:"Backspace",run:Fi,shift:Fi},{key:"Delete",run:Nc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Mc},{key:"Mod-Delete",mac:"Alt-Delete",run:ig},{mac:"Mod-Backspace",run:og},{mac:"Mod-Delete",run:Ic}].concat(yg.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Bc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Rp,shift:Jp},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:jp,shift:Wp},{key:"Alt-ArrowUp",run:cg},{key:"Shift-Alt-ArrowUp",run:hg},{key:"Alt-ArrowDown",run:ug},{key:"Shift-Alt-ArrowDown",run:dg},{key:"Escape",run:sg},{key:"Mod-Enter",run:gg},{key:"Alt-l",mac:"Ctrl-l",run:ng},{key:"Mod-i",run:rg,preventDefault:!0},{key:"Mod-[",run:qi},{key:"Mod-]",run:Ln},{key:"Mod-Alt-\\",run:bg},{key:"Shift-Mod-k",run:fg},{key:"Shift-Mod-\\",run:qp},{key:"Mod-/",run:bp},{key:"Alt-A",run:xp}].concat(xg)});var Br,Hi=v(()=>{Gi();(function(n){function e(t){let r={state:t.state,dispatch:t.dispatch},s=t.state.selection.main.from,i=t.state.selection.main.to;if(s!=i)return Ln(r);let o=t.state.doc.lineAt(s),a=t.state.doc.slice(o.from,s).toString();return/^\s*$/.test(a)?Ln(r):Uc(r)}n.indentMoreOrInsertTab=e})(Br||(Br={}))});function vg(n){let{fontFamily:e,fontSize:t,lineHeight:r}=n.state.facet(Pc),s="";return t&&(s+=`font-size: ${t}px !important;`),e&&(s+=`font-family: ${e} !important;`),r&&(s+=`line-height: ${r.toString()} !important`),{style:s}}function Fc(n){return[Pc.of(n),se.editorAttributes.of(vg)]}var Pc,$c=v(()=>{en();Lt();Pc=pt.define({combine(n){return Ni(n,{fontFamily:null,fontSize:null,lineHeight:null},{fontFamily:(e,t)=>e??t,fontSize:(e,t)=>e??t,lineHeight:(e,t)=>e??t})}})});var wg,_g,kg,Sg,Cg,Rv,Vc=v(()=>{Mi();Or();wg="InlineMathDollar",_g="InlineMathBracket",kg="BlockMathDollar",Sg="BlockMathBracket",Cg={[wg]:1,[_g]:3,[kg]:2,[Sg]:3},Rv=Object.keys(Cg).reduce((n,e)=>(n[e]={mark:`${e}Mark`,resolve:e},n),{})});function Gc(n){return[Eg,Pr.of(n),Ag]}var zc,qc,Eg,Pr,Ag,Hc=v(()=>{en();Lt();zc=$(Ye()),qc="cm-rulers",Eg=se.baseTheme({[`.${qc}`]:{borderRight:"1px dotted gray",opacity:.7}}),Pr=pt.define({combine(n){return n.reduce((t,r)=>t.concat(r.filter((s,i)=>!t.includes(s)&&i==r.lastIndexOf(s))),[])}}),Ag=Ar.fromClass(class{constructor(n){var e,t;this.rulersContainer=n.dom.appendChild(document.createElement("div")),this.rulersContainer.style.cssText=`
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                overflow: hidden;
            `;let r=n.defaultCharacterWidth,s=n.state.facet(Pr),i=(t=(e=n.scrollDOM.querySelector(".cm-gutters"))===null||e===void 0?void 0:e.clientWidth)!==null&&t!==void 0?t:0;this.rulers=s.map(o=>{let a=this.rulersContainer.appendChild(document.createElement("div"));return a.classList.add(qc),a.style.cssText=`
                position: absolute;
                left: ${i+o*r}px;
                height: 100%;
            `,a.style.width="6px",a})}update(n){var e,t;let r=n.view.state.facet(Pr);if(n.viewportChanged||n.geometryChanged||!zc.JSONExt.deepEqual(r,n.startState.facet(Pr))){let s=(t=(e=n.view.scrollDOM.querySelector(".cm-gutters"))===null||e===void 0?void 0:e.clientWidth)!==null&&t!==void 0?t:0,i=n.view.defaultCharacterWidth;this.rulers.forEach((o,a)=>{o.style.left=`${s+r[a]*i}px`})}}destroy(){this.rulers.forEach(n=>{n.remove()}),this.rulersContainer.remove()}})});var we,Fr,yt,Jc,Wc,nn=v(()=>{we=()=>new Map,Fr=n=>{let e=we();return n.forEach((t,r)=>{e.set(r,t)}),e},yt=(n,e,t)=>{let r=n.get(e);return r===void 0&&n.set(e,r=t()),r},Jc=(n,e)=>{let t=[];for(let[r,s]of n)t.push(e(s,r));return t},Wc=(n,e)=>{for(let[t,r]of n)if(e(r,t))return!0;return!1}});var ot,$r=v(()=>{ot=()=>new Set});var Vr,Kc,xt,Yc,jn,zr=v(()=>{Vr=n=>n[n.length-1],Kc=(n,e)=>{for(let t=0;t<e.length;t++)n.push(e[t])},xt=Array.from,Yc=(n,e)=>{for(let t=0;t<n.length;t++)if(e(n[t],t,n))return!0;return!1},jn=Array.isArray});var Ut,Ki=v(()=>{nn();$r();zr();Ut=class{constructor(){this._observers=we()}on(e,t){yt(this._observers,e,ot).add(t)}once(e,t){let r=(...s)=>{this.off(e,r),t(...s)};this.on(e,r)}off(e,t){let r=this._observers.get(e);r!==void 0&&(r.delete(t),r.size===0&&this._observers.delete(e))}emit(e,t){return xt((this._observers.get(e)||we()).values()).forEach(r=>r(...t))}destroy(){this._observers=we()}}});var Ve,rn,qr,vt,Vv,Qc,Un=v(()=>{Ve=Math.floor,rn=Math.abs,qr=(n,e)=>n<e?n:e,vt=(n,e)=>n>e?n:e,Vv=Number.isNaN,Qc=n=>n!==0?n<0:1/n<0});var Og,zv,qv,Tg,Ng,Dg,Mg,Qi,Ig,sn,Lg,Xc,Yi,Xi=v(()=>{Og=String.fromCharCode,zv=String.fromCodePoint,qv=Og(65535),Tg=n=>n.toLowerCase(),Ng=/^\s*/g,Dg=n=>n.replace(Ng,""),Mg=/([A-Z])/g,Qi=(n,e)=>Dg(n.replace(Mg,t=>`${e}${Tg(t)}`)),Ig=n=>{let e=unescape(encodeURIComponent(n)),t=e.length,r=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.codePointAt(s);return r},sn=typeof TextEncoder<"u"?new TextEncoder:null,Lg=n=>sn.encode(n),Xc=sn?Lg:Ig,Yi=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Yi&&Yi.decode(new Uint8Array).length===1&&(Yi=null)});var Zi,eu=v(()=>{Zi=n=>n===void 0?null:n});var eo,tu,jg,nu,ru=v(()=>{eo=class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},tu=new eo,jg=!0;try{typeof localStorage<"u"&&(tu=localStorage,jg=!1)}catch{}nu=tu});var su,Bg,iu,Bn,ou,Pg,to,no,ro=v(()=>{su=Object.assign,Bg=Object.keys,iu=(n,e)=>{for(let t in n)e(n[t],t)},Bn=n=>Bg(n).length,ou=n=>{for(let e in n)return!1;return!0},Pg=(n,e)=>{for(let t in n)if(!e(n[t],t))return!1;return!0},to=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),no=(n,e)=>n===e||Bn(n)===Bn(e)&&Pg(n,(t,r)=>(t!==void 0||to(e,r))&&e[r]===t)});var Fn,Fg,Pn,lu,$n=v(()=>{ro();Fn=(n,e,t=0)=>{try{for(;t<n.length;t++)n[t](...e)}finally{t<n.length&&Fn(n,e,t+1)}},Fg=(n,e)=>n===e,Pn=(n,e)=>{if(n==null||e==null)return Fg(n,e);if(n.constructor!==e.constructor)return!1;if(n===e)return!0;switch(n.constructor){case ArrayBuffer:n=new Uint8Array(n),e=new Uint8Array(e);case Uint8Array:{if(n.byteLength!==e.byteLength)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;break}case Set:{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;break}case Map:{if(n.size!==e.size)return!1;for(let t of n.keys())if(!e.has(t)||!Pn(n.get(t),e.get(t)))return!1;break}case Object:if(Bn(n)!==Bn(e))return!1;for(let t in n)if(!to(n,t)||!Pn(n[t],e[t]))return!1;break;case Array:if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Pn(n[t],e[t]))return!1;break;default:return!1}return!0},lu=(n,e)=>e.includes(n)});var Vn,Gv,Xe,$g,Vg,io,oo,zg,Hv,cu,uu,hu=v(()=>{nn();Xi();eu();ru();$n();Vn=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),Gv=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,$g=[],Vg=()=>{if(Xe===void 0)if(Vn){Xe=we();let n=process.argv,e=null;for(let t=0;t<n.length;t++){let r=n[t];r[0]==="-"?(e!==null&&Xe.set(e,""),e=r):e!==null?(Xe.set(e,r),e=null):$g.push(r)}e!==null&&Xe.set(e,"")}else typeof location=="object"?(Xe=we(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){let[e,t]=n.split("=");Xe.set(`--${Qi(e,"-")}`,t),Xe.set(`-${Qi(e,"-")}`,t)}})):Xe=we();return Xe},io=n=>Vg().has(n),oo=n=>Vn?Zi(process.env[n.toUpperCase()]):Zi(nu.getItem(n)),zg=n=>io("--"+n)||oo(n)!==null,Hv=zg("production"),cu=Vn&&lu(process.env.FORCE_COLOR,["true","1","2"]),uu=!io("no-colors")&&(!Vn||process.stdout.isTTY||cu)&&(!Vn||io("color")||cu||oo("COLORTERM")!==null||(oo("TERM")||"").includes("color"))});var Jv,Wv,Kv,du,Yv,Qv,fu=v(()=>{Un();Jv=Number.MAX_SAFE_INTEGER,Wv=Number.MIN_SAFE_INTEGER,Kv=1<<31,du=Number.isInteger||(n=>typeof n=="number"&&isFinite(n)&&Ve(n)===n),Yv=Number.isNaN,Qv=Number.parseInt});var Bt,He,wt,mu=v(()=>{Bt=n=>new Error(n),He=()=>{throw Bt("Method unimplemented")},wt=()=>{throw Bt("Unexpected case")}});var ao,pu=v(()=>{ao=(n,e,t)=>new Uint8Array(n,e,t)});var Pt,Wr,Yg,Ze,Qg,ie,Kr,F,Yr,co,Xg,Zg,e0,Ft,Qr,_e,uo,t0,n0,r0,gu,s0,on,zn,bu,$t,yu,an,Jr,xu=v(()=>{pu();Un();fu();Xi();zr();Pt=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},Wr=()=>new Pt,Yg=n=>{let e=n.cpos;for(let t=0;t<n.bufs.length;t++)e+=n.bufs[t].length;return e},Ze=n=>{let e=new Uint8Array(Yg(n)),t=0;for(let r=0;r<n.bufs.length;r++){let s=n.bufs[r];e.set(s,t),t+=s.length}return e.set(ao(n.cbuf.buffer,0,n.cpos),t),e},Qg=(n,e)=>{let t=n.cbuf.length;t-n.cpos<e&&(n.bufs.push(ao(n.cbuf.buffer,0,n.cpos)),n.cbuf=new Uint8Array(vt(t,e)*2),n.cpos=0)},ie=(n,e)=>{let t=n.cbuf.length;n.cpos===t&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(t*2),n.cpos=0),n.cbuf[n.cpos++]=e},Kr=ie,F=(n,e)=>{for(;e>127;)ie(n,128|127&e),e=Ve(e/128);ie(n,127&e)},Yr=(n,e)=>{let t=Qc(e);for(t&&(e=-e),ie(n,(e>63?128:0)|(t?64:0)|63&e),e=Ve(e/64);e>0;)ie(n,(e>127?128:0)|127&e),e=Ve(e/128)},co=new Uint8Array(3e4),Xg=co.length/3,Zg=(n,e)=>{if(e.length<Xg){let t=sn.encodeInto(e,co).written||0;F(n,t);for(let r=0;r<t;r++)ie(n,co[r])}else _e(n,Xc(e))},e0=(n,e)=>{let t=unescape(encodeURIComponent(e)),r=t.length;F(n,r);for(let s=0;s<r;s++)ie(n,t.codePointAt(s))},Ft=sn&&sn.encodeInto?Zg:e0,Qr=(n,e)=>{let t=n.cbuf.length,r=n.cpos,s=qr(t-r,e.length),i=e.length-s;n.cbuf.set(e.subarray(0,s),r),n.cpos+=s,i>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(vt(t*2,i)),n.cbuf.set(e.subarray(s)),n.cpos=i)},_e=(n,e)=>{F(n,e.byteLength),Qr(n,e)},uo=(n,e)=>{Qg(n,e);let t=new DataView(n.cbuf.buffer,n.cpos,e);return n.cpos+=e,t},t0=(n,e)=>uo(n,4).setFloat32(0,e,!1),n0=(n,e)=>uo(n,8).setFloat64(0,e,!1),r0=(n,e)=>uo(n,8).setBigInt64(0,e,!1),gu=new DataView(new ArrayBuffer(4)),s0=n=>(gu.setFloat32(0,n),gu.getFloat32(0)===n),on=(n,e)=>{switch(typeof e){case"string":ie(n,119),Ft(n,e);break;case"number":du(e)&&rn(e)<=2147483647?(ie(n,125),Yr(n,e)):s0(e)?(ie(n,124),t0(n,e)):(ie(n,123),n0(n,e));break;case"bigint":ie(n,122),r0(n,e);break;case"object":if(e===null)ie(n,126);else if(jn(e)){ie(n,117),F(n,e.length);for(let t=0;t<e.length;t++)on(n,e[t])}else if(e instanceof Uint8Array)ie(n,116),_e(n,e);else{ie(n,118);let t=Object.keys(e);F(n,t.length);for(let r=0;r<t.length;r++){let s=t[r];Ft(n,s),on(n,e[s])}}break;case"boolean":ie(n,e?120:121);break;default:ie(n,127)}},zn=class extends Pt{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&F(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}},bu=n=>{n.count>0&&(Yr(n.encoder,n.count===1?n.s:-n.s),n.count>1&&F(n.encoder,n.count-2))},$t=class{constructor(){this.encoder=new Pt,this.s=0,this.count=0}write(e){this.s===e?this.count++:(bu(this),this.count=1,this.s=e)}toUint8Array(){return bu(this),Ze(this.encoder)}},yu=n=>{if(n.count>0){let e=n.diff*2+(n.count===1?0:1);Yr(n.encoder,e),n.count>1&&F(n.encoder,n.count-2)}},an=class{constructor(){this.encoder=new Pt,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(yu(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return yu(this),Ze(this.encoder)}},Jr=class{constructor(){this.sarr=[],this.s="",this.lensE=new $t}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new Pt;return this.sarr.push(this.s),this.s="",Ft(e,this.sarr.join("")),Qr(e,this.lensE.toUint8Array()),Ze(e)}}});var Zv,vu,wu=v(()=>{Zv=crypto.subtle,vu=crypto.getRandomValues.bind(crypto)});var ho,o0,_u,ku=v(()=>{wu();ho=()=>vu(new Uint32Array(1))[0],o0=[1e7]+-1e3+-4e3+-8e3+-1e11,_u=()=>o0.replace(/[018]/g,n=>(n^ho()&15>>n/4).toString(16))});var _t,Xr=v(()=>{_t=Date.now});var mo,nw,Su=v(()=>{mo=n=>new Promise(n),nw=Promise.all.bind(Promise)});var po,et,Cu=v(()=>{po=class{constructor(e,t){this.left=e,this.right=t}},et=(n,e)=>new po(n,e)});var Vt,rw,Eu,sw,iw,ow,aw,lw,cw,uw,Au=v(()=>{nn();Vt=typeof document<"u"?document:{},rw=typeof DOMParser<"u"?new DOMParser:null,Eu=n=>Jc(n,(e,t)=>`${t}:${e};`).join(""),sw=Vt.ELEMENT_NODE,iw=Vt.TEXT_NODE,ow=Vt.CDATA_SECTION_NODE,aw=Vt.COMMENT_NODE,lw=Vt.DOCUMENT_NODE,cw=Vt.DOCUMENT_TYPE_NODE,uw=Vt.DOCUMENT_FRAGMENT_NODE});var tt,Ou=v(()=>{tt=Symbol});var qn,Gn,go,bo,yo,Hn,xo,ln,vo,Tu,hw,wo=v(()=>{Ou();Xr();qn=tt(),Gn=tt(),go=tt(),bo=tt(),yo=tt(),Hn=tt(),xo=tt(),ln=tt(),vo=tt(),Tu=n=>{let e=[],t=[],r=0;for(;r<n.length;r++){let s=n[r];s.constructor===String||s.constructor===Number?e.push(s):s.constructor===Object&&t.push(JSON.stringify(s))}return t},hw=_t()});var f0,m0,Nu,Du,Mu,Iu,Lu=v(()=>{hu();$r();Cu();Au();nn();wo();wo();f0={[qn]:et("font-weight","bold"),[Gn]:et("font-weight","normal"),[go]:et("color","blue"),[yo]:et("color","green"),[bo]:et("color","grey"),[Hn]:et("color","red"),[xo]:et("color","purple"),[ln]:et("color","orange"),[vo]:et("color","black")},m0=n=>{let e=[],t=[],r=we(),s=[],i=0;for(;i<n.length;i++){let o=n[i],a=f0[o];if(a!==void 0)r.set(a.left,a.right);else if(o.constructor===String||o.constructor===Number){let l=Eu(r);i>0||l.length>0?(e.push("%c"+o),t.push(l)):e.push(o)}else break}for(i>0&&(s=t,s.unshift(e.join("")));i<n.length;i++){let o=n[i];o instanceof Symbol||s.push(o)}return s},Nu=uu?m0:Tu,Du=(...n)=>{console.log(...Nu(n)),Iu.forEach(e=>e.print(n))},Mu=(...n)=>{console.warn(...Nu(n)),n.unshift(ln),Iu.forEach(e=>e.print(n))},Iu=ot()});var Ru,ju,Zr,Uu=v(()=>{Ru=n=>({[Symbol.iterator](){return this},next:n}),ju=(n,e)=>Ru(()=>{let t;do t=n.next();while(!t.done&&!e(t.value));return t}),Zr=(n,e)=>Ru(()=>{let{done:t,value:r}=n.next();return{done:t,value:t?void 0:e(r)}})});var ko,un,hn,x0,Xn,Fo,Fu,$o,v0,w0,eh,at,So,Co,Eo,Ao,_0,k0,S0,Oo,$u,Vu,zu,th,cn,es,q,C0,is,To,E0,Cw,Jn,No,Do,Vo,pe,nh,lt,A0,rs,Mo,ke,qu,O0,rh,Io,Gu,Hu,ss,T0,N0,sh,V,Lo,Ju,Wu,os,Ku,dn,D0,ih,zo,Ro,M0,oh,I0,us,Kn,hs,te,ah,lh,Yn,ch,L0,uh,as,hh,dh,R0,fh,ls,qo,Go,mh,ph,ts,jo,zt,Uo,fn,kt,Qn,Yu,ns,gh,xn,bh,yh,_o,Qu,xh,j0,U0,B0,Xu,Bo,mn,Wn,St,pn,Po,cs,P0,nt,gn,bn,F0,yn,Ct,X,Et,Je,$0,V0,z0,q0,G0,rt,H0,Ho,vh,Zu,wh,G,_h,kh,Sh=v(()=>{Ki();zr();Un();nn();xu();ku();Su();mu();$n();$n();$r();Lu();Xr();Uu();ro();ko=class{constructor(e,t){this.clock=e,this.len=t}},un=class{constructor(){this.clients=new Map}},hn=(n,e,t)=>e.clients.forEach((r,s)=>{let i=n.doc.store.clients.get(s);for(let o=0;o<r.length;o++){let a=r[o];rh(n,i,a.clock,a.len,t)}}),x0=(n,e)=>{let t=0,r=n.length-1;for(;t<=r;){let s=Ve((t+r)/2),i=n[s],o=i.clock;if(o<=e){if(e<o+i.len)return s;t=s+1}else r=s-1}return null},Xn=(n,e)=>{let t=n.clients.get(e.client);return t!==void 0&&x0(t,e.clock)!==null},Fo=n=>{n.clients.forEach(e=>{e.sort((s,i)=>s.clock-i.clock);let t,r;for(t=1,r=1;t<e.length;t++){let s=e[r-1],i=e[t];s.clock+s.len>=i.clock?s.len=vt(s.len,i.clock+i.len-s.clock):(r<t&&(e[r]=i),r++)}e.length=r})},Fu=n=>{let e=new un;for(let t=0;t<n.length;t++)n[t].clients.forEach((r,s)=>{if(!e.clients.has(s)){let i=r.slice();for(let o=t+1;o<n.length;o++)Kc(i,n[o].clients.get(s)||[]);e.clients.set(s,i)}});return Fo(e),e},$o=(n,e,t,r)=>{yt(n.clients,e,()=>[]).push(new ko(t,r))},v0=()=>new un,w0=(n,e)=>{F(n.restEncoder,e.clients.size),xt(e.clients.entries()).sort((t,r)=>r[0]-t[0]).forEach(([t,r])=>{n.resetDsCurVal(),F(n.restEncoder,t);let s=r.length;F(n.restEncoder,s);for(let i=0;i<s;i++){let o=r[i];n.writeDsClock(o.clock),n.writeDsLen(o.len)}})},eh=ho,at=class extends Ut{constructor({guid:e=_u(),collectionid:t=null,gc:r=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=eh(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new Do,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=mo(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});let l=()=>mo(c=>{let u=h=>{(h===void 0||h===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=l()}load(){let e=this._item;e!==null&&!this.shouldLoad&&V(e.parent.doc,t=>{t.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(xt(this.subdocs).map(e=>e.guid))}transact(e,t=null){return V(this,e,t)}get(e,t=te){let r=yt(this.share,e,()=>{let i=new t;return i._integrate(this,null),i}),s=r.constructor;if(t!==te&&s!==t)if(s===te){let i=new t;i._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=r._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=r._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,zt)}getText(e=""){return this.get(e,mn)}getMap(e=""){return this.get(e,fn)}getXmlFragment(e=""){return this.get(e,St)}toJSON(){let e={};return this.share.forEach((t,r)=>{e[r]=t.toJSON()}),e}destroy(){xt(this.subdocs).forEach(t=>t.destroy());let e=this._item;if(e!==null){this._item=null;let t=e.content;t.doc=new at({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,V(e.parent.doc,r=>{let s=t.doc;e.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}},So=class{constructor(){this.restEncoder=Wr()}toUint8Array(){return Ze(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){F(this.restEncoder,e)}writeDsLen(e){F(this.restEncoder,e)}},Co=class extends So{writeLeftID(e){F(this.restEncoder,e.client),F(this.restEncoder,e.clock)}writeRightID(e){F(this.restEncoder,e.client),F(this.restEncoder,e.clock)}writeClient(e){F(this.restEncoder,e)}writeInfo(e){Kr(this.restEncoder,e)}writeString(e){Ft(this.restEncoder,e)}writeParentInfo(e){F(this.restEncoder,e?1:0)}writeTypeRef(e){F(this.restEncoder,e)}writeLen(e){F(this.restEncoder,e)}writeAny(e){on(this.restEncoder,e)}writeBuf(e){_e(this.restEncoder,e)}writeJSON(e){Ft(this.restEncoder,JSON.stringify(e))}writeKey(e){Ft(this.restEncoder,e)}},Eo=class{constructor(){this.restEncoder=Wr(),this.dsCurrVal=0}toUint8Array(){return Ze(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,F(this.restEncoder,t)}writeDsLen(e){e===0&&wt(),F(this.restEncoder,e-1),this.dsCurrVal+=e}},Ao=class extends Eo{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new an,this.clientEncoder=new $t,this.leftClockEncoder=new an,this.rightClockEncoder=new an,this.infoEncoder=new zn(Kr),this.stringEncoder=new Jr,this.parentInfoEncoder=new zn(Kr),this.typeRefEncoder=new $t,this.lenEncoder=new $t}toUint8Array(){let e=Wr();return F(e,0),_e(e,this.keyClockEncoder.toUint8Array()),_e(e,this.clientEncoder.toUint8Array()),_e(e,this.leftClockEncoder.toUint8Array()),_e(e,this.rightClockEncoder.toUint8Array()),_e(e,Ze(this.infoEncoder)),_e(e,this.stringEncoder.toUint8Array()),_e(e,Ze(this.parentInfoEncoder)),_e(e,this.typeRefEncoder.toUint8Array()),_e(e,this.lenEncoder.toUint8Array()),Qr(e,Ze(this.restEncoder)),Ze(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){on(this.restEncoder,e)}writeBuf(e){_e(this.restEncoder,e)}writeJSON(e){on(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}},_0=(n,e,t,r)=>{r=vt(r,e[0].id.clock);let s=lt(e,r);F(n.restEncoder,e.length-s),n.writeClient(t),F(n.restEncoder,r);let i=e[s];i.write(n,r-i.id.clock);for(let o=s+1;o<e.length;o++)e[o].write(n,0)},k0=(n,e,t)=>{let r=new Map;t.forEach((s,i)=>{pe(e,i)>s&&r.set(i,s)}),Vo(e).forEach((s,i)=>{t.has(i)||r.set(i,0)}),F(n.restEncoder,r.size),xt(r.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{_0(n,e.clients.get(s),s,i)})},S0=(n,e)=>k0(n,e.doc.store,e.beforeState),Oo=class{constructor(){this.l=[]}},$u=()=>new Oo,Vu=(n,e)=>n.l.push(e),zu=(n,e)=>{let t=n.l,r=t.length;n.l=t.filter(s=>e!==s),r===n.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},th=(n,e,t)=>Fn(n.l,[e,t]),cn=class{constructor(e,t){this.client=e,this.clock=t}},es=(n,e)=>n===e||n!==null&&e!==null&&n.client===e.client&&n.clock===e.clock,q=(n,e)=>new cn(n,e),C0=n=>{for(let[e,t]of n.doc.share.entries())if(t===n)return e;throw wt()},is=(n,e)=>{for(;e!==null;){if(e.parent===n)return!0;e=e.parent._item}return!1},To=class{constructor(e,t){this.ds=e,this.sv=t}},E0=(n,e)=>new To(n,e),Cw=E0(v0(),new Map),Jn=(n,e)=>e===void 0?!n.deleted:e.sv.has(n.id.client)&&(e.sv.get(n.id.client)||0)>n.id.clock&&!Xn(e.ds,n.id),No=(n,e)=>{let t=yt(n.meta,No,ot),r=n.doc.store;t.has(e)||(e.sv.forEach((s,i)=>{s<pe(r,i)&&ke(n,q(i,s))}),hn(n,e.ds,s=>{}),t.add(e))},Do=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},Vo=n=>{let e=new Map;return n.clients.forEach((t,r)=>{let s=t[t.length-1];e.set(r,s.id.clock+s.length)}),e},pe=(n,e)=>{let t=n.clients.get(e);if(t===void 0)return 0;let r=t[t.length-1];return r.id.clock+r.length},nh=(n,e)=>{let t=n.clients.get(e.id.client);if(t===void 0)t=[],n.clients.set(e.id.client,t);else{let r=t[t.length-1];if(r.id.clock+r.length!==e.id.clock)throw wt()}t.push(e)},lt=(n,e)=>{let t=0,r=n.length-1,s=n[r],i=s.id.clock;if(i===e)return r;let o=Ve(e/(i+s.length-1)*r);for(;t<=r;){if(s=n[o],i=s.id.clock,i<=e){if(e<i+s.length)return o;t=o+1}else r=o-1;o=Ve((t+r)/2)}throw wt()},A0=(n,e)=>{let t=n.clients.get(e.client);return t[lt(t,e.clock)]},rs=A0,Mo=(n,e,t)=>{let r=lt(e,t),s=e[r];return s.id.clock<t&&s instanceof G?(e.splice(r+1,0,vh(n,s,t-s.id.clock)),r+1):r},ke=(n,e)=>{let t=n.doc.store.clients.get(e.client);return t[Mo(n,t,e.clock)]},qu=(n,e,t)=>{let r=e.clients.get(t.client),s=lt(r,t.clock),i=r[s];return t.clock!==i.id.clock+i.length-1&&i.constructor!==nt&&r.splice(s+1,0,vh(n,i,t.clock-i.id.clock+1)),i},O0=(n,e,t)=>{let r=n.clients.get(e.id.client);r[lt(r,e.id.clock)]=t},rh=(n,e,t,r,s)=>{if(r===0)return;let i=t+r,o=Mo(n,e,t),a;do a=e[o++],i<a.id.clock+a.length&&Mo(n,e,i),s(a);while(o<e.length&&e[o].id.clock<i)},Io=class{constructor(e,t,r){this.doc=e,this.deleteSet=new un,this.beforeState=Vo(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},Gu=(n,e)=>e.deleteSet.clients.size===0&&!Wc(e.afterState,(t,r)=>e.beforeState.get(r)!==t)?!1:(Fo(e.deleteSet),S0(n,e),w0(n,e.deleteSet),!0),Hu=(n,e,t)=>{let r=e._item;(r===null||r.id.clock<(n.beforeState.get(r.id.client)||0)&&!r.deleted)&&yt(n.changed,e,ot).add(t)},ss=(n,e)=>{let t=n[e],r=n[e-1],s=e;for(;s>0;t=r,r=n[--s-1]){if(r.deleted===t.deleted&&r.constructor===t.constructor&&r.mergeWith(t)){t instanceof G&&t.parentSub!==null&&t.parent._map.get(t.parentSub)===t&&t.parent._map.set(t.parentSub,r);continue}break}let i=e-s;return i&&n.splice(e+1-i,i),i},T0=(n,e,t)=>{for(let[r,s]of n.clients.entries()){let i=e.clients.get(r);for(let o=s.length-1;o>=0;o--){let a=s[o],l=a.clock+a.len;for(let c=lt(i,a.clock),u=i[c];c<i.length&&u.id.clock<l;u=i[++c]){let h=i[c];if(a.clock+a.len<=h.id.clock)break;h instanceof G&&h.deleted&&!h.keep&&t(h)&&h.gc(e,!1)}}}},N0=(n,e)=>{n.clients.forEach((t,r)=>{let s=e.clients.get(r);for(let i=t.length-1;i>=0;i--){let o=t[i],a=qr(s.length-1,1+lt(s,o.clock+o.len-1));for(let l=a,c=s[l];l>0&&c.id.clock>=o.clock;c=s[l])l-=1+ss(s,l)}})},sh=(n,e)=>{if(e<n.length){let t=n[e],r=t.doc,s=r.store,i=t.deleteSet,o=t._mergeStructs;try{Fo(i),t.afterState=Vo(t.doc.store),r.emit("beforeObserverCalls",[t,r]);let a=[];t.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(t,l)})),a.push(()=>{t.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,h)=>u.path.length-h.path.length),th(c._dEH,l,t))})}),a.push(()=>r.emit("afterTransaction",[t,r])),Fn(a,[]),t._needFormattingCleanup&&B0(t)}finally{r.gc&&T0(i,s,r.gcFilter),N0(i,s),t.afterState.forEach((u,h)=>{let d=t.beforeState.get(h)||0;if(d!==u){let f=s.clients.get(h),p=vt(lt(f,d),1);for(let m=f.length-1;m>=p;)m-=1+ss(f,m)}});for(let u=o.length-1;u>=0;u--){let{client:h,clock:d}=o[u].id,f=s.clients.get(h),p=lt(f,d);p+1<f.length&&ss(f,p+1)>1||p>0&&ss(f,p)}if(!t.local&&t.afterState.get(r.clientID)!==t.beforeState.get(r.clientID)&&(Du(ln,qn,"[yjs] ",Gn,Hn,"Changed the client-id because another client seems to be using it."),r.clientID=eh()),r.emit("afterTransactionCleanup",[t,r]),r._observers.has("update")){let u=new Co;Gu(u,t)&&r.emit("update",[u.toUint8Array(),t.origin,r,t])}if(r._observers.has("updateV2")){let u=new Ao;Gu(u,t)&&r.emit("updateV2",[u.toUint8Array(),t.origin,r,t])}let{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=t;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,t]),c.forEach(u=>u.destroy())),n.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,n])):sh(n,e+1)}}},V=(n,e,t=null,r=!0)=>{let s=n._transactionCleanups,i=!1,o=null;n._transaction===null&&(i=!0,n._transaction=new Io(n,t,r),s.push(n._transaction),s.length===1&&n.emit("beforeAllTransactions",[n]),n.emit("beforeTransaction",[n._transaction,n]));try{o=e(n._transaction)}finally{if(i){let a=n._transaction===s[0];n._transaction=null,a&&sh(s,0)}}return o},Lo=class{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}},Ju=(n,e,t)=>{hn(n,t.deletions,r=>{r instanceof G&&e.scope.some(s=>is(s,r))&&Ho(r,!1)})},Wu=(n,e,t)=>{let r=null,s=null,i=n.doc,o=n.scope;if(V(i,a=>{for(;e.length>0&&r===null;){let l=i.store,c=e.pop(),u=new Set,h=[],d=!1;hn(a,c.insertions,f=>{if(f instanceof G){if(f.redone!==null){let{item:p,diff:m}=H0(l,f.id);m>0&&(p=ke(a,q(p.id.client,p.id.clock+m))),f=p}!f.deleted&&o.some(p=>is(p,f))&&h.push(f)}}),hn(a,c.deletions,f=>{f instanceof G&&o.some(p=>is(p,f))&&!Xn(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{d=wh(a,f,u,c.insertions,n.ignoreRemoteMapChanges,n)!==null||d});for(let f=h.length-1;f>=0;f--){let p=h[f];n.deleteFilter(p)&&(p.delete(a),d=!0)}r=d?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),s=a},n),r!=null){let a=s.changedParentTypes;n.emit("stack-item-popped",[{stackItem:r,type:t,changedParentTypes:a},n])}return r},os=class extends Ut{constructor(e,{captureTimeout:t=500,captureTransaction:r=l=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=jn(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(y=>l.changedParentTypes.has(y))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;let c=this.undoing,u=this.redoing,h=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);let d=new un;l.afterState.forEach((y,g)=>{let b=l.beforeState.get(g)||0,_=y-b;_>0&&$o(d,g,b,_)});let f=_t(),p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&h.length>0&&!c&&!u){let y=h[h.length-1];y.deletions=Fu([y.deletions,l.deleteSet]),y.insertions=Fu([y.insertions,d])}else h.push(new Lo(l.deleteSet,d)),p=!0;!c&&!u&&(this.lastChange=f),hn(l,l.deleteSet,y=>{y instanceof G&&this.scope.some(g=>is(g,y))&&Ho(y,!0)});let m=[{stackItem:h[h.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",m):this.emit("stack-item-updated",m)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=jn(e)?e:[e],e.forEach(t=>{this.scope.every(r=>r!==t)&&(t.doc!==this.doc&&Mu("[yjs#509] Not same Y.Doc"),this.scope.push(t))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(s=>Ju(r,this,s)),this.undoStack=[]),t&&(this.redoStack.forEach(s=>Ju(r,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=Wu(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=Wu(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}},Ku="You must not compute changes after the event-handler fired.",dn=class{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=D0(this.currentTarget,this.target))}deletes(e){return Xn(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Bt(Ku);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(s=>{if(s!==null){let i=t._map.get(s),o,a;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))o="delete",a=Vr(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=Vr(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=Vr(i.content.getContent());else return;e.set(s,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Bt(Ku);let t=this.target,r=ot(),s=ot(),i=[];if(e={added:r,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let a=null,l=()=>{a&&i.push(a)};for(let c=t._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,s.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}},D0=(n,e)=>{let t=[];for(;e._item!==null&&e!==n;){if(e._item.parentSub!==null)t.unshift(e._item.parentSub);else{let r=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)s.deleted||r++,s=s.right;t.unshift(r)}e=e._item.parent}return t},ih=80,zo=0,Ro=class{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=zo++}},M0=n=>{n.timestamp=zo++},oh=(n,e,t)=>{n.p.marker=!1,n.p=e,e.marker=!0,n.index=t,n.timestamp=zo++},I0=(n,e,t)=>{if(n.length>=ih){let r=n.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return oh(r,e,t),r}else{let r=new Ro(e,t);return n.push(r),r}},us=(n,e)=>{if(n._start===null||e===0||n._searchMarker===null)return null;let t=n._searchMarker.length===0?null:n._searchMarker.reduce((i,o)=>rn(e-i.index)<rn(e-o.index)?i:o),r=n._start,s=0;for(t!==null&&(r=t.p,s=t.index,M0(t));r.right!==null&&s<e;){if(!r.deleted&&r.countable){if(e<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>e;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return t!==null&&rn(t.index-s)<r.parent.length/ih?(oh(t,r,s),t):I0(n._searchMarker,r,s)},Kn=(n,e,t)=>{for(let r=n.length-1;r>=0;r--){let s=n[r];if(t>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){n.splice(r,1);continue}s.p=i,i.marker=!0}(e<s.index||t>0&&e===s.index)&&(s.index=vt(e,s.index+t))}},hs=(n,e,t)=>{let r=n,s=e.changedParentTypes;for(;yt(s,n,()=>[]).push(t),n._item!==null;)n=n._item.parent;th(r._eH,t,e)},te=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$u(),this._dEH=$u(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw He()}clone(){throw He()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Vu(this._eH,e)}observeDeep(e){Vu(this._dEH,e)}unobserve(e){zu(this._eH,e)}unobserveDeep(e){zu(this._dEH,e)}toJSON(){}},ah=(n,e,t)=>{e<0&&(e=n._length+e),t<0&&(t=n._length+t);let r=t-e,s=[],i=n._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){let o=i.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&r>0;a++)s.push(o[a]),r--;e=0}}i=i.right}return s},lh=n=>{let e=[],t=n._start;for(;t!==null;){if(t.countable&&!t.deleted){let r=t.content.getContent();for(let s=0;s<r.length;s++)e.push(r[s])}t=t.right}return e},Yn=(n,e)=>{let t=0,r=n._start;for(;r!==null;){if(r.countable&&!r.deleted){let s=r.content.getContent();for(let i=0;i<s.length;i++)e(s[i],t++,n)}r=r.right}},ch=(n,e)=>{let t=[];return Yn(n,(r,s)=>{t.push(e(r,s,n))}),t},L0=n=>{let e=n._start,t=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(t===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};t=e.content.getContent(),r=0,e=e.right}let s=t[r++];return t.length<=r&&(t=null),{done:!1,value:s}}}},uh=(n,e)=>{let t=us(n,e),r=n._start;for(t!==null&&(r=t.p,e-=t.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},as=(n,e,t,r)=>{let s=t,i=n.doc,o=i.clientID,a=i.store,l=t===null?e._start:t.right,c=[],u=()=>{c.length>0&&(s=new G(q(o,pe(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new Et(c)),s.integrate(n,0),c=[])};r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(u(),h.constructor){case Uint8Array:case ArrayBuffer:s=new G(q(o,pe(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new gn(new Uint8Array(h))),s.integrate(n,0);break;case at:s=new G(q(o,pe(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new yn(h)),s.integrate(n,0);break;default:if(h instanceof te)s=new G(q(o,pe(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new rt(h)),s.integrate(n,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},hh=()=>Bt("Length exceeded!"),dh=(n,e,t,r)=>{if(t>e._length)throw hh();if(t===0)return e._searchMarker&&Kn(e._searchMarker,t,r.length),as(n,e,null,r);let s=t,i=us(e,t),o=e._start;for(i!==null&&(o=i.p,t-=i.index,t===0&&(o=o.prev,t+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(t<=o.length){t<o.length&&ke(n,q(o.id.client,o.id.clock+t));break}t-=o.length}return e._searchMarker&&Kn(e._searchMarker,s,r.length),as(n,e,o,r)},R0=(n,e,t)=>{let s=(e._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return as(n,e,s,t)},fh=(n,e,t,r)=>{if(r===0)return;let s=t,i=r,o=us(e,t),a=e._start;for(o!==null&&(a=o.p,t-=o.index);a!==null&&t>0;a=a.right)!a.deleted&&a.countable&&(t<a.length&&ke(n,q(a.id.client,a.id.clock+t)),t-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&ke(n,q(a.id.client,a.id.clock+r)),a.delete(n),r-=a.length),a=a.right;if(r>0)throw hh();e._searchMarker&&Kn(e._searchMarker,s,-i+r)},ls=(n,e,t)=>{let r=e._map.get(t);r!==void 0&&r.delete(n)},qo=(n,e,t,r)=>{let s=e._map.get(t)||null,i=n.doc,o=i.clientID,a;if(r==null)a=new Et([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Et([r]);break;case Uint8Array:a=new gn(r);break;case at:a=new yn(r);break;default:if(r instanceof te)a=new rt(r);else throw new Error("Unexpected content type")}new G(q(o,pe(i.store,o)),s,s&&s.lastId,null,null,e,t,a).integrate(n,0)},Go=(n,e)=>{let t=n._map.get(e);return t!==void 0&&!t.deleted?t.content.getContent()[t.length-1]:void 0},mh=n=>{let e={};return n._map.forEach((t,r)=>{t.deleted||(e[r]=t.content.getContent()[t.length-1])}),e},ph=(n,e)=>{let t=n._map.get(e);return t!==void 0&&!t.deleted},ts=n=>ju(n.entries(),e=>!e[1].deleted),jo=class extends dn{constructor(e,t){super(e,t),this._transaction=t}},zt=class extends te{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){let t=new zt;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new zt}clone(){let e=new zt;return e.insert(0,this.toArray().map(t=>t instanceof te?t.clone():t)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),hs(this,e,new jo(this,e))}insert(e,t){this.doc!==null?V(this.doc,r=>{dh(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){this.doc!==null?V(this.doc,t=>{R0(t,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){this.doc!==null?V(this.doc,r=>{fh(r,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return uh(this,e)}toArray(){return lh(this)}slice(e=0,t=this.length){return ah(this,e,t)}toJSON(){return this.map(e=>e instanceof te?e.toJSON():e)}map(e){return ch(this,e)}forEach(e){Yn(this,e)}[Symbol.iterator](){return L0(this)}_write(e){e.writeTypeRef($0)}},Uo=class extends dn{constructor(e,t,r){super(e,t),this.keysChanged=r}},fn=class extends te{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new fn}clone(){let e=new fn;return this.forEach((t,r)=>{e.set(r,t instanceof te?t.clone():t)}),e}_callObserver(e,t){hs(this,e,new Uo(this,e,t))}toJSON(){let e={};return this._map.forEach((t,r)=>{if(!t.deleted){let s=t.content.getContent()[t.length-1];e[r]=s instanceof te?s.toJSON():s}}),e}get size(){return[...ts(this._map)].length}keys(){return Zr(ts(this._map),e=>e[0])}values(){return Zr(ts(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Zr(ts(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((t,r)=>{t.deleted||e(t.content.getContent()[t.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?V(this.doc,t=>{ls(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return this.doc!==null?V(this.doc,r=>{qo(r,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return Go(this,e)}has(e){return ph(this,e)}clear(){this.doc!==null?V(this.doc,e=>{this.forEach(function(t,r,s){ls(e,s,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(V0)}},kt=(n,e)=>n===e||typeof n=="object"&&typeof e=="object"&&n&&e&&no(n,e),Qn=class{constructor(e,t,r,s){this.left=e,this.right=t,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&wt(),this.right.content.constructor){case X:this.right.deleted||xn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},Yu=(n,e,t)=>{for(;e.right!==null&&t>0;){switch(e.right.content.constructor){case X:e.right.deleted||xn(e.currentAttributes,e.right.content);break;default:e.right.deleted||(t<e.right.length&&ke(n,q(e.right.id.client,e.right.id.clock+t)),e.index+=e.right.length,t-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},ns=(n,e,t)=>{let r=new Map,s=us(e,t);if(s){let i=new Qn(s.p.left,s.p,s.index,r);return Yu(n,i,t-s.index)}else{let i=new Qn(null,e._start,0,r);return Yu(n,i,t)}},gh=(n,e,t,r)=>{for(;t.right!==null&&(t.right.deleted===!0||t.right.content.constructor===X&&kt(r.get(t.right.content.key),t.right.content.value));)t.right.deleted||r.delete(t.right.content.key),t.forward();let s=n.doc,i=s.clientID;r.forEach((o,a)=>{let l=t.left,c=t.right,u=new G(q(i,pe(s.store,i)),l,l&&l.lastId,c,c&&c.id,e,null,new X(a,o));u.integrate(n,0),t.right=u,t.forward()})},xn=(n,e)=>{let{key:t,value:r}=e;r===null?n.delete(t):n.set(t,r)},bh=(n,e)=>{for(;n.right!==null;){if(!(n.right.deleted||n.right.content.constructor===X&&kt(e[n.right.content.key]||null,n.right.content.value)))break;n.forward()}},yh=(n,e,t,r)=>{let s=n.doc,i=s.clientID,o=new Map;for(let a in r){let l=r[a],c=t.currentAttributes.get(a)||null;if(!kt(c,l)){o.set(a,c);let{left:u,right:h}=t;t.right=new G(q(i,pe(s.store,i)),u,u&&u.lastId,h,h&&h.id,e,null,new X(a,l)),t.right.integrate(n,0),t.forward()}}return o},_o=(n,e,t,r,s)=>{t.currentAttributes.forEach((d,f)=>{s[f]===void 0&&(s[f]=null)});let i=n.doc,o=i.clientID;bh(t,s);let a=yh(n,e,t,s),l=r.constructor===String?new Je(r):r instanceof te?new rt(r):new Ct(r),{left:c,right:u,index:h}=t;e._searchMarker&&Kn(e._searchMarker,t.index,l.getLength()),u=new G(q(o,pe(i.store,o)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(n,0),t.right=u,t.index=h,t.forward(),gh(n,e,t,a)},Qu=(n,e,t,r,s)=>{let i=n.doc,o=i.clientID;bh(t,s);let a=yh(n,e,t,s);e:for(;t.right!==null&&(r>0||a.size>0&&(t.right.deleted||t.right.content.constructor===X));){if(!t.right.deleted)switch(t.right.content.constructor){case X:{let{key:l,value:c}=t.right.content,u=s[l];if(u!==void 0){if(kt(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}t.right.delete(n)}else t.currentAttributes.set(l,c);break}default:r<t.right.length&&ke(n,q(t.right.id.client,t.right.id.clock+r)),r-=t.right.length;break}t.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;t.right=new G(q(o,pe(i.store,o)),t.left,t.left&&t.left.lastId,t.right,t.right&&t.right.id,e,null,new Je(l)),t.right.integrate(n,0),t.forward()}gh(n,e,t,a)},xh=(n,e,t,r,s)=>{let i=e,o=we();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===X){let c=i.content;o.set(c.key,c)}i=i.right}let a=0,l=!1;for(;e!==i;){if(t===e&&(l=!0),!e.deleted){let c=e.content;switch(c.constructor){case X:{let{key:u,value:h}=c,d=r.get(u)||null;(o.get(u)!==c||d===h)&&(e.delete(n),a++,!l&&(s.get(u)||null)===h&&d!==h&&(d===null?s.delete(u):s.set(u,d))),!l&&!e.deleted&&xn(s,c);break}}}e=e.right}return a},j0=(n,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;let t=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===X){let r=e.content.key;t.has(r)?e.delete(n):t.add(r)}e=e.left}},U0=n=>{let e=0;return V(n.doc,t=>{let r=n._start,s=n._start,i=we(),o=Fr(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case X:xn(o,s.content);break;default:e+=xh(t,r,s,i,o),i=Fr(o),r=s;break}s=s.right}}),e},B0=n=>{let e=new Set,t=n.doc;for(let[r,s]of n.afterState.entries()){let i=n.beforeState.get(r)||0;s!==i&&rh(n,t.store.clients.get(r),i,s,o=>{!o.deleted&&o.content.constructor===X&&o.constructor!==nt&&e.add(o.parent)})}V(t,r=>{hn(n,n.deleteSet,s=>{if(s instanceof nt||!s.parent._hasFormatting||e.has(s.parent))return;let i=s.parent;s.content.constructor===X?e.add(i):j0(r,s)});for(let s of e)U0(s)})},Xu=(n,e,t)=>{let r=t,s=Fr(e.currentAttributes),i=e.right;for(;t>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case rt:case Ct:case Je:t<e.right.length&&ke(n,q(e.right.id.client,e.right.id.clock+t)),t-=e.right.length,e.right.delete(n);break}e.forward()}i&&xh(n,i,e.right,s,e.currentAttributes);let o=(e.left||e.right).parent;return o._searchMarker&&Kn(o._searchMarker,e.index,-r+t),e},Bo=class extends dn{constructor(e,t,r){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){let e=this.target.doc,t=[];V(e,r=>{let s=new Map,i=new Map,o=this.target._start,a=null,l={},c="",u=0,h=0,d=()=>{if(a!==null){let f=null;switch(a){case"delete":h>0&&(f={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},s.size>0&&(f.attributes={},s.forEach((p,m)=>{p!==null&&(f.attributes[m]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},ou(l)||(f.attributes=su({},l))),u=0;break}f&&t.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case rt:case Ct:this.adds(o)?this.deletes(o)||(d(),a="insert",c=o.content.getContent()[0],d()):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),h+=1):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=1);break;case Je:this.adds(o)?this.deletes(o)||(a!=="insert"&&(d(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),h+=o.length):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=o.length);break;case X:{let{key:f,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){let m=s.get(f)||null;kt(m,p)?p!==null&&o.delete(r):(a==="retain"&&d(),kt(p,i.get(f)||null)?delete l[f]:l[f]=p)}}else if(this.deletes(o)){i.set(f,p);let m=s.get(f)||null;kt(m,p)||(a==="retain"&&d(),l[f]=m)}else if(!o.deleted){i.set(f,p);let m=l[f];m!==void 0&&(kt(m,p)?m!==null&&o.delete(r):(a==="retain"&&d(),p===null?delete l[f]:l[f]=p))}o.deleted||(a==="insert"&&d(),xn(s,o.content));break}}o=o.right}for(d();t.length>0;){let f=t[t.length-1];if(f.retain!==void 0&&f.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}},mn=class extends te{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new mn}clone(){let e=new mn;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);let r=new Bo(this,e,t);hs(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",t=this._start;for(;t!==null;)!t.deleted&&t.countable&&t.content.constructor===Je&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){this.doc!==null?V(this.doc,r=>{let s=new Qn(null,this._start,0,new Map);for(let i=0;i<e.length;i++){let o=e[i];if(o.insert!==void 0){let a=!t&&typeof o.insert=="string"&&i===e.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&_o(r,this,s,a,o.attributes||{})}else o.retain!==void 0?Qu(r,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&Xu(r,s,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,r){let s=[],i=new Map,o=this.doc,a="",l=this._start;function c(){if(a.length>0){let h={},d=!1;i.forEach((p,m)=>{d=!0,h[m]=p});let f={insert:a};d&&(f.attributes=h),s.push(f),a=""}}let u=()=>{for(;l!==null;){if(Jn(l,e)||t!==void 0&&Jn(l,t))switch(l.content.constructor){case Je:{let h=i.get("ychange");e!==void 0&&!Jn(l,e)?(h===void 0||h.user!==l.id.client||h.type!=="removed")&&(c(),i.set("ychange",r?r("removed",l.id):{type:"removed"})):t!==void 0&&!Jn(l,t)?(h===void 0||h.user!==l.id.client||h.type!=="added")&&(c(),i.set("ychange",r?r("added",l.id):{type:"added"})):h!==void 0&&(c(),i.delete("ychange")),a+=l.content.str;break}case rt:case Ct:{c();let h={insert:l.content.getContent()[0]};if(i.size>0){let d={};h.attributes=d,i.forEach((f,p)=>{d[p]=f})}s.push(h);break}case X:Jn(l,e)&&(c(),xn(i,l.content));break}l=l.right}c()};return e||t?V(o,h=>{e&&No(h,e),t&&No(h,t),u()},"cleanup"):u(),s}insert(e,t,r){if(t.length<=0)return;let s=this.doc;s!==null?V(s,i=>{let o=ns(i,this,e);r||(r={},o.currentAttributes.forEach((a,l)=>{r[l]=a})),_o(i,this,o,t,r)}):this._pending.push(()=>this.insert(e,t,r))}insertEmbed(e,t,r={}){let s=this.doc;s!==null?V(s,i=>{let o=ns(i,this,e);_o(i,this,o,t,r)}):this._pending.push(()=>this.insertEmbed(e,t,r))}delete(e,t){if(t===0)return;let r=this.doc;r!==null?V(r,s=>{Xu(s,ns(s,this,e),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,r){if(t===0)return;let s=this.doc;s!==null?V(s,i=>{let o=ns(i,this,e);o.right!==null&&Qu(i,this,o,t,r)}):this._pending.push(()=>this.format(e,t,r))}removeAttribute(e){this.doc!==null?V(this.doc,t=>{ls(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){this.doc!==null?V(this.doc,r=>{qo(r,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return Go(this,e)}getAttributes(){return mh(this)}_write(e){e.writeTypeRef(z0)}},Wn=class{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===pn||t.constructor===St)&&t._start!==null)e=t._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},St=class extends te{constructor(){super(),this._prelimContent=[]}get firstChild(){let e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new St}clone(){let e=new St;return e.insert(0,this.toArray().map(t=>t instanceof te?t.clone():t)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Wn(this,e)}querySelector(e){e=e.toUpperCase();let r=new Wn(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),xt(new Wn(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){hs(this,e,new Po(this,t,e))}toString(){return ch(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},r){let s=e.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),Yn(this,i=>{s.insertBefore(i.toDOM(e,t,r),null)}),s}insert(e,t){this.doc!==null?V(this.doc,r=>{dh(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(this.doc!==null)V(this.doc,r=>{let s=e&&e instanceof te?e._item:e;as(r,this,s,t)});else{let r=this._prelimContent,s=e===null?0:r.findIndex(i=>i===e)+1;if(s===0&&e!==null)throw Bt("Reference item not found");r.splice(s,0,...t)}}delete(e,t=1){this.doc!==null?V(this.doc,r=>{fh(r,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return lh(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return uh(this,e)}slice(e=0,t=this.length){return ah(this,e,t)}forEach(e){Yn(this,e)}_write(e){e.writeTypeRef(G0)}},pn=class extends St{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new pn(this.nodeName)}clone(){let e=new pn(this.nodeName),t=this.getAttributes();return iu(t,(r,s)=>{typeof r=="string"&&e.setAttribute(s,r)}),e.insert(0,this.toArray().map(r=>r instanceof te?r.clone():r)),e}toString(){let e=this.getAttributes(),t=[],r=[];for(let a in e)r.push(a);r.sort();let s=r.length;for(let a=0;a<s;a++){let l=r[a];t.push(l+'="'+e[l]+'"')}let i=this.nodeName.toLocaleLowerCase(),o=t.length>0?" "+t.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?V(this.doc,t=>{ls(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){this.doc!==null?V(this.doc,r=>{qo(r,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return Go(this,e)}hasAttribute(e){return ph(this,e)}getAttributes(){return mh(this)}toDOM(e=document,t={},r){let s=e.createElement(this.nodeName),i=this.getAttributes();for(let o in i){let a=i[o];typeof a=="string"&&s.setAttribute(o,a)}return Yn(this,o=>{s.appendChild(o.toDOM(e,t,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(q0),e.writeKey(this.nodeName)}},Po=class extends dn{constructor(e,t,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}},cs=class{constructor(e,t){this.id=e,this.length=t}get deleted(){throw He()}mergeWith(e){return!1}write(e,t,r){throw He()}integrate(e,t){throw He()}},P0=0,nt=class extends cs{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),nh(e.doc.store,this)}write(e,t){e.writeInfo(P0),e.writeLen(this.length-t)}getMissing(e,t){return null}},gn=class{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new gn(this.content)}splice(e){throw He()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}},bn=class{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new bn(this.len)}splice(e){let t=new bn(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){$o(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}},F0=(n,e)=>new at({guid:n,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),yn=class{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;let t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),e.meta!==null&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new yn(F0(this.doc.guid,this.opts))}splice(e){throw He()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}},Ct=class{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ct(this.embed)}splice(e){throw He()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}},X=class{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new X(this.key,this.value)}splice(e){throw He()}mergeWith(e){return!1}integrate(e,t){let r=t.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}},Et=class{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Et(this.arr)}splice(e){let t=new Et(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let r=this.arr.length;e.writeLen(r-t);for(let s=t;s<r;s++){let i=this.arr[s];e.writeAny(i)}}getRef(){return 8}},Je=class{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Je(this.str)}splice(e){let t=new Je(this.str.slice(e));this.str=this.str.slice(0,e);let r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",t.str="\uFFFD"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(t===0?this.str:this.str.slice(t))}getRef(){return 4}},$0=0,V0=1,z0=2,q0=3,G0=4,rt=class{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new rt(this.type._copy())}splice(e){throw He()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;t!==null;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;t!==null;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}},H0=(n,e)=>{let t=e,r=0,s;do r>0&&(t=q(t.client,t.clock+r)),s=rs(n,t),r=t.clock-s.id.clock,t=s.redone;while(t!==null&&s instanceof G);return{item:s,diff:r}},Ho=(n,e)=>{for(;n!==null&&n.keep!==e;)n.keep=e,n=n.parent._item},vh=(n,e,t)=>{let{client:r,clock:s}=e.id,i=new G(q(r,s+t),e,q(r,s+t-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=q(e.redone.client,e.redone.clock+t)),e.right=i,i.right!==null&&(i.right.left=i),n._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=t,i},Zu=(n,e)=>Yc(n,t=>Xn(t.deletions,e)),wh=(n,e,t,r,s,i)=>{let o=n.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return ke(n,c);let u=e.parent._item,h=null,d;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!t.has(u)||wh(n,u,t,r,s,i)===null))return null;for(;u.redone!==null;)u=ke(n,u.redone)}let f=u===null?e.parent:u.content.type;if(e.parentSub===null){for(h=e.left,d=e;h!==null;){let g=h;for(;g!==null&&g.parent._item!==u;)g=g.redone===null?null:ke(n,g.redone);if(g!==null&&g.parent._item===u){h=g;break}h=h.left}for(;d!==null;){let g=d;for(;g!==null&&g.parent._item!==u;)g=g.redone===null?null:ke(n,g.redone);if(g!==null&&g.parent._item===u){d=g;break}d=d.right}}else if(d=null,e.right&&!s){for(h=e;h!==null&&h.right!==null&&(h.right.redone||Xn(r,h.right.id)||Zu(i.undoStack,h.right.id)||Zu(i.redoStack,h.right.id));)for(h=h.right;h.redone;)h=ke(n,h.redone);if(h&&h.right!==null)return null}else h=f._map.get(e.parentSub)||null;let p=pe(a,l),m=q(l,p),y=new G(m,h,h&&h.lastId,d,d&&d.id,f,e.parentSub,e.content.copy());return e.redone=m,Ho(y,!0),y.integrate(n,0),y},G=class extends cs{constructor(e,t,r,s,i,o,a,l){super(e,l.getLength()),this.origin=r,this.left=t,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?2:0}set marker(e){(this.info&8)>0!==e&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=pe(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=pe(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===cn&&this.id.client!==this.parent.client&&this.parent.clock>=pe(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=qu(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=ke(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===nt||this.right&&this.right.constructor===nt)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===G&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===G&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===cn){let r=rs(t,this.parent);r.constructor===nt?this.parent=null:this.parent=r.content.type}return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=qu(e,e.doc.store,q(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;let i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),es(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,i.clear();else if(es(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(rs(e.doc.store,s.origin)))i.has(rs(e.doc.store,s.origin))||(r=s,i.clear());else break;s=s.right}this.left=r}if(this.left!==null){let r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),nh(e.doc.store,this),this.content.integrate(e,this),Hu(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new nt(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:q(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&es(e.origin,this.lastId)&&this.right===e&&es(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){let t=this.parent._searchMarker;return t&&t.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){let t=this.parent;this.countable&&this.parentSub===null&&(t._length-=this.length),this.markDeleted(),$o(e.deleteSet,this.id.client,this.id.clock,this.length),Hu(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw wt();this.content.gc(e),t?O0(e,this,new nt(this.id,this.length)):this.content=new bn(this.length)}write(e,t){let r=t>0?q(this.id.client,this.id.clock+t-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&31|(r===null?0:128)|(s===null?0:64)|(i===null?0:32);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),s!==null&&e.writeRightID(s),r===null&&s===null){let a=this.parent;if(a._item!==void 0){let l=a._item;if(l===null){let c=C0(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===cn?(e.writeParentInfo(!1),e.writeLeftID(a)):wt();i!==null&&e.writeString(i)}this.content.write(e,t)}},_h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{},kh="__ $YJS$ __";_h[kh]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");_h[kh]=!0});var W0,Ch,Ow,Eh=v(()=>{en();Lt();W0=pt.define({combine(n){return n[n.length-1]}}),Ch=Sr.define(),Ow=Ar.fromClass(class{constructor(n){this.conf=n.state.facet(W0),this._observer=(e,t)=>{var r;if(t.origin!==this.conf){let s=e.delta,i=[],o=0;for(let a=0;a<s.length;a++){let l=s[a];l.insert!=null?i.push({from:o,to:o,insert:l.insert}):l.delete!=null?(i.push({from:o,to:o+l.delete,insert:""}),o+=l.delete):o+=(r=l.retain)!==null&&r!==void 0?r:0}n.dispatch({changes:i,annotations:[Ch.of(this.conf)]})}},this._ytext=this.conf.ytext,this._ytext.observe(this._observer)}update(n){if(!n.docChanged||n.transactions.length>0&&n.transactions[0].annotation(Ch)===this.conf)return;let e=this.conf.ytext;e.doc.transact(()=>{let t=0;n.changes.iterChanges((r,s,i,o,a)=>{let l=a.sliceString(0,a.length,`
`);r!==s&&e.delete(r+t,s-r),l.length>0&&e.insert(r+t,l),t+=l.length-(s-r)})},this.conf)}destroy(){this._ytext.unobserve(this._observer)}})});var Jo=v(()=>{$c();Vc();Hc();Eh()});var Wo,K0,ds,Zn,fs=v(()=>{up();Gi();Dr();en();Lt();Mt();Wo=$(Ye());Dt();Hi();Jo();K0="jp-mod-readOnly",ds=class{constructor({baseConfiguration:e,config:t,defaultExtensions:r}={}){this._configChanged=new me(this),this._disposed=new me(this),this._isDisposed=!1,this._immutables=new Set,this._baseConfig=e??{},this._config=t??{},this._configurableBuilderMap=new Map(r);let s=Object.keys(this._config).concat(Object.keys(this._baseConfig));this._immutables=new Set([...this._configurableBuilderMap.keys()].filter(i=>!s.includes(i)))}get configChanged(){return this._configChanged}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),me.clearData(this))}getOption(e){var t;return(t=this._config[e])!==null&&t!==void 0?t:this._baseConfig[e]}hasOption(e){return Object.keys(this._config).includes(e)||Object.keys(this._baseConfig).includes(e)}setOption(e,t){this._config[e]!==t&&(this._config[e]=t,this._configChanged.emit({[e]:t}))}setBaseOptions(e){let t=this._getChangedOptions(e,this._baseConfig);if(t.length>0){this._baseConfig=e;let r=Object.keys(this._config),s=t.filter(i=>!r.includes(i));s.length>0&&this._configChanged.emit(s.reduce((i,o)=>(i[o]=this._baseConfig[o],i),{}))}}setOptions(e){let t=this._getChangedOptions(e,this._config);t.length>0&&(this._config={...e},this._configChanged.emit(t.reduce((r,s)=>{var i;return r[s]=(i=this._config[s])!==null&&i!==void 0?i:this._baseConfig[s],r},{})))}reconfigureExtension(e,t,r){let s=this.getEffect(e.state,t,r);s&&e.dispatch({effects:[s]})}reconfigureExtensions(e,t){let r=Object.keys(t).filter(s=>this.has(s)).map(s=>this.getEffect(e.state,s,t[s]));e.dispatch({effects:r.filter(s=>s!==null)})}injectExtension(e,t){e.dispatch({effects:Cr.appendConfig.of(t)})}getInitialExtensions(){let e={...this._baseConfig,...this._config},t=[...this._immutables].map(r=>{var s;return(s=this.get(r))===null||s===void 0?void 0:s.instance(void 0)}).filter(r=>r);for(let r of Object.keys(e)){let s=this.get(r);if(s){let i=e[r];t.push(s.instance(i))}}return t}get(e){return this._configurableBuilderMap.get(e)}has(e){return this._configurableBuilderMap.has(e)}getEffect(e,t,r){var s;let i=this.get(t);return(s=i?.reconfigure(r))!==null&&s!==void 0?s:null}_getChangedOptions(e,t){let r=new Array,s=new Array;for(let[i,o]of Object.entries(e))s.push(i),t[i]!==o&&r.push(i);return r.push(...Object.keys(t).filter(i=>!s.includes(i))),r}},Zn=class{constructor(){this.configurationBuilder=new Map,this.configurationSchema={},this.defaultOptions={},this.handlers=new Set,this.immutableExtensions=new Set,this._baseConfiguration={}}get baseConfiguration(){return{...this.defaultOptions,...this._baseConfiguration}}set baseConfiguration(e){if(!Wo.JSONExt.deepEqual(e,this._baseConfiguration)){this._baseConfiguration=e;for(let t of this.handlers)t.setBaseOptions(this.baseConfiguration)}}get defaultConfiguration(){return Object.freeze({...this.defaultOptions})}get settingsSchema(){return Object.freeze(Wo.JSONExt.deepCopy(this.configurationSchema))}addExtension(e){var t;if(this.configurationBuilder.has(e.name))throw new Error(`Extension named ${e.name} is already registered.`);this.configurationBuilder.set(e.name,e),typeof e.default<"u"&&(this.defaultOptions[e.name]=e.default),e.schema&&(this.configurationSchema[e.name]={default:(t=e.default)!==null&&t!==void 0?t:null,...e.schema},this.defaultOptions[e.name]=this.configurationSchema[e.name].default)}createNew(e){let t=new Array;for(let[s,i]of this.configurationBuilder.entries()){let o=i.factory(e);o&&t.push([s,o])}let r=new ds({baseConfiguration:this.baseConfiguration,config:e.config,defaultExtensions:t});return this.handlers.add(r),r.disposed.connect(()=>{this.handlers.delete(r)}),r}};(function(n){class e{constructor(l){this._compartment=new Ti,this._builder=l}instance(l){return this._compartment.of(this._builder(l))}reconfigure(l){return this._compartment.reconfigure(this._builder(l))}}class t{constructor(l){this._extension=l}instance(){return this._extension}reconfigure(){return null}}function r(a){return new e(a)}n.createConfigurableExtension=r;function s(a,l=[]){return new e(c=>c?a:l)}n.createConditionalExtension=s;function i(a){return new t(a)}n.createImmutableExtension=i;function o(a={}){let{themes:l,translator:c}=a,u=(c??ve).load("jupyterlab"),h=[Object.freeze({name:"autoClosingBrackets",default:!1,factory:()=>s(Yl()),schema:{type:"boolean",title:u.__("Auto Closing Brackets")}}),Object.freeze({name:"codeFolding",default:!1,factory:()=>s(Gl()),schema:{type:"boolean",title:u.__("Code Folding")}}),Object.freeze({name:"cursorBlinkRate",default:1200,factory:()=>r(d=>Ml({cursorBlinkRate:d})),schema:{type:"number",title:u.__("Cursor blinking rate"),description:u.__("Half-period in milliseconds used for cursor blinking. The default blink rate is 1200ms. By setting this to zero, blinking can be disabled.")}}),Object.freeze({name:"highlightActiveLine",default:!1,factory:()=>s(Ll()),schema:{type:"boolean",title:u.__("Highlight the active line")}}),Object.freeze({name:"highlightTrailingWhitespace",default:!1,factory:()=>s(Fl()),schema:{type:"boolean",title:u.__("Highlight trailing white spaces")}}),Object.freeze({name:"highlightWhitespace",default:!1,factory:()=>s(Pl()),schema:{type:"boolean",title:u.__("Highlight white spaces")}}),Object.freeze({name:"indentUnit",default:"4",factory:()=>r(d=>d=="Tab"?Dn.of("	"):Dn.of(" ".repeat(parseInt(d,10)))),schema:{type:"string",title:u.__("Indentation unit"),description:u.__("The indentation is a `Tab` or the number of spaces. This defaults to 4 spaces."),enum:["Tab","1","2","4","8"]}}),Object.freeze({name:"keymap",default:[...Bc,{key:"Tab",run:Br.indentMoreOrInsertTab,shift:qi}],factory:()=>r(d=>Di.of(d))}),Object.freeze({name:"lineNumbers",default:!0,factory:()=>s(Bl()),schema:{type:"boolean",title:u.__("Line Numbers")}}),Object.freeze({name:"lineWrap",factory:()=>s(se.lineWrapping),default:!0,schema:{type:"boolean",title:u.__("Line Wrap")}}),Object.freeze({name:"matchBrackets",default:!0,factory:()=>s([Wl(),Oi.high(Di.of(Ql))]),schema:{type:"boolean",title:u.__("Match Brackets")}}),Object.freeze({name:"rectangularSelection",default:!0,factory:()=>s([Rl(),jl()]),schema:{type:"boolean",title:u.__("Rectangular selection"),description:u.__("Rectangular (block) selection can be created by dragging the mouse pointer while holding the left mouse button and the Alt key. When the Alt key is pressed, a crosshair cursor will appear, indicating that the rectangular selection mode is active.")}}),Object.freeze({name:"readOnly",default:!1,factory:()=>r(d=>[It.readOnly.of(d),d?se.editorAttributes.of({class:K0}):[]])}),Object.freeze({name:"rulers",default:[],factory:()=>r(d=>d.length>0?Gc(d):[]),schema:{type:"array",title:u.__("Rulers"),items:{type:"number",minimum:0}}}),Object.freeze({name:"scrollPastEnd",default:!1,factory:d=>d.inline?null:s(Il())}),Object.freeze({name:"smartIndent",default:!0,factory:()=>s(ql()),schema:{type:"boolean",title:u.__("Smart Indentation")}}),Object.freeze({name:"tabSize",default:4,factory:()=>r(d=>It.tabSize.of(d)),schema:{type:"number",title:u.__("Tab size")}}),Object.freeze({name:"tooltips",factory:()=>i(Ul({position:"absolute",parent:document.body}))}),Object.freeze({name:"allowMultipleSelections",default:!0,factory:()=>r(d=>It.allowMultipleSelections.of(d)),schema:{type:"boolean",title:u.__("Multiple selections")}}),Object.freeze({name:"customStyles",factory:()=>r(d=>Fc(d)),default:{fontFamily:null,fontSize:null,lineHeight:null},schema:{title:u.__("Custom editor styles"),type:"object",properties:{fontFamily:{type:["string","null"],title:u.__("Font Family")},fontSize:{type:["number","null"],minimum:1,maximum:100,title:u.__("Font Size")},lineHeight:{type:["number","null"],title:u.__("Line Height")}},additionalProperties:!1}})];return l&&h.push(Object.freeze({name:"theme",default:"jupyter",factory:()=>r(d=>l.getTheme(d)),schema:{type:"string",title:u.__("Theme"),description:u.__("CodeMirror theme")}})),c&&h.push(Object.freeze({name:"translation",default:{"Control character":u.__("Control character"),"Selection deleted":u.__("Selection deleted"),"Folded lines":u.__("Folded lines"),"Unfolded lines":u.__("Unfolded lines"),to:u.__("to"),"folded code":u.__("folded code"),unfold:u.__("unfold"),"Fold line":u.__("Fold line"),"Unfold line":u.__("Unfold line"),"Go to line":u.__("Go to line"),go:u.__("go"),Find:u.__("Find"),Replace:u.__("Replace"),next:u.__("next"),previous:u.__("previous"),all:u.__("all"),"match case":u.__("match case"),replace:u.__("replace"),"replace all":u.__("replace all"),close:u.__("close"),"current match":u.__("current match"),"replaced $ matches":u.__("replaced $ matches"),"replaced match on line $":u.__("replaced match on line $"),"on line":u.__("on line"),Completions:u.__("Completions"),Diagnostics:u.__("Diagnostics"),"No diagnostics":u.__("No diagnostics")},factory:()=>r(d=>It.phrases.of(d))})),h}n.getDefaultExtensions=o})(Zn||(Zn={}))});var Ah=v(()=>{});var Oh=v(()=>{});var Th=v(()=>{});var Nh=v(()=>{});var Ko,er,Y0,Yo=v(()=>{Xr();Un();Ki();$n();Ko=3e4,er=class extends Ut{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let t=_t();this.getLocalState()!==null&&Ko/2<=t-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let r=[];this.meta.forEach((s,i)=>{i!==this.clientID&&Ko<=t-s.lastUpdated&&this.states.has(i)&&r.push(i)}),r.length>0&&Y0(this,r,"timeout")},Ve(Ko/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){let t=this.clientID,r=this.meta.get(t),s=r===void 0?0:r.clock+1,i=this.states.get(t);e===null?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:s,lastUpdated:_t()});let o=[],a=[],l=[],c=[];e===null?c.push(t):i==null?e!=null&&o.push(t):(a.push(t),Pn(i,e)||l.push(t)),(o.length>0||l.length>0||c.length>0)&&this.emit("change",[{added:o,updated:l,removed:c},"local"]),this.emit("update",[{added:o,updated:a,removed:c},"local"])}setLocalStateField(e,t){let r=this.getLocalState();r!==null&&this.setLocalState({...r,[e]:t})}getStates(){return this.states}},Y0=(n,e,t)=>{let r=[];for(let s=0;s<e.length;s++){let i=e[s];if(n.states.has(i)){if(n.states.delete(i),i===n.clientID){let o=n.meta.get(i);n.meta.set(i,{clock:o.clock+1,lastUpdated:_t()})}r.push(i)}}r.length>0&&(n.emit("change",[{added:[],updated:[],removed:r},t]),n.emit("update",[{added:[],updated:[],removed:r},t]))}});var ms,tr,ps=v(()=>{ms=$(Ye(),1);Dt();Yo();Sh();tr=class{constructor(e){var t;this.onStateChanged=r=>{let s=new Array;r.keysChanged.forEach(i=>{let o=r.changes.keys.get(i);o&&s.push({name:i,oldValue:o.oldValue,newValue:this.ystate.get(i)})}),this._changed.emit({stateChange:s})},this._changed=new me(this),this._isDisposed=!1,this._disposed=new me(this),this._ydoc=(t=e?.ydoc)!==null&&t!==void 0?t:new at,this._ystate=this._ydoc.getMap("state"),this._undoManager=new os([],{trackedOrigins:new Set([this]),doc:this._ydoc}),this._awareness=new er(this._ydoc),this._ystate.observe(this.onStateChanged)}get ydoc(){return this._ydoc}get ystate(){return this._ystate}get undoManager(){return this._undoManager}get awareness(){return this._awareness}get changed(){return this._changed}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get state(){return ms.JSONExt.deepCopy(this.ystate.toJSON())}canUndo(){return this.undoManager.undoStack.length>0}canRedo(){return this.undoManager.redoStack.length>0}dispose(){this._isDisposed||(this._isDisposed=!0,this.ystate.unobserve(this.onStateChanged),this.awareness.destroy(),this.undoManager.destroy(),this.ydoc.destroy(),this._disposed.emit(),me.clearData(this))}getState(e){let t=this.ystate.get(e);return typeof t>"u"?t:ms.JSONExt.deepCopy(t)}setState(e,t){ms.JSONExt.deepEqual(this.ystate.get(e),t)||this.ystate.set(e,t)}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}clearUndoHistory(){this.undoManager.clear()}transact(e,t=!0){this.ydoc.transact(e,t?this:null)}}});var vn,Dh=v(()=>{ps();vn=class extends tr{constructor(){super(),this.version="1.0.0",this.ysource=this.ydoc.getText("source"),this._modelObserver=e=>{this._changed.emit({sourceChange:e.changes.delta})},this.undoManager.addToScope(this.ysource),this.ysource.observe(this._modelObserver)}static create(){return new vn}get source(){return this.getSource()}set source(e){this.setSource(e)}dispose(){this.isDisposed||(this.ysource.unobserve(this._modelObserver),super.dispose())}getSource(){return this.ysource.toString()}setSource(e){this.transact(()=>{let t=this.ysource;t.delete(0,t.length),t.insert(0,e)})}updateSource(e,t,r=""){this.transact(()=>{let s=this.ysource;s.insert(e,r),s.delete(e+r.length,t-e)})}}});var Mh,Qo=v(()=>{Mh=$(Ye(),1);Dt();Yo()});var Q0,Ih=v(()=>{Q0=$(Ye(),1);Dt();ps();Qo()});var Lh=v(()=>{Ah();Oh();Th();Nh();ps();Dh();Ih();Qo()});var Rh,jh=v(()=>{Lh();ap();Dt();(function(n){class e{constructor(r={}){var s,i;this.standaloneModel=!1,this._isDisposed=!1,this._selections=new Cl,this._mimeType="text/plain",this._mimeTypeChanged=new me(this),this.standaloneModel=typeof r.sharedModel>"u",this.sharedModel=(s=r.sharedModel)!==null&&s!==void 0?s:new vn,this._mimeType=(i=r.mimeType)!==null&&i!==void 0?i:"text/plain"}get mimeTypeChanged(){return this._mimeTypeChanged}get selections(){return this._selections}get mimeType(){return this._mimeType}set mimeType(r){let s=this.mimeType;s!==r&&(this._mimeType=r,this._mimeTypeChanged.emit({name:"mimeType",oldValue:s,newValue:r}))}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._selections.dispose(),this.standaloneModel&&this.sharedModel.dispose(),me.clearData(this))}}n.Model=e})(Rh||(Rh={}))});var Uh=v(()=>{});var X0,Ph=v(()=>{Mt();X0=$(Ye());Ei()});function Z0(n){let t=(n.translator||ve).load("jupyterlab");return Ne.default.createElement(Al,{onClick:n.handleClick,source:t.__("Ln %1, Col %2",n.line,n.column),title:t.__("Go to line number\u2026")})}var Ne,Xo,wn,Fh=v(()=>{lp();Mt();Sl();Ne=$(Be()),Xo=class extends Ne.default.Component{constructor(e){super(e),this._handleChange=t=>{this.setState({value:t.currentTarget.value})},this._handleSubmit=t=>{t.preventDefault();let r=parseInt(this._textInput.value,10);return!isNaN(r)&&isFinite(r)&&1<=r&&r<=this.props.maxLine&&this.props.handleSubmit(r),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.translator=e.translator||ve,this._trans=this.translator.load("jupyterlab"),this.state={value:"",hasFocus:!1}}componentDidMount(){this._textInput.focus()}render(){return Ne.default.createElement("div",{className:"jp-lineFormSearch"},Ne.default.createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},Ne.default.createElement("div",{className:yl("jp-lineFormWrapper","lm-lineForm-wrapper",this.state.hasFocus?"jp-lineFormWrapperFocusWithin":void 0)},Ne.default.createElement("input",{type:"text",className:"jp-lineFormInput",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),Ne.default.createElement("div",{className:"jp-baseLineForm jp-lineFormButtonContainer"},Ne.default.createElement(xl.react,{className:"jp-baseLineForm jp-lineFormButtonIcon",elementPosition:"center"}),Ne.default.createElement("input",{type:"submit",className:"jp-baseLineForm jp-lineFormButton",value:""}))),Ne.default.createElement("label",{className:"jp-lineFormCaption"},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}};wn=class extends _l{constructor(e){super(new wn.Model),this._popup=null,this.addClass("jp-mod-highlighted"),this.translator=e||ve}render(){return this.model===null?null:Ne.default.createElement(Z0,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();let e=wl.create(Ne.default.createElement(Xo,{handleSubmit:t=>this._handleSubmit(t),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=El({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0}),this._popup.dispose(),this.model.editor.focus()}};(function(n){class e extends kl{constructor(){super(...arguments),this._onSelectionChanged=()=>{let r=this._getAllState(),s=this.editor.getCursorPosition();this._line=s.line+1,this._column=s.column+1,this._triggerChange(r,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(r){var s;let i=this._editor;!((s=i?.model)===null||s===void 0)&&s.selections&&i.model.selections.changed.disconnect(this._onSelectionChanged);let o=this._getAllState();if(this._editor=r,!this._editor)this._column=1,this._line=1;else{this._editor.model.selections.changed.connect(this._onSelectionChanged);let a=this._editor.getCursorPosition();this._column=a.column+1,this._line=a.line+1}this._triggerChange(o,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(r,s){(r[0]!==s[0]||r[1]!==s[1])&&this.stateChanged.emit(void 0)}}n.Model=e})(wn||(wn={}))});var gs,$h=v(()=>{(function(n){n.defaultMimeType="text/plain"})(gs||(gs={}))});var Zo,R_,j_,Vh=v(()=>{Zo=$(Ye()),R_=new Zo.Token("@jupyterlab/codeeditor:IEditorServices",`A service for the text editor provider
  for the application. Use this to create new text editors and host them in your
  UI elements.`),j_=new Zo.Token("@jupyterlab/codeeditor:IPositionModel","A service to handle an code editor cursor position.")});var zh,qh=v(()=>{Ei();(function(n){function e(t){let s=t.types().find(i=>i.indexOf("text")===0);if(s!==void 0)return t.getData(s)}n.findTextData=e})(zh||(zh={}))});var Gh=v(()=>{Ei()});var Hh=v(()=>{jh();Uh();Ph();Fh();$h();Vh();Gh();qh()});function ja(n,e){let t=null;for(let r=0;r<n.length;r++){let s=n[r].walk(e);s!=n[r]&&!t&&(t=n.slice(0,r)),t&&t.push(s)}return t||n}function Tt(n,e){return n.constructor==e.constructor&&n.eq(e)}function pr(n,e){return n.length==e.length&&n.every((t,r)=>Tt(t,e[r]))}function Ua(n,e){return n.prec<e.prec?"("+n.toString()+")":n.toString()}function nr(n){for(let e in n)return!0;return!1}function ws(n,e,t){if(n.length!=e.length)return n.length-e.length;for(let r=0;r<n.length;r++){let s=t(n[r],e[r]);if(s)return s}return 0}function _s(n,e){if(n.length==0||n==e)return e;if(e.length==0)return n;let t=n.slice();for(let r of e)n.includes(r)||t.push(r);return t.sort()}function Jh(n){return n>Ba?"\u221E":n==10?"\\n":n==13?"\\r":n<32||n>=55296&&n<57343?"\\u{"+n.toString(16)+"}":String.fromCharCode(n)}function rb(n,e){let t=Object.create(null),r=Object.create(null);for(let s of n){let i=_a(s.accepting),o=r[i]||(r[i]=[]);o.push(s),t[s.id]=o}for(;;){let s=!1,i=Object.create(null);for(let o of n){if(i[o.id])continue;let a=t[o.id];if(a.length==1){i[a[0].id]=a;continue}let l=[];e:for(let c of a){for(let u of l)if(sb(c,u[0],t)){u.push(c);continue e}l.push([c])}l.length>1&&(s=!0);for(let c of l)for(let u of c)i[u.id]=c}if(!s)return ib(n,e,t);t=i}}function sb(n,e,t){if(n.edges.length!=e.edges.length)return!1;for(let r=0;r<n.edges.length;r++){let s=n.edges[r],i=e.edges[r];if(s.from!=i.from||s.to!=i.to||t[s.target.id]!=t[i.target.id])return!1}return!0}function ib(n,e,t){for(let r of n)for(let s=0;s<r.edges.length;s++){let i=r.edges[s],o=t[i.target.id][0];o!=i.target&&(r.edges[s]=new ks(i.from,i.to,o))}return t[e.id][0]}function Wh(n){let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t].from);return e}function _a(n){let e="";for(let t of n)e.length&&(e+="-"),e+=t.id;return e}function ab(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function lb(n){let e=[],t=[];for(let s of n)e.includes(s.from)||e.push(s.from),e.includes(s.to)||e.push(s.to);e.sort((s,i)=>s-i);for(let s=1;s<e.length;s++){let i=e[s-1],o=e[s],a=[];for(let l of n)if(l.to>i&&l.from<o)for(let c of l.target.closure())a.includes(c)||a.push(c);a.length&&t.push(new Ss(i,o,a))}let r=n.filter(s=>s.from==65535&&s.to==65535);if(r.length){let s=[];for(let i of r)for(let o of i.target.closure())s.includes(o)||s.push(o);s.length&&t.push(new Ss(65535,65535,s))}return t}function cb(n){let e=n.start,t=[],r=null,s=null,i=[],o=null,a=[],l=[],c=null,u=[],h=[],d=[],f=[],p=[],m=!1,y=!1;for(;n.type!="eof";){let g=n.start;if(n.eat("at","top"))n.type!="id"&&n.raise("Top rules must have a name",n.start),p.push(At(n,he(n))),m=!0;else if(n.type=="at"&&n.value=="tokens")s?n.raise("Multiple @tokens declaractions",n.start):s=mb(n);else if(n.eat("at","local"))n.expect("id","tokens"),i.push(pb(n,g));else if(n.eat("at","context")){c&&n.raise("Multiple @context declarations",g);let b=he(n);n.expect("id","from");let _=n.expect("string");c=new fa(g,b,_)}else if(n.eat("at","external"))n.eat("id","tokens")?u.push(bb(n,g)):n.eat("id","prop")?d.push(xb(n,g)):n.eat("id","extend")?h.push(Xh(n,"extend",g)):n.eat("id","specialize")?h.push(Xh(n,"specialize",g)):n.eat("id","propSource")?f.push(yb(n,g)):n.unexpected();else if(n.eat("at","dialects")){n.expect("{");for(let b=!0;!n.eat("}");b=!1)b||n.eat(","),l.push(he(n))}else if(n.type=="at"&&n.value=="precedence")r&&n.raise("Multiple precedence declarations",n.start),r=fb(n);else if(n.eat("at","detectDelim"))y=!0;else if(n.eat("at","skip")){let b=Pa(n);if(n.type=="{"){n.next();let _=[],M=[];for(;!n.eat("}");)n.eat("at","top")?(M.push(At(n,he(n))),m=!0):_.push(At(n));a.push({expr:b,topRules:M,rules:_})}else o&&n.raise("Multiple top-level skip declarations",n.start),o=b}else t.push(At(n))}return m?new oa(e,t,p,s,i,c,u,h,f,r,o,a,l,d,y):n.raise("Missing @top declaration")}function At(n,e){let t=e?e.start:n.start,r=e||he(n),s=gr(n),i=[];if(n.eat("<"))for(;!n.eat(">");)i.length&&n.expect(","),i.push(he(n));let o=Pa(n);return new ur(t,r,s,i,o)}function gr(n){if(n.type!="[")return ct;let e=[];for(n.expect("[");!n.eat("]");)e.length&&n.expect(","),e.push(ub(n));return e}function ub(n){let e=n.start,t=[],r=n.value,s=n.type=="at";if(!n.eat("at")&&!n.eat("id")&&n.unexpected(),n.eat("="))for(;;)if(n.type=="string"||n.type=="id")t.push(new Gt(n.start,n.value,null)),n.next();else if(n.eat("."))t.push(new Gt(n.start,".",null));else if(n.eat("{"))t.push(new Gt(n.start,null,n.expect("id"))),n.expect("}");else break;return new _n(e,s,r,t)}function Pa(n){n.expect("{");let e=or(n);return n.expect("}"),e}function Cs(n){let e=n.start;if(n.eat("(")){if(n.eat(")"))return new Se(e,ct,[ct,ct]);let t=or(n);return n.expect(")"),t}else if(n.type=="string"){let t=n.value;return n.next(),t.length==0?new Se(e,ct,[ct,ct]):new ge(e,t)}else{if(n.eat("id","_"))return new vs(e);if(n.type=="set"){let t=n.value,r=n.string[n.start]=="!",s=Sa(t.replace(/\\.|-|"/g,o=>o=="-"?ea:o=='"'?'\\"':o)),i=[];for(let o=0;o<s.length;){let a=s.codePointAt(o);if(o+=a>65535?2:1,o<s.length-1&&s[o]==ea){let l=s.codePointAt(o+1);o+=l>65535?3:2,l<a&&n.raise("Invalid character range",n.start),Kh(n,i,a,l+1)}else a==ea.charCodeAt(0)&&(a=45),Kh(n,i,a,a+1)}return n.next(),new xs(e,i.sort((o,a)=>o[0]-a[0]),r)}else if(n.type=="at"&&(n.value=="specialize"||n.value=="extend")){let{start:t,value:r}=n;n.next();let s=gr(n);n.expect("<");let i=or(n),o;return n.eat(",")?o=or(n):i instanceof ge?o=i:n.raise(`@${r} requires two arguments when its first argument isn't a literal string`),n.expect(">"),new Ot(t,r,s,i,o)}else if(n.type=="at"&&xa.hasOwnProperty(n.value)){let t=new hr(n.start,n.value);return n.next(),t}else if(n.type=="["){let t=At(n,new ys(e,"_anon"));return t.params.length&&n.raise("Inline rules can't have parameters",t.start),new ut(e,t)}else{let t=he(n);if(n.type=="["||n.type=="{"){let r=At(n,t);return r.params.length&&n.raise("Inline rules can't have parameters",r.start),new ut(e,r)}else{if(n.eat(".")&&t.name=="std"&&xa.hasOwnProperty(n.value)){let r=new hr(e,n.value);return n.next(),r}return new ae(e,t,hb(n))}}}}function hb(n){let e=[];if(n.eat("<"))for(;!n.eat(">");)e.length&&n.expect(","),e.push(or(n));return e}function Kh(n,e,t,r){e.every(([s,i])=>i<=t||s>=r)||n.raise("Overlapping character range",n.start),e.push([t,r])}function db(n){let e=n.start,t=Cs(n);for(;;){let r=n.type;if(n.eat("*")||n.eat("?")||n.eat("+"))t=new dt(e,t,r);else return t}}function Yh(n){return n.type=="}"||n.type==")"||n.type=="|"||n.type=="/"||n.type=="/\\"||n.type=="{"||n.type==","||n.type==">"}function Qh(n){let e=n.start,t=[],r=[ct];do{for(;;){let s=n.start,i;if(n.eat("~"))i="ambig";else if(n.eat("!"))i="prec";else break;r[r.length-1]=r[r.length-1].concat(new ya(s,he(n),i))}if(Yh(n))break;t.push(db(n)),r.push(ct)}while(!Yh(n));return t.length==1&&r.every(s=>s.length==0)?t[0]:new Se(e,t,r,!t.length)}function or(n){let e=n.start,t=Qh(n);if(!n.eat("|"))return t;let r=[t];do r.push(Qh(n));while(n.eat("|"));let s=r.find(i=>i instanceof Se&&i.empty);return s&&n.raise("Empty expression in choice operator. If this is intentional, use () to make it explicit.",s.start),new ht(e,r)}function he(n){n.type!="id"&&n.unexpected();let e=n.start,t=n.value;return n.next(),new ys(e,t)}function fb(n){let e=n.start;n.next(),n.expect("{");let t=[];for(;!n.eat("}");)t.length&&n.eat(","),t.push({id:he(n),type:n.eat("at","left")?"left":n.eat("at","right")?"right":n.eat("at","cut")?"cut":null});return new aa(e,t)}function mb(n){let e=n.start;n.next(),n.expect("{");let t=[],r=[],s=[],i=[];for(;!n.eat("}");)n.type=="at"&&n.value=="precedence"?s.push(hd(n)):n.type=="at"&&n.value=="conflict"?i.push(gb(n)):n.type=="string"?r.push(new da(n.start,n.expect("string"),gr(n))):t.push(At(n));return new ua(e,s,i,t,r)}function pb(n,e){n.expect("{");let t=[],r=[],s=null;for(;!n.eat("}");)n.type=="at"&&n.value=="precedence"?r.push(hd(n)):n.eat("at","else")&&!s?s={id:he(n),props:gr(n)}:t.push(At(n));return new ha(e,r,t,s)}function hd(n){let e=n.start;n.next(),n.expect("{");let t=[];for(;!n.eat("}");){t.length&&n.eat(",");let r=Cs(n);r instanceof ge||r instanceof ae?t.push(r):n.raise("Invalid expression in token precedences",r.start)}return new la(e,t)}function gb(n){let e=n.start;n.next(),n.expect("{");let t=Cs(n);t instanceof ge||t instanceof ae||n.raise("Invalid expression in token conflict",t.start),n.eat(",");let r=Cs(n);return r instanceof ge||r instanceof ae||n.raise("Invalid expression in token conflict",r.start),n.expect("}"),new ca(e,t,r)}function dd(n){let e=[];for(n.expect("{");!n.eat("}");){e.length&&n.eat(",");let t=he(n),r=gr(n);e.push({id:t,props:r})}return e}function bb(n,e){let t=he(n);n.expect("id","from");let r=n.expect("string");return new ma(e,t,r,dd(n))}function Xh(n,e,t){let r=Pa(n),s=he(n);n.expect("id","from");let i=n.expect("string");return new pa(t,e,r,s,i,dd(n))}function yb(n,e){let t=he(n);return n.expect("id","from"),new ga(e,t,n.expect("string"))}function xb(n,e){let t=he(n),r=n.eat("id","as")?he(n):t;n.expect("id","from");let s=n.expect("string");return new ba(e,r,t,s)}function Sa(n){let e=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|[^]/yig,t="",r;for(;r=e.exec(n);){let[s,i,o,a,l,c]=r;i||o||a?t+=String.fromCodePoint(parseInt(i||o||a,16)):l?t+=l=="n"?`
`:l=="t"?"	":l=="0"?"\0":l=="r"?"\r":l=="f"?"\f":"\b":c?t+=c:t+=s}return t}function ar(n,e){return(n<<5)+n+e}function vb(n,e){for(let t=0;t<e.length;t++)n=ar(n,e.charCodeAt(t));return n}function Zh(n){let e=ne.none;for(let t of n)e=e.join(t.conflicts());return e}function wb(n,e){for(let t of n)if(t.rule.name.repeated){for(let r of e)if(r.rule.name==t.rule.name){if(t.rule.isRepeatWrap&&t.pos==2)return 1;if(r.rule.isRepeatWrap&&r.pos==2)return-1}}return 0}function _b(n,e){return n<e?-1:n>e?1:0}function ed(n,e,t,r){let s=[];for(let i=e+1;i<n.parts.length;i++){let o=n.parts[i],a=!1;if(o.terminal)Ht(o,s);else for(let l of r[o.name])l==null?a=!0:Ht(l,s);if(!a)return s}for(let i of t)Ht(i,s);return s}function bs(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].eq(e[t]))return!1;return!0}function td(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function Ca(n){let e=5381;for(let t of n)e=ar(e,t.hash);return e}function kb(n,e){let t=[],r=[];function s(o,a,l,c,u){for(let h of o.rules){let d=t.find(f=>f.rule==h);if(!d){let f=n.find(p=>p.pos==0&&p.rule==h);d=f?new ft(h,0,f.ahead.slice(),f.ambigAhead,f.skipAhead,f.via):new ft(h,0,[],Oa,c,u),t.push(d)}if(d.skipAhead!=c)throw new We("Inconsistent skip sets after "+u.trail());d.ambigAhead=_s(d.ambigAhead,l);for(let f of a)d.ahead.includes(f)||(d.ahead.push(f),d.rule.parts.length&&!d.rule.parts[0].terminal&&Ht(d,r))}}for(let o of n){let a=o.next;a&&!a.terminal&&s(a,ed(o.rule,o.pos,o.ahead,e),o.conflicts(o.pos+1).ambigGroups,o.pos==o.rule.parts.length-1?o.skipAhead:o.rule.skip,o)}for(;r.length;){let o=r.pop();s(o.rule.parts[0],ed(o.rule,0,o.ahead,e),_s(o.rule.conflicts[1].ambigGroups,o.rule.parts.length==1?o.ambigAhead:Oa),o.rule.parts.length==1?o.skipAhead:o.rule.skip,o)}let i=n.slice();for(let o of t){o.ahead.sort((l,c)=>l.hash-c.hash),o.finish();let a=n.findIndex(l=>l.pos==0&&l.rule==o.rule);a>-1?i[a]=o:i.push(o)}return i.sort((o,a)=>o.cmp(a))}function Ht(n,e){e.includes(n)||e.push(n)}function Sb(n){let e=Object.create(null);for(let t of n.terms)t.terminal||(e[t.name]=[]);for(;;){let t=!1;for(let r of n.terms)if(!r.terminal)for(let s of r.rules){let i=e[r.name],o=!1,a=i.length;for(let l of s.parts){if(o=!0,l.terminal)Ht(l,i);else for(let c of e[l.name])c==null?o=!1:Ht(c,i);if(o)break}o||Ht(null,i),i.length>a&&(t=!0)}if(!t)return e}}function Cb(n,e){if(n.eqSimple(e))return"";function t(r,s){let i=[];for(let o=s.via;!o.eqSimple(r);o=o.via)i.push(o);return i.length?(i.unshift(s),i.reverse().map((o,a)=>`
`+"  ".repeat(a+1)+(o==s?"":"via ")+o).join("")):""}for(let r=n;r;r=r.via)for(let s=e;s;s=s.via)if(r.eqSimple(s))return`
Shared origin: `+r+t(r,n)+t(r,e);return""}function Eb(n,e,t){let r=[],s={},i={},o=Date.now();function a(c,u){if(c.length==0)return null;let h=Ca(c),d=i[h],f;for(let b of c)if(!f)f=b.skip;else if(f!=b.skip)throw new We("Inconsistent skip sets after "+b.trail());if(d){for(let b of d)if(bs(c,b.set)){if(b.state.skip!=f)throw new We("Inconsistent skip sets after "+b.set[0].trail());return b.state}}let p=kb(c,t),m=Ca(p),y=s[m]||(s[m]=[]),g;if(!u)for(let b of y)b.hasSet(p)&&(g=b);return g||(g=new As(r.length,p,0,f,m,u),y.push(g),r.push(g),fr&&r.length%500==0&&console.log(`${r.length} states after ${((Date.now()-o)/1e3).toFixed(2)}s`)),(i[h]||(i[h]=[])).push(new Ea(c,g)),g}for(let c of e){let u=c.rules.length?c.rules[0].skip:n.names["%noskip"];a(c.rules.map(h=>new ft(h,0,[n.eof],Oa,u,null).finish()),c)}let l=[];for(let c=0;c<r.length;c++){let u=r[c],h=[],d=[],f=[];for(let m of u.set)if(m.pos==m.rule.parts.length)m.rule.name.top||f.push(m);else{let y=m.rule.parts[m.pos],g=h.indexOf(y);g<0?(h.push(y),d.push([m])):d[g].push(m)}for(let m=0;m<h.length;m++){let y=h[m],g=d[m].map(b=>b.advance());if(y.terminal){let b=Ab(g),_=a(b);_&&u.addAction(new Ie(y,_),d[m],l)}else{let b=a(g);b&&u.goto.push(new Ie(y,b))}}let p=!1;for(let m of f)for(let y of m.ahead){let g=u.actions.length;u.addAction(new st(y,m.rule),[m],l),u.actions.length==g&&(p=!0)}if(p)for(let m=0;m<u.goto.length;m++)t[u.goto[m].term.name].some(g=>u.actions.some(b=>b.term==g&&b instanceof Ie))||u.goto.splice(m--,1)}if(l.length)throw new We(l.map(c=>c.error).join(`

`));for(let c of r)c.finish();return fr&&console.log(`${r.length} states total.`),r}function Ab(n){let e=null,t=1;for(let r of n){let s=r.rule.conflicts[r.pos-1].cut;s<t||((!e||s>t)&&(t=s,e=[]),e.push(r))}return e||n}function nd(n,e,t){for(let s of n.goto)for(let i of e.goto)if(s.term==i.term&&t[s.target.id]!=t[i.target.id])return!1;let r=e.actionsByTerm();for(let s of n.actions){let i=r[s.term.id];if(i&&i.some(o=>!o.matches(s,t))){if(i.length==1)return!1;let o=n.actionsByTerm()[s.term.id];if(o.length!=i.length||o.some(a=>!i.some(l=>a.matches(l,t))))return!1}}return!0}function Ob(n,e){let t=[];for(let r of n){let s=e[r.id];t[s]||(t[s]=new As(s,r.set,0,r.skip,r.hash,r.startRule),t[s].tokenGroup=r.tokenGroup,t[s].defaultReduce=r.defaultReduce)}for(let r of n){let s=e[r.id],i=t[s];i.flags|=r.flags;for(let o=0;o<r.actions.length;o++){let a=r.actions[o].map(e,t);i.actions.some(l=>l.eq(a))||(i.actions.push(a),i.actionPositions.push(r.actionPositions[o]))}for(let o of r.goto){let a=o.map(e,t);i.goto.some(l=>l.eq(a))||i.goto.push(a)}}return t}function Tb(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].eqSimple(e[t]))return!1;return!0}function Nb(n){let e=[],t=[];e:for(let s=0;s<n.length;s++){let i=n[s];if(!i.startRule)for(let o=0;o<t.length;o++){let a=t[o],l=n[a.members[0]];if(i.tokenGroup==l.tokenGroup&&i.skip==l.skip&&!l.startRule&&Tb(i.set,l.set)){a.members.push(s),e.push(o);continue e}}e.push(t.length),t.push(new Os(t.length,s))}function r(s,i){let o=t[s],a=n[o.members[i]],l=o.members.pop();i!=o.members.length&&(o.members[i]=l);for(let c=s+1;c<t.length;c++)if(e[a.id]=c,t[c].origin==o.origin&&t[c].members.every(u=>nd(a,n[u],e))){t[c].members.push(a.id);return}e[a.id]=t.length,t.push(new Os(o.origin,a.id))}for(let s=1;;s++){let i=!1,o=Date.now();for(let a=0,l=t.length;a<l;a++){let c=t[a];for(let u=0;u<c.members.length-1;u++)for(let h=u+1;h<c.members.length;h++){let d=c.members[u],f=c.members[h];nd(n[d],n[f],e)||(i=!0,r(a,h--))}}if(fr&&console.log(`Collapse pass ${s}${i?"":", done"} (${((Date.now()-o)/1e3).toFixed(2)}s)`),!i)return Ob(n,e)}}function Db(n){for(let e=1;;e++){let t=[],r=!1,s=Date.now(),i=[];for(let o=0;o<n.length;o++){let a=n[o],l=i.findIndex(c=>a.eq(c));if(l<0)t[o]=i.length,i.push(a);else{t[o]=l,r=!0;let c=i[l],u=null;for(let h of a.set)c.set.some(d=>d.eqSimple(h))||(u||(u=[])).push(h);u&&(c.set=u.concat(c.set).sort((h,d)=>h.cmp(d)))}}if(fr&&console.log(`Merge identical pass ${e}${r?"":", done"} (${((Date.now()-s)/1e3).toFixed(2)}s)`),!r)return n;for(let o of i)o.defaultReduce||(o.actions=o.actions.map(a=>a.map(t,i)),o.goto=o.goto.map(a=>a.map(t,i)));for(let o=0;o<i.length;o++)i[o].id=o;n=i}}function Mb(n){return Db(Nb(n))}function Ib(n){let e=n+32;return e>=34&&e++,e>=92&&e++,String.fromCharCode(e)}function rd(n,e=65535){if(n>e)throw new Error("Trying to encode a number that's too big: "+n);if(n==65535)return String.fromCharCode(126);let t="";for(let r=46;;r=0){let s=n%46,i=n-s;if(t=Ib(s+r)+t,i==0)break;n=i/46}return t}function sr(n,e=65535){let t='"'+rd(n.length,4294967295);for(let r=0;r<n.length;r++)t+=rd(n[r],e);return t+='"',t}function ze(...n){return new Me(n,null)}function sd(n,e,t){let r=n.props[e];(!r||r.split(" ").indexOf(t)<0)&&(n.props[e]=r?r+" "+t:t)}function Lb(n){let e=Object.create(null);for(let{value:t,term:r,type:s}of n){let i=s=="specialize"?0:1;e[t]=r.id<<1|i}return e}function lr(n,e,t=n.parts.length){return n.name.id|65536|(n.isRepeatWrap&&t==n.parts.length?131072:0)|(e.some(r=>r.rule==n.name)?262144:0)|t<<19}function Rb(n,e){e:for(let t=0;;){let r=n.indexOf(e[0],t);if(r==-1||r+e.length>n.length)break;for(let s=1;s<e.length;s++)if(e[s]!=n[r+s]){t=r+1;continue e}return r}return-1}function jb(n,e){let t=Object.create(null),r=[],s=i=>{t[i.id]||(t[i.id]=!0,r.push(i))};for(let i of n)i.startRule&&e.includes(i.startRule)&&s(i);for(let i=0;i<r.length;i++){for(let o of r[i].actions)o instanceof Ie&&s(o.target);for(let o of r[i].goto)s(o.target)}return i=>!t[i]}function Ub(n){let e={},t=0;for(let o of n)for(let a of o.goto){t=Math.max(a.term.id,t);let l=e[a.term.id]||(e[a.term.id]={});(l[a.target.id]||(l[a.target.id]=[])).push(o.id)}let r=new Ts,s=[],i=t+2;for(let o=0;o<=t;o++){let a=e[o];if(!a){s.push(1);continue}let l=[],c=Object.keys(a);for(let u of c){let h=a[u];l.push((u==c[c.length-1]?1:0)+(h.length<<1)),l.push(+u);for(let d of h)l.push(d)}s.push(r.storeArray(l)+i)}if(s.some(o=>o>65535))throw new We("Goto table too large");return Uint16Array.from([t+1,...s,...r.data])}function ir(n,e){n.includes(e)||n.push(e)}function Bb(n){let e=Object.create(null);for(let t of n){let r=1<<t.groupID;for(let s of t.tokens)e[s.id]=(e[s.id]||0)|r}return e}function Pb(n,e,t){let r=Object.create(null);function s(i,o){return i.actions.some(a=>a.term==o)||t[e.skipRules.indexOf(i.skip)].startTokens.includes(o)}return(i,o)=>{i.id<o.id&&([i,o]=[o,i]);let a=i.id|o.id<<16,l=r[a];return l??(r[a]=n.some(c=>s(c,i)&&s(c,o)))}}function Fb(n){let e=0,t=[];for(let[r,s]of n)r>e&&t.push([e,r]),e=s;return e<=ad&&t.push([e,ad+1]),t}function $b(n,e,t,r){if(t<na&&(t<id&&n.edge(t,Math.min(r,id),e),r>od&&n.edge(Math.max(t,od),Math.min(r,Ba+1),e),t=na),r<=na)return;let s=String.fromCodePoint(t),i=String.fromCodePoint(r-1),o=s.charCodeAt(0),a=s.charCodeAt(1),l=i.charCodeAt(0),c=i.charCodeAt(1);if(o==l){let u=new De;n.edge(o,o+1,u),u.edge(a,c+1,e)}else{let u=o,h=l;if(a>ra){u++;let d=new De;n.edge(o,o+1,d),d.edge(a,sa+1,e)}if(c<sa){h--;let d=new De;n.edge(l,l+1,d),d.edge(ra,c+1,e)}if(u<=h){let d=new De;n.edge(u,h+1,d),d.edge(ra,sa+1,e)}}}function fd(n){return n instanceof Se&&n.exprs.length==0}function md(n,e){let t=Object.create(null);for(let r of e){n.unique(r.id);let{name:s,props:i,dialect:o}=n.nodeInfo(r.props,"d",r.id.name),a=n.makeTerminal(r.id.name,s,i);o!=null&&(n.tokens.byDialect[o]||(n.tokens.byDialect[o]=[])).push(a),n.namedTerms[r.id.name]=t[r.id.name]=a}return t}function pd(n,e,t){let r=e[t.id.name];return r?(t.args.length&&n.raise("External tokens cannot take arguments",t.args[0].start),n.used(t.id.name),r):null}function ia(n,e,t){let r=n.findIndex(s=>s.term==e);r<0?n.push({term:e,after:t}):n[r]={term:e,after:n[r].after.concat(t)}}function Vb(n,e){for(let t=0;;t++){let r=Object.create(null),s;if(t==0){for(let o of n)if(o.name.inline&&!r[o.name.name]){let a=n.filter(l=>l.name==o.name);if(a.some(l=>l.parts.includes(o.name)))continue;s=r[o.name.name]=a}}for(let o=0;o<n.length;o++){let a=n[o];!a.name.interesting&&!a.parts.includes(a.name)&&a.parts.length<3&&!e.includes(a.name)&&(a.parts.length==1||n.every(l=>l.skip==a.skip||!l.parts.includes(a.name)))&&!a.parts.some(l=>!!r[l.name])&&!n.some((l,c)=>c!=o&&l.name==a.name)&&(s=r[a.name.name]=[a])}if(!s)return n;let i=[];for(let o of n){let a=function(l,c,u){if(l==o.parts.length){i.push(new dr(o.name,u,c,o.skip));return}let h=o.parts[l],d=r[h.name];if(!d){a(l+1,c.concat(o.conflicts[l+1]),u.concat(h));return}for(let f of d)a(l+1,c.slice(0,c.length-1).concat(c[l].join(f.conflicts[0])).concat(f.conflicts.slice(1,f.conflicts.length-1)).concat(o.conflicts[l+1].join(f.conflicts[f.conflicts.length-1])),u.concat(f.parts))};if(!r[o.name.name]){if(!o.parts.some(l=>!!r[l.name])){i.push(o);continue}a(0,[o.conflicts[0]],[])}}n=i}}function zb(n){let e=Object.create(null),t;for(let s=0;s<n.length;){let i=s,o=n[s++].name;for(;s<n.length&&n[s].name==o;)s++;let a=s-i;if(!o.interesting)for(let l=s;l<n.length;){let c=l,u=n[l++].name;for(;l<n.length&&n[l].name==u;)l++;if(l-c!=a||u.interesting)continue;let h=!0;for(let d=0;d<a&&h;d++){let f=n[i+d],p=n[c+d];f.cmpNoName(p)!=0&&(h=!1)}h&&(t=e[o.name]=u)}}if(!t)return n;let r=[];for(let s of n)e[s.name.name]||r.push(s.parts.every(i=>!e[i.name])?s:new dr(s.name,s.parts.map(i=>e[i.name]||i),s.conflicts,s.skip));return r}function qb(n,e){return zb(Vb(n,e))}function gd(n,e={}){let t=new Ta(n,e),r=t.getParser();return r.termTable=t.termTable,r}function Gb(n){let e=n[0];return e=="_"||e.toUpperCase()!=e}function Hb(n){return n.props.some(e=>e.at&&e.name=="export")}var Z,oa,ur,aa,la,ca,ua,ha,da,fa,ma,pa,ga,ba,ys,Le,ae,Ot,ut,ht,Se,ya,dt,ge,xs,vs,xa,hr,_n,Gt,We,eb,va,wa,tb,ne,nb,dr,Ba,ks,ob,De,ud,Ss,rr,ct,ka,ea,Es,fr,qt,ft,Ie,st,As,Ea,Aa,Os,Oa,oe,Me,kn,Ta,ta,Na,Ts,Da,Ma,Ia,Ns,La,Ra,na,id,od,ad,ra,sa,mr,cr,ld,bd=v(()=>{Mi();hp();Z=class{constructor(e){this.start=e}},oa=class extends Z{constructor(e,t,r,s,i,o,a,l,c,u,h,d,f,p,m){super(e),this.rules=t,this.topRules=r,this.tokens=s,this.localTokens=i,this.context=o,this.externalTokens=a,this.externalSpecializers=l,this.externalPropSources=c,this.precedences=u,this.mainSkip=h,this.scopedSkip=d,this.dialects=f,this.externalProps=p,this.autoDelim=m}toString(){return Object.values(this.rules).join(`
`)}},ur=class extends Z{constructor(e,t,r,s,i){super(e),this.id=t,this.props=r,this.params=s,this.expr=i}toString(){return this.id.name+(this.params.length?`<${this.params.join()}>`:"")+" -> "+this.expr}},aa=class extends Z{constructor(e,t){super(e),this.items=t}},la=class extends Z{constructor(e,t){super(e),this.items=t}},ca=class extends Z{constructor(e,t,r){super(e),this.a=t,this.b=r}},ua=class extends Z{constructor(e,t,r,s,i){super(e),this.precedences=t,this.conflicts=r,this.rules=s,this.literals=i}},ha=class extends Z{constructor(e,t,r,s){super(e),this.precedences=t,this.rules=r,this.fallback=s}},da=class extends Z{constructor(e,t,r){super(e),this.literal=t,this.props=r}},fa=class extends Z{constructor(e,t,r){super(e),this.id=t,this.source=r}},ma=class extends Z{constructor(e,t,r,s){super(e),this.id=t,this.source=r,this.tokens=s}},pa=class extends Z{constructor(e,t,r,s,i,o){super(e),this.type=t,this.token=r,this.id=s,this.source=i,this.tokens=o}},ga=class extends Z{constructor(e,t,r){super(e),this.id=t,this.source=r}},ba=class extends Z{constructor(e,t,r,s){super(e),this.id=t,this.externalID=r,this.source=s}},ys=class extends Z{constructor(e,t){super(e),this.name=t}toString(){return this.name}},Le=class extends Z{walk(e){return e(this)}eq(e){return!1}};Le.prototype.prec=10;ae=class extends Le{constructor(e,t,r){super(e),this.id=t,this.args=r}toString(){return this.id.name+(this.args.length?`<${this.args.join()}>`:"")}eq(e){return this.id.name==e.id.name&&pr(this.args,e.args)}walk(e){let t=ja(this.args,e);return e(t==this.args?this:new ae(this.start,this.id,t))}},Ot=class extends Le{constructor(e,t,r,s,i){super(e),this.type=t,this.props=r,this.token=s,this.content=i}toString(){return`@${this.type}[${this.props.join(",")}]<${this.token}, ${this.content}>`}eq(e){return this.type==e.type&&_n.eqProps(this.props,e.props)&&Tt(this.token,e.token)&&Tt(this.content,e.content)}walk(e){let t=this.token.walk(e),r=this.content.walk(e);return e(t==this.token&&r==this.content?this:new Ot(this.start,this.type,this.props,t,r))}},ut=class extends Le{constructor(e,t){super(e),this.rule=t}toString(){let e=this.rule;return`${e.id}${e.props.length?`[${e.props.join(",")}]`:""} { ${e.expr} }`}eq(e){let t=this.rule,r=e.rule;return Tt(t.expr,r.expr)&&t.id.name==r.id.name&&_n.eqProps(t.props,r.props)}walk(e){let t=this.rule,r=t.expr.walk(e);return e(r==t.expr?this:new ut(this.start,new ur(t.start,t.id,t.props,[],r)))}},ht=class extends Le{constructor(e,t){super(e),this.exprs=t}toString(){return this.exprs.map(e=>Ua(e,this)).join(" | ")}eq(e){return pr(this.exprs,e.exprs)}walk(e){let t=ja(this.exprs,e);return e(t==this.exprs?this:new ht(this.start,t))}};ht.prototype.prec=1;Se=class extends Le{constructor(e,t,r,s=!1){super(e),this.exprs=t,this.markers=r,this.empty=s}toString(){return this.empty?"()":this.exprs.map(e=>Ua(e,this)).join(" ")}eq(e){return pr(this.exprs,e.exprs)&&this.markers.every((t,r)=>{let s=e.markers[r];return t.length==s.length&&t.every((i,o)=>i.eq(s[o]))})}walk(e){let t=ja(this.exprs,e);return e(t==this.exprs?this:new Se(this.start,t,this.markers,this.empty&&!t.length))}};Se.prototype.prec=2;ya=class extends Z{constructor(e,t,r){super(e),this.id=t,this.type=r}toString(){return(this.type=="ambig"?"~":"!")+this.id.name}eq(e){return this.id.name==e.id.name&&this.type==e.type}},dt=class extends Le{constructor(e,t,r){super(e),this.expr=t,this.kind=r}toString(){return Ua(this.expr,this)+this.kind}eq(e){return Tt(this.expr,e.expr)&&this.kind==e.kind}walk(e){let t=this.expr.walk(e);return e(t==this.expr?this:new dt(this.start,t,this.kind))}};dt.prototype.prec=3;ge=class extends Le{constructor(e,t){super(e),this.value=t}toString(){return JSON.stringify(this.value)}eq(e){return this.value==e.value}},xs=class extends Le{constructor(e,t,r){super(e),this.ranges=t,this.inverted=r}toString(){return`[${this.inverted?"^":""}${this.ranges.map(([e,t])=>String.fromCodePoint(e)+(t==e+1?"":"-"+String.fromCodePoint(t)))}]`}eq(e){return this.inverted==e.inverted&&this.ranges.length==e.ranges.length&&this.ranges.every(([t,r],s)=>{let[i,o]=e.ranges[s];return t==i&&r==o})}},vs=class extends Le{constructor(e){super(e)}toString(){return"_"}eq(){return!0}};xa={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]],eof:[[65535,65535]]},hr=class extends Le{constructor(e,t){super(e),this.type=t}toString(){return"@"+this.type}eq(e){return this.type==e.type}};_n=class extends Z{constructor(e,t,r,s){super(e),this.at=t,this.name=r,this.value=s}eq(e){return this.name==e.name&&this.value.length==e.value.length&&this.value.every((t,r)=>t.value==e.value[r].value&&t.name==e.value[r].name)}toString(){let e=(this.at?"@":"")+this.name;if(this.value.length){e+="=";for(let{name:t,value:r}of this.value)e+=t?`{${t}}`:/[^\w-]/.test(r)?JSON.stringify(r):r}return e}static eqProps(e,t){return e.length==t.length&&e.every((r,s)=>r.eq(t[s]))}},Gt=class extends Z{constructor(e,t,r){super(e),this.value=t,this.name=r}};We=class extends Error{};eb=0,va=class{constructor(e,t,r,s={}){this.name=e,this.flags=t,this.nodeName=r,this.props=s,this.hash=++eb,this.id=-1,this.rules=[]}toString(){return this.name}get nodeType(){return this.top||this.nodeName!=null||nr(this.props)||this.repeated}get terminal(){return(this.flags&1)>0}get eof(){return(this.flags&4)>0}get error(){return"error"in this.props}get top(){return(this.flags&2)>0}get interesting(){return this.flags>0||this.nodeName!=null}get repeated(){return(this.flags&16)>0}set preserve(e){this.flags=e?this.flags|8:this.flags&-9}get preserve(){return(this.flags&8)>0}set inline(e){this.flags=e?this.flags|32:this.flags&-33}get inline(){return(this.flags&32)>0}cmp(e){return this.hash-e.hash}},wa=class{constructor(){this.terms=[],this.names=Object.create(null),this.tops=[],this.eof=this.term("\u2404",null,5),this.error=this.term("\u26A0","\u26A0",8)}term(e,t,r=0,s={}){let i=new va(e,r,t,s);return this.terms.push(i),this.names[e]=i,i}makeTop(e,t){let r=this.term("@top",e,2,t);return this.tops.push(r),r}makeTerminal(e,t,r={}){return this.term(e,t,1,r)}makeNonTerminal(e,t,r={}){return this.term(e,t,0,r)}makeRepeat(e){return this.term(e,null,16)}uniqueName(e){for(let t=0;;t++){let r=t?`${e}-${t}`:e;if(!this.names[r])return r}}finish(e){for(let o of e)o.name.rules.push(o);this.terms=this.terms.filter(o=>o.terminal||o.preserve||e.some(a=>a.name==o||a.parts.includes(o)));let t={},r=[this.error];this.error.id=0;let s=0+1;for(let o of this.terms)o.id<0&&o.nodeType&&!o.repeated&&(o.id=s++,r.push(o));let i=s;for(let o of this.terms)o.repeated&&(o.id=s++,r.push(o));this.eof.id=s++;for(let o of this.terms)o.id<0&&(o.id=s++),o.name&&(t[o.id]=o.name);if(s>=65534)throw new We("Too many terms");return{nodeTypes:r,names:t,minRepeatTerm:i,maxTerm:s-1}}};tb=[],ne=class{constructor(e,t=tb,r=0){this.precedence=e,this.ambigGroups=t,this.cut=r}join(e){return this==ne.none||this==e?e:e==ne.none?this:new ne(Math.max(this.precedence,e.precedence),_s(this.ambigGroups,e.ambigGroups),Math.max(this.cut,e.cut))}cmp(e){return this.precedence-e.precedence||ws(this.ambigGroups,e.ambigGroups,(t,r)=>t<r?-1:t>r?1:0)||this.cut-e.cut}};ne.none=new ne(0);nb=0,dr=class{constructor(e,t,r,s){this.name=e,this.parts=t,this.conflicts=r,this.skip=s,this.id=nb++}cmp(e){return this.id-e.id}cmpNoName(e){return this.parts.length-e.parts.length||this.skip.hash-e.skip.hash||this.parts.reduce((t,r,s)=>t||r.cmp(e.parts[s]),0)||ws(this.conflicts,e.conflicts,(t,r)=>t.cmp(r))}toString(){return this.name+" -> "+this.parts.join(" ")}get isRepeatWrap(){return this.name.repeated&&this.parts.length==2&&this.parts[0]==this.name}sameReduce(e){return this.name==e.name&&this.parts.length==e.parts.length&&this.isRepeatWrap==e.isRepeatWrap}},Ba=65535,ks=class{constructor(e,t,r){this.from=e,this.to=t,this.target=r}toString(){return`-> ${this.target.id}[label=${JSON.stringify(this.from<0?"\u03B5":Jh(this.from)+(this.to>this.from+1?"-"+Jh(this.to-1):""))}]`}};ob=1,De=class cd{constructor(e=[],t=ob++){this.accepting=e,this.id=t,this.edges=[]}edge(e,t,r){this.edges.push(new ks(e,t,r))}nullEdge(e){this.edge(-1,-1,e)}compile(){let e=Object.create(null),t=0,r=s(this.closure().sort((i,o)=>i.id-o.id));return rb(Object.values(e),r);function s(i){let o=e[_a(i)]=new cd(i.reduce((c,u)=>_s(c,u.accepting),[]),t++),a=[];for(let c of i)for(let u of c.edges)u.from>=0&&a.push(u);let l=lb(a);for(let c of l){let u=c.targets.sort((h,d)=>h.id-d.id);o.edge(c.from,c.to,e[_a(u)]||s(u))}return o}}closure(){let e=[],t=Object.create(null);function r(s){if(!t[s.id]){t[s.id]=!0,(s.edges.some(i=>i.from>=0)||s.accepting.length>0&&!s.edges.some(i=>ab(s.accepting,i.target.accepting)))&&e.push(s);for(let i of s.edges)i.from<0&&r(i.target)}}return r(this),e}findConflicts(e){let t=[],r=this.cycleTerms();function s(i,o,a,l,c){i.id<o.id&&([i,o]=[o,i],a=-a);let u=t.find(h=>h.a==i&&h.b==o);u?u.soft!=a&&(u.soft=0):t.push(new ud(i,o,a,Wh(l),c&&Wh(c)))}return this.reachable((i,o)=>{if(i.accepting.length!=0){for(let a=0;a<i.accepting.length;a++)for(let l=a+1;l<i.accepting.length;l++)s(i.accepting[a],i.accepting[l],0,o);i.reachable((a,l)=>{if(a!=i)for(let c of a.accepting){let u=r.includes(c);for(let h of i.accepting)c!=h&&s(c,h,u||r.includes(h)||!e(c,h)?0:1,o,o.concat(l))}})}}),t}cycleTerms(){let e=[];this.reachable(i=>{for(let{target:o}of i.edges)e.push(i,o)});let t=new Map,r=[];for(let i=0;i<e.length;){let o=e[i++],a=e[i++],l=t.get(o);if(l||t.set(o,l=[]),!l.includes(a))if(o==a)r.includes(o)||r.push(o);else{for(let c of l)e.push(o,c);l.push(a)}}let s=[];for(let i of r)for(let o of i.accepting)s.includes(o)||s.push(o);return s}reachable(e){let t=[],r=[];(function s(i){e(i,r),t.push(i);for(let o of i.edges)t.includes(o.target)||(r.push(o),s(o.target),r.pop())})(this)}toString(){let e=`digraph {
`;return this.reachable(t=>{t.accepting.length&&(e+=`  ${t.id} [label=${JSON.stringify(t.accepting.join())}];
`);for(let r of t.edges)e+=`  ${t.id} ${r};
`}),e+"}"}toArray(e,t){let r=[],s=[];this.reachable(i=>{let o=s.length,a=o+3+i.accepting.length*2;r[i.id]=o,s.push(i.stateMask(e),a,i.edges.length),i.accepting.sort((l,c)=>t.indexOf(l.id)-t.indexOf(c.id));for(let l of i.accepting)s.push(l.id,e[l.id]||65535);for(let l of i.edges)s.push(l.from,l.to,-l.target.id-1)});for(let i=0;i<s.length;i++)s[i]<0&&(s[i]=r[-s[i]-1]);if(s.length>Math.pow(2,16))throw new We("Tokenizer tables too big to represent with 16-bit offsets.");return Uint16Array.from(s)}stateMask(e){let t=0;return this.reachable(r=>{for(let s of r.accepting)t|=e[s.id]||65535}),t}},ud=class{constructor(e,t,r,s,i){this.a=e,this.b=t,this.soft=r,this.exampleA=s,this.exampleB=i}};Ss=class{constructor(e,t,r){this.from=e,this.to=t,this.targets=r}};rr=/[\w_-]+/gy;try{rr=/[\p{Alphabetic}\d_-]+/ugy}catch{}ct=[],ka=class{constructor(e,t=null){this.string=e,this.fileName=t,this.type="sof",this.value=null,this.start=0,this.end=0,this.next()}lineInfo(e){for(let t=1,r=0;;){let s=this.string.indexOf(`
`,r);if(s>-1&&s<e)++t,r=s+1;else return{line:t,ch:e-r}}}message(e,t=-1){let r=this.fileName||"";if(t>-1){let s=this.lineInfo(t);r+=(r?" ":"")+s.line+":"+s.ch}return r?e+` (${r})`:e}raise(e,t=-1){throw new We(this.message(e,t))}match(e,t){let r=t.exec(this.string.slice(e));return r?e+r[0].length:-1}next(){let e=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(e==this.string.length)return this.set("eof",null,e,e);let t=this.string[e];if(t=='"'){let r=this.match(e+1,/^(\\.|[^"\\])*"/);return r==-1&&this.raise("Unterminated string literal",e),this.set("string",Sa(this.string.slice(e+1,r-1)),e,r)}else if(t=="'"){let r=this.match(e+1,/^(\\.|[^'\\])*'/);return r==-1&&this.raise("Unterminated string literal",e),this.set("string",Sa(this.string.slice(e+1,r-1)),e,r)}else if(t=="@"){rr.lastIndex=e+1;let r=rr.exec(this.string);return r?this.set("at",r[0],e,e+1+r[0].length):this.raise("@ without a name",e)}else if((t=="$"||t=="!")&&this.string[e+1]=="["){let r=this.match(e+2,/^(?:\\.|[^\]\\])*\]/);return r==-1&&this.raise("Unterminated character set",e),this.set("set",this.string.slice(e+2,r-1),e,r)}else{if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(t))return this.set(t,null,e,e+1);{rr.lastIndex=e;let r=rr.exec(this.string);return r?this.set("id",r[0],e,e+r[0].length):this.raise("Unexpected character "+JSON.stringify(t),e)}}}set(e,t,r,s){this.type=e,this.value=t,this.start=r,this.end=s}eat(e,t=null){return this.type==e&&(t==null||this.value===t)?(this.next(),!0):!1}unexpected(){return this.raise(`Unexpected token '${this.string.slice(this.start,this.end)}'`,this.start)}expect(e,t=null){let r=this.value;return(this.type!=e||!(t==null||r===t))&&this.unexpected(),this.next(),r}parse(){return cb(this)}};ea="\uFDDA";Es=typeof process<"u"&&process.env.LOG||"",fr=/\btime\b/.test(Es),qt=fr?(n,e)=>{let t=Date.now(),r=e();return console.log(`${n} (${((Date.now()-t)/1e3).toFixed(2)}s)`),r}:(n,e)=>e(),ft=class{constructor(e,t,r,s,i,o){this.rule=e,this.pos=t,this.ahead=r,this.ambigAhead=s,this.skipAhead=i,this.via=o,this.hash=0}finish(){let e=ar(ar(this.rule.id,this.pos),this.skipAhead.hash);for(let t of this.ahead)e=ar(e,t.hash);for(let t of this.ambigAhead)e=vb(e,t);return this.hash=e,this}get next(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}advance(){return new ft(this.rule,this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this.via).finish()}get skip(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}cmp(e){return this.rule.cmp(e.rule)||this.pos-e.pos||this.skipAhead.hash-e.skipAhead.hash||ws(this.ahead,e.ahead,(t,r)=>t.cmp(r))||ws(this.ambigAhead,e.ambigAhead,_b)}eqSimple(e){return e.rule==this.rule&&e.pos==this.pos}toString(){let e=this.rule.parts.map(t=>t.name);return e.splice(this.pos,0,"\xB7"),`${this.rule.name} -> ${e.join(" ")}`}eq(e){return this==e||this.hash==e.hash&&this.rule==e.rule&&this.pos==e.pos&&this.skipAhead==e.skipAhead&&td(this.ahead,e.ahead)&&td(this.ambigAhead,e.ambigAhead)}trail(e=60){let t=[];for(let s=this;s;s=s.via)for(let i=s.pos-1;i>=0;i--)t.push(s.rule.parts[i]);let r=t.reverse().join(" ");return r.length>e&&(r=r.slice(r.length-e).replace(/.*? /,"\u2026 ")),r}conflicts(e=this.pos){let t=this.rule.conflicts[e];return e==this.rule.parts.length&&this.ambigAhead.length&&(t=t.join(new ne(0,this.ambigAhead))),t}static addOrigins(e,t){let r=e.slice();for(let s=0;s<r.length;s++){let i=r[s];if(i.pos==0)for(let o of t)o.next==i.rule.name&&!r.includes(o)&&r.push(o)}return r}};Ie=class{constructor(e,t){this.term=e,this.target=t}eq(e){return e instanceof Ie&&this.term==e.term&&e.target.id==this.target.id}cmp(e){return e instanceof st?-1:this.term.id-e.term.id||this.target.id-e.target.id}matches(e,t){return e instanceof Ie&&t[e.target.id]==t[this.target.id]}toString(){return"s"+this.target.id}map(e,t){let r=t[e[this.target.id]];return r==this.target?this:new Ie(this.term,r)}},st=class{constructor(e,t){this.term=e,this.rule=t}eq(e){return e instanceof st&&this.term==e.term&&e.rule.sameReduce(this.rule)}cmp(e){return e instanceof Ie?1:this.term.id-e.term.id||this.rule.name.id-e.rule.name.id||this.rule.parts.length-e.rule.parts.length}matches(e,t){return e instanceof st&&e.rule.sameReduce(this.rule)}toString(){return`${this.rule.name.name}(${this.rule.parts.length})`}map(){return this}};As=class{constructor(e,t,r=0,s,i=Ca(t),o=null){this.id=e,this.set=t,this.flags=r,this.skip=s,this.hash=i,this.startRule=o,this.actions=[],this.actionPositions=[],this.goto=[],this.tokenGroup=-1,this.defaultReduce=null,this._actionsByTerm=null}toString(){let e=this.actions.map(t=>t.term+"="+t).join(",")+(this.goto.length?" | "+this.goto.map(t=>t.term+"="+t).join(","):"");return this.id+": "+this.set.filter(t=>t.pos>0).join()+(this.defaultReduce?`
  always ${this.defaultReduce.name}(${this.defaultReduce.parts.length})`:e.length?`
  `+e:"")}addActionInner(e,t){e:for(let r=0;r<this.actions.length;r++){let s=this.actions[r];if(s.term==e.term){if(s.eq(e))return null;let i=ft.addOrigins(t,this.set),o=ft.addOrigins(this.actionPositions[r],this.set),a=Zh(i),l=Zh(o),c=wb(i,o)||a.precedence-l.precedence;if(c>0){this.actions.splice(r,1),this.actionPositions.splice(r,1),r--;continue e}else{if(c<0)return null;if(a.ambigGroups.some(u=>l.ambigGroups.includes(u)))continue e;return s}}}return this.actions.push(e),this.actionPositions.push(t),null}addAction(e,t,r){let s=this.addActionInner(e,t);if(s){let i=this.actionPositions[this.actions.indexOf(s)][0],o=[t[0].rule.name,i.rule.name];if(r.some(l=>l.rules.some(c=>o.includes(c))))return;let a;s instanceof Ie?a=`shift/reduce conflict between
  ${i}
and
  ${t[0].rule}`:a=`reduce/reduce conflict between
  ${i.rule}
and
  ${t[0].rule}`,a+=`
With input:
  ${t[0].trail(70)} \xB7 ${e.term} \u2026`,a+=Cb(i,t[0]),r.push(new Aa(a,o))}}getGoto(e){return this.goto.find(t=>t.term==e)}hasSet(e){return bs(this.set,e)}actionsByTerm(){let e=this._actionsByTerm;if(!e){this._actionsByTerm=e=Object.create(null);for(let t of this.actions)(e[t.term.id]||(e[t.term.id]=[])).push(t)}return e}finish(){if(this.actions.length){let e=this.actions[0];if(e instanceof st){let{rule:t}=e;this.actions.every(r=>r instanceof st&&r.rule.sameReduce(t))&&(this.defaultReduce=t)}}this.actions.sort((e,t)=>e.cmp(t)),this.goto.sort((e,t)=>e.cmp(t))}eq(e){let t=this.defaultReduce,r=e.defaultReduce;return t||r?t&&r?t.sameReduce(r):!1:this.skip==e.skip&&this.tokenGroup==e.tokenGroup&&bs(this.actions,e.actions)&&bs(this.goto,e.goto)}};Ea=class{constructor(e,t){this.set=e,this.state=t}},Aa=class{constructor(e,t){this.error=e,this.rules=t}};Os=class{constructor(e,t){this.origin=e,this.members=[t]}};Oa=[];oe=[],Me=class{constructor(e,t){this.terms=e,this.conflicts=t}concat(e){if(this==Me.none)return e;if(e==Me.none)return this;let t=null;if(this.conflicts||e.conflicts){t=this.conflicts?this.conflicts.slice():this.ensureConflicts();let r=e.ensureConflicts();t[t.length-1]=t[t.length-1].join(r[0]);for(let s=1;s<r.length;s++)t.push(r[s])}return new Me(this.terms.concat(e.terms),t)}withConflicts(e,t){if(t==ne.none)return this;let r=this.conflicts?this.conflicts.slice():this.ensureConflicts();return r[e]=r[e].join(t),new Me(this.terms,r)}ensureConflicts(){if(this.conflicts)return this.conflicts;let e=[];for(let t=0;t<=this.terms.length;t++)e.push(ne.none);return e}};Me.none=new Me(oe,null);kn=class{constructor(e,t,r){this.id=e,this.args=t,this.term=r}matches(e){return this.id==e.id.name&&pr(e.args,this.args)}matchesRepeat(e){return this.id=="+"&&Tt(e.expr,this.args[0])}},Ta=class{constructor(e,t){this.options=t,this.terms=new wa,this.specialized=Object.create(null),this.tokenOrigins=Object.create(null),this.rules=[],this.built=[],this.ruleNames=Object.create(null),this.namespaces=Object.create(null),this.namedTerms=Object.create(null),this.termTable=Object.create(null),this.knownProps=Object.create(null),this.dynamicRulePrecedences=[],this.definedGroups=[],this.astRules=[],this.currentSkip=[],qt("Parse",()=>{this.input=new ka(e,t.fileName),this.ast=this.input.parse()});let r=gt;for(let s in r)r[s]instanceof gt&&!r[s].perNode&&(this.knownProps[s]={prop:r[s],source:{name:s,from:null}});for(let s of this.ast.externalProps)this.knownProps[s.id.name]={prop:this.options.externalProp?this.options.externalProp(s.id.name):new gt,source:{name:s.externalID.name,from:s.source}};this.dialects=this.ast.dialects.map(s=>s.name),this.tokens=new La(this,this.ast.tokens),this.localTokens=this.ast.localTokens.map(s=>new Ra(this,s)),this.externalTokens=this.ast.externalTokens.map(s=>new mr(this,s)),this.externalSpecializers=this.ast.externalSpecializers.map(s=>new cr(this,s)),qt("Build rules",()=>{let s=this.newName("%noskip",!0);this.defineRule(s,[]);let i=this.ast.mainSkip?this.newName("%mainskip",!0):s,o=[],a=[];for(let l of this.ast.rules)this.astRules.push({skip:i,rule:l});for(let l of this.ast.topRules)a.push({skip:i,rule:l});for(let l of this.ast.scopedSkip){let c=s,u=this.ast.scopedSkip.findIndex((h,d)=>d<o.length&&Tt(h.expr,l.expr));u>-1?c=o[u]:this.ast.mainSkip&&Tt(l.expr,this.ast.mainSkip)?c=i:fd(l.expr)||(c=this.newName("%skip",!0)),o.push(c);for(let h of l.rules)this.astRules.push({skip:c,rule:h});for(let h of l.topRules)a.push({skip:c,rule:h})}for(let{rule:l}of this.astRules)this.unique(l.id);this.currentSkip.push(s),this.skipRules=i==s?[i]:[s,i],i!=s&&this.defineRule(i,this.normalizeExpr(this.ast.mainSkip));for(let l=0;l<this.ast.scopedSkip.length;l++){let c=o[l];this.skipRules.includes(c)||(this.skipRules.push(c),c!=s&&this.defineRule(c,this.normalizeExpr(this.ast.scopedSkip[l].expr)))}this.currentSkip.pop();for(let{rule:l,skip:c}of a.sort((u,h)=>u.rule.start-h.rule.start)){this.unique(l.id),this.used(l.id.name),this.currentSkip.push(c);let{name:u,props:h}=this.nodeInfo(l.props,"a",l.id.name,oe,oe,l.expr),d=this.terms.makeTop(u,h);this.namedTerms[u]=d,this.defineRule(d,this.normalizeExpr(l.expr)),this.currentSkip.pop()}for(let l of this.externalSpecializers)l.finish();for(let{skip:l,rule:c}of this.astRules)this.ruleNames[c.id.name]&&Hb(c)&&!c.params.length&&(this.buildRule(c,[],l,!1),c.expr instanceof Se&&c.expr.exprs.length==0&&this.used(c.id.name))});for(let s in this.ruleNames){let i=this.ruleNames[s];i&&this.warn(`Unused rule '${i.name}'`,i.start)}this.tokens.takePrecedences(),this.tokens.takeConflicts();for(let s of this.localTokens)s.takePrecedences();for(let{name:s,group:i,rule:o}of this.definedGroups)this.defineGroup(s,i,o);this.checkGroups()}unique(e){e.name in this.ruleNames&&this.raise(`Duplicate definition of rule '${e.name}'`,e.start),this.ruleNames[e.name]=e}used(e){this.ruleNames[e]=null}newName(e,t=null,r={}){for(let s=t?0:1;;s++){let i=s?`${e}-${s}`:e;if(!this.terms.names[i])return this.terms.makeNonTerminal(i,t===!0?null:t,r)}}prepareParser(){let e=qt("Simplify rules",()=>qb(this.rules,[...this.skipRules,...this.terms.tops])),{nodeTypes:t,names:r,minRepeatTerm:s,maxTerm:i}=this.terms.finish(e);for(let O in this.namedTerms)this.termTable[O]=this.namedTerms[O].id;/\bgrammar\b/.test(Es)&&console.log(e.join(`
`));let o=this.terms.tops.slice(),a=Sb(this.terms),l=this.skipRules.map((O,z)=>{let ce=[],Q=[],Oe=[];for(let ee of O.rules){if(!ee.parts.length)continue;let xe=ee.parts[0];for(let Ue of xe.terminal?[xe]:a[xe.name]||[])Q.includes(Ue)||Q.push(Ue);xe.terminal&&ee.parts.length==1&&!Oe.some(Ue=>Ue!=ee&&Ue.parts[0]==xe)?ce.push(xe):Oe.push(ee)}return O.rules=Oe,Oe.length&&o.push(O),{skip:ce,rule:Oe.length?O:null,startTokens:Q,id:z}}),c=qt("Build full automaton",()=>Eb(this.terms,o,a)),u=this.localTokens.map((O,z)=>O.buildLocalGroup(c,l,z)),{tokenGroups:h,tokenPrec:d,tokenData:f}=qt("Build token groups",()=>this.tokens.buildTokenGroups(c,l,u.length)),p=qt("Finish automaton",()=>Mb(c)),m=jb(p,this.terms.tops);/\blr\b/.test(Es)&&console.log(p.join(`
`));let y=[];for(let O of this.externalSpecializers)y.push(O);for(let O in this.specialized)y.push({token:this.terms.names[O],table:Lb(this.specialized[O])});let g=O=>O instanceof mr?O.ast.start:this.tokens.ast?this.tokens.ast.start:-1,b=h.concat(this.externalTokens).sort((O,z)=>g(O)-g(z)).concat(u),_=new Ts,M=l.map(O=>{let z=[];for(let ce of O.skip)z.push(ce.id,0,4);if(O.rule){let ce=p.find(Q=>Q.startRule==O.rule);for(let Q of ce.actions)z.push(Q.term.id,ce.id,2)}return z.push(65535,0),_.storeArray(z)}),W=qt("Finish states",()=>{let O=new Uint32Array(p.length*6),z=this.computeForceReductions(p,l),ce=new Na(b,_,O,M,l,p,this);for(let Q of p)ce.finish(Q,m(Q.id),z[Q.id]);return O}),H=Object.create(null);for(let O=0;O<this.dialects.length;O++)H[this.dialects[O]]=_.storeArray((this.tokens.byDialect[O]||oe).map(z=>z.id).concat(65535));let Y=null;if(this.dynamicRulePrecedences.length){Y=Object.create(null);for(let{rule:O,prec:z}of this.dynamicRulePrecedences)Y[O.id]=z}let de=Object.create(null);for(let O of this.terms.tops)de[O.nodeName]=[p.find(z=>z.startRule==O).id,O.id];let Ee=_.storeArray(d.concat(65535)),{nodeProps:Ae,skippedTypes:mt}=this.gatherNodeProps(t);return{states:W,stateData:_.finish(),goto:Ub(p),nodeNames:t.filter(O=>O.id<s).map(O=>O.nodeName).join(" "),nodeProps:Ae,skippedTypes:mt,maxTerm:i,repeatNodeCount:t.length-s,tokenizers:b,tokenData:f,topRules:de,dialects:H,dynamicPrecedences:Y,specialized:y,tokenPrec:Ee,termNames:r}}getParser(){let{states:e,stateData:t,goto:r,nodeNames:s,nodeProps:i,skippedTypes:o,maxTerm:a,repeatNodeCount:l,tokenizers:c,tokenData:u,topRules:h,dialects:d,dynamicPrecedences:f,specialized:p,tokenPrec:m,termNames:y}=this.prepareParser(),g=p.map(b=>{if(b instanceof cr){let _=this.options.externalSpecializer(b.ast.id.name,this.termTable);return{term:b.term.id,get:(M,W)=>_(M,W)<<1|(b.ast.type=="extend"?1:0),external:_,extend:b.ast.type=="extend"}}else return{term:b.token.id,get:_=>b.table[_]||-1}});return Zl.deserialize({version:14,states:e,stateData:t,goto:r,nodeNames:s,maxTerm:a,repeatNodeCount:l,nodeProps:i.map(({prop:b,terms:_})=>[this.knownProps[b].prop,..._]),propSources:this.options.externalPropSource?this.ast.externalPropSources.map(b=>this.options.externalPropSource(b.id.name)):void 0,skippedNodes:o,tokenData:u,tokenizers:c.map(b=>b.create()),context:this.ast.context?typeof this.options.contextTracker=="function"?this.options.contextTracker(this.termTable):this.options.contextTracker:void 0,topRules:h,dialects:d,dynamicPrecedences:f,specialized:g,tokenPrec:m,termNames:y})}getParserFile(){let{states:e,stateData:t,goto:r,nodeNames:s,nodeProps:i,skippedTypes:o,maxTerm:a,repeatNodeCount:l,tokenizers:c,tokenData:u,topRules:h,dialects:d,dynamicPrecedences:f,specialized:p,tokenPrec:m,termNames:y}=this.prepareParser(),g=this.options.moduleStyle||"es",b=this.options.typeScript?": any":"",_=`// This file was generated by lezer-generator. You probably shouldn't edit it.
`,M=_,W={},H=Object.create(null),Y=Object.create(null);for(let x of ld)Y[x]=!0;let de=this.options.exportName||"parser";Y[de]=!0;let Ee=x=>{for(let S=0;;S++){let A=x+(S?"_"+S:"");if(!Y[A])return A}},Ae=(x,S,A=x)=>{let R=x+" from "+S;if(H[R])return H[R];let L=JSON.stringify(S),N=x;return x in Y&&(N=Ee(A),x+=`${g=="cjs"?":":" as"} ${N}`),Y[N]=!0,(W[L]||(W[L]=[])).push(x),H[R]=N},mt=Ae("LRParser","@lezer/lr"),O=c.map(x=>x.createSource(Ae)),z=this.ast.context?Ae(this.ast.context.id.name,this.ast.context.source):null,ce=i.map(({prop:x,terms:S})=>{let{source:A}=this.knownProps[x];return`[${A.from?Ae(A.name,A.from):JSON.stringify(A.name)}, ${S.map(Ue).join(",")}]`});function Q(x){return"{__proto__:null,"+Object.keys(x).map(S=>`${/\W/.test(S)?JSON.stringify(S):S}:${x[S]}`).join(", ")+"}"}let Oe="",ee=p.map(x=>{if(x instanceof cr){let S=Ae(x.ast.id.name,x.ast.source);return`{term: ${x.term.id}, get: (value${b}, stack${b}) => (${S}(value, stack) << 1)${x.ast.type=="extend"?" | 1":""}, external: ${S}${x.ast.type=="extend"?", extend: true":""}}`}else{let S=Ee("spec_"+x.token.name.replace(/\W/g,""));return Y[S]=!0,Oe+=`const ${S} = ${Q(x.table)}
`,`{term: ${x.token.id}, get: (value${b}) => ${S}[value] || -1}`}}),xe=this.ast.externalPropSources.map(x=>Ae(x.id.name,x.source));for(let x in W)g=="cjs"?M+=`const {${W[x].join(", ")}} = require(${x})
`:M+=`import {${W[x].join(", ")}} from ${x}
`;M+=Oe;function Ue(x){return typeof x!="string"||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(x)?x:JSON.stringify(x)}let Zt=Object.keys(d).map(x=>`${x}: ${d[x]}`),w=`${mt}.deserialize({
  version: 14,
  states: ${sr(e,4294967295)},
  stateData: ${sr(t)},
  goto: ${sr(r)},
  nodeNames: ${JSON.stringify(s)},
  maxTerm: ${a}${z?`,
  context: ${z}`:""}${ce.length?`,
  nodeProps: [
    ${ce.join(`,
    `)}
  ]`:""}${xe.length?`,
  propSources: [${xe.join()}]`:""}${o.length?`,
  skippedNodes: ${JSON.stringify(o)}`:""},
  repeatNodeCount: ${l},
  tokenData: ${sr(u)},
  tokenizers: [${O.join(", ")}],
  topRules: ${JSON.stringify(h)}${Zt.length?`,
  dialects: {${Zt.join(", ")}}`:""}${f?`,
  dynamicPrecedences: ${JSON.stringify(f)}`:""}${ee.length?`,
  specialized: [${ee.join(",")}]`:""},
  tokenPrec: ${m}${this.options.includeNames?`,
  termNames: ${JSON.stringify(y)}`:""}
})`,C=[];for(let x in this.termTable){let S=x;if(ld.includes(S))for(let A=1;S="_".repeat(A)+x,S in this.termTable;A++);C.push(`${S}${g=="cjs"?":":" ="} ${this.termTable[x]}`)}for(let x=0;x<this.dialects.length;x++)C.push(`Dialect_${this.dialects[x]}${g=="cjs"?":":" ="} ${x}`);return{parser:M+(g=="cjs"?`exports.${de} = ${w}
`:`export const ${de} = ${w}
`),terms:g=="cjs"?`${_}module.exports = {
  ${C.join(`,
  `)}
}`:`${_}export const
  ${C.join(`,
  `)}
`}}gatherNonSkippedNodes(){let e=Object.create(null),t=[],r=s=>{e[s.id]||(e[s.id]=!0,t.push(s))};this.terms.tops.forEach(r);for(let s=0;s<t.length;s++)for(let i of t[s].rules)for(let o of i.parts)r(o);return e}gatherNodeProps(e){let t=this.gatherNonSkippedNodes(),r=[],s=[];for(let i of e){!t[i.id]&&!i.error&&r.push(i.id);for(let o in i.props){let a=this.knownProps[o];if(!a)throw new We("No known prop type for "+o);if(a.source.from==null&&(a.source.name=="repeated"||a.source.name=="error"))continue;let l=s.find(c=>c.prop==o);l||s.push(l={prop:o,values:{}}),(l.values[i.props[o]]||(l.values[i.props[o]]=[])).push(i.id)}}return{nodeProps:s.map(({prop:i,values:o})=>{let a=[];for(let l in o){let c=o[l];if(c.length==1)a.push(c[0],l);else{a.push(-c.length);for(let u of c)a.push(u);a.push(l)}}return{prop:i,terms:a}}),skippedTypes:r}}makeTerminal(e,t,r){return this.terms.makeTerminal(this.terms.uniqueName(e),t,r)}computeForceReductions(e,t){let r=[],s=[],i=Object.create(null);for(let l of e){r.push(0);for(let c of l.goto){let u=i[c.term.id]||(i[c.term.id]=[]),h=u.find(d=>d.target==c.target.id);h?h.parents.push(l.id):u.push({parents:[l.id],target:c.target.id})}s[l.id]=l.set.filter(c=>c.pos>0&&!c.rule.name.top).sort((c,u)=>u.pos-c.pos||c.rule.parts.length-u.rule.parts.length)}let o=Object.create(null);function a(l,c,u=null){let h=i[l];return h?h.some(d=>{let f=u?u.filter(m=>d.parents.includes(m)):d.parents;if(f.length==0)return!1;if(d.target==c)return!0;let p=o[d.target];return p!=null&&a(p,c,f)}):!1}for(let l of e)l.defaultReduce&&l.defaultReduce.parts.length>0&&(r[l.id]=lr(l.defaultReduce,t),l.defaultReduce.parts.length==1&&(o[l.id]=l.defaultReduce.name.id));for(let l=1;;l++){let c=!0;for(let u of e){if(u.defaultReduce)continue;let h=s[u.id];if(h.length!=l){h.length>l&&(c=!1);continue}for(let d of h)if(d.pos!=1||!a(d.rule.name.id,u.id)){r[u.id]=lr(d.rule,t,d.pos),d.pos==1&&(o[u.id]=d.rule.name.id);break}}if(c)break}return r}substituteArgs(e,t,r){return t.length==0?e:e.walk(s=>{let i;if(s instanceof ae&&(i=r.findIndex(o=>o.name==s.id.name))>-1){let o=t[i];if(s.args.length){if(o instanceof ae&&!o.args.length)return new ae(s.start,o.id,s.args);this.raise("Passing arguments to a parameter that already has arguments",s.start)}return o}else if(s instanceof ut){let o=s.rule,a=this.substituteArgsInProps(o.props,t,r);return a==o.props?s:new ut(s.start,new ur(o.start,o.id,a,o.params,o.expr))}else if(s instanceof Ot){let o=this.substituteArgsInProps(s.props,t,r);return o==s.props?s:new Ot(s.start,s.type,o,s.token,s.content)}return s})}substituteArgsInProps(e,t,r){let s=o=>{let a=o;for(let l=0;l<o.length;l++){let c=o[l];if(!c.name)continue;let u=r.findIndex(d=>d.name==c.name);if(u<0)continue;a==o&&(a=o.slice());let h=t[u];h instanceof ae&&!h.args.length?a[l]=new Gt(c.start,h.id.name,null):h instanceof ge?a[l]=new Gt(c.start,h.value,null):this.raise(`Trying to interpolate expression '${h}' into a prop`,c.start)}return a},i=e;for(let o=0;o<e.length;o++){let a=e[o],l=s(a.value);l!=a.value&&(i==e&&(i=e.slice()),i[o]=new _n(a.start,a.at,a.name,l))}return i}conflictsFor(e){let t=ne.none,r=ne.none;for(let s of e)if(s.type=="ambig")t=t.join(new ne(0,[s.id.name]));else{let i=this.ast.precedences,o=i?i.items.findIndex(c=>c.id.name==s.id.name):-1;o<0&&this.raise(`Reference to unknown precedence: '${s.id.name}'`,s.id.start);let a=i.items[o],l=i.items.length-o;a.type=="cut"?t=t.join(new ne(0,oe,l)):(t=t.join(new ne(l<<2)),r=r.join(new ne((l<<2)+(a.type=="left"?1:a.type=="right"?-1:0))))}return{here:t,atEnd:r}}raise(e,t=1){return this.input.raise(e,t)}warn(e,t=-1){let r=this.input.message(e,t);this.options.warn?this.options.warn(r):console.warn(r)}defineRule(e,t){let r=this.currentSkip[this.currentSkip.length-1];for(let s of t)this.rules.push(new dr(e,s.terms,s.ensureConflicts(),r))}resolve(e){for(let s of this.built)if(s.matches(e))return[ze(s.term)];let t=this.tokens.getToken(e);if(t)return[ze(t)];for(let s of this.localTokens){let i=s.getToken(e);if(i)return[ze(i)]}for(let s of this.externalTokens){let i=s.getToken(e);if(i)return[ze(i)]}for(let s of this.externalSpecializers){let i=s.getToken(e);if(i)return[ze(i)]}let r=this.astRules.find(s=>s.rule.id.name==e.id.name);return r?(r.rule.params.length!=e.args.length&&this.raise(`Wrong number or arguments for '${e.id.name}'`,e.start),this.used(r.rule.id.name),[ze(this.buildRule(r.rule,e.args,r.skip))]):this.raise(`Reference to undefined rule '${e.id.name}'`,e.start)}normalizeRepeat(e){let t=this.built.find(i=>i.matchesRepeat(e));if(t)return ze(t.term);let r=e.expr.prec<e.prec?`(${e.expr})+`:`${e.expr}+`,s=this.terms.makeRepeat(this.terms.uniqueName(r));return this.built.push(new kn("+",[e.expr],s)),this.defineRule(s,this.normalizeExpr(e.expr).concat(ze(s,s))),ze(s)}normalizeSequence(e){let t=e.exprs.map(i=>this.normalizeExpr(i)),r=this;function s(i,o,a){let{here:l,atEnd:c}=r.conflictsFor(e.markers[o]);if(o==t.length)return[i.withConflicts(i.terms.length,l.join(a))];let u=[];for(let h of t[o])for(let d of s(i.concat(h).withConflicts(i.terms.length,l),o+1,a.join(c)))u.push(d);return u}return s(Me.none,0,ne.none)}normalizeExpr(e){if(e instanceof dt&&e.kind=="?")return[Me.none,...this.normalizeExpr(e.expr)];if(e instanceof dt){let t=this.normalizeRepeat(e);return e.kind=="+"?[t]:[Me.none,t]}else return e instanceof ht?e.exprs.reduce((t,r)=>t.concat(this.normalizeExpr(r)),[]):e instanceof Se?this.normalizeSequence(e):e instanceof ge?[ze(this.tokens.getLiteral(e))]:e instanceof ae?this.resolve(e):e instanceof Ot?[ze(this.resolveSpecialization(e))]:e instanceof ut?[ze(this.buildRule(e.rule,oe,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise(`This type of expression ('${e}') may not occur in non-token rules`,e.start)}buildRule(e,t,r,s=!1){let i=this.substituteArgs(e.expr,t,e.params),{name:o,props:a,dynamicPrec:l,inline:c,group:u,exported:h}=this.nodeInfo(e.props||oe,s?"pg":"pgi",e.id.name,t,e.params,e.expr);h&&e.params.length&&this.warn("Can't export parameterized rules",e.start),h&&s&&this.warn("Can't export inline rule",e.start);let d=this.newName(e.id.name+(t.length?"<"+t.join(",")+">":""),o||!0,a);return c&&(d.inline=!0),l&&this.registerDynamicPrec(d,l),(d.nodeType||h)&&e.params.length==0&&(o||(d.preserve=!0),s||(this.namedTerms[h||e.id.name]=d)),s||this.built.push(new kn(e.id.name,t,d)),this.currentSkip.push(r),this.defineRule(d,this.normalizeExpr(i)),this.currentSkip.pop(),u&&this.definedGroups.push({name:d,group:u,rule:e}),d}nodeInfo(e,t,r=null,s=oe,i=oe,o,a){let l={},c=r&&(t.indexOf("a")>-1||!Gb(r))&&!/ /.test(r)?r:null,u=null,h=0,d=!1,f=null,p=null;for(let m of e)if(m.at)if(m.name=="name")c=this.finishProp(m,s,i),/ /.test(c)&&this.raise(`Node names cannot have spaces ('${c}')`,m.start);else if(m.name=="dialect"){t.indexOf("d")<0&&this.raise("Can't specify a dialect on non-token rules",e[0].start),m.value.length!=1&&!m.value[0].value&&this.raise("The '@dialect' rule prop must hold a plain string value");let y=this.dialects.indexOf(m.value[0].value);y<0&&this.raise(`Unknown dialect '${m.value[0].value}'`,m.value[0].start),u=y}else m.name=="dynamicPrecedence"?(t.indexOf("p")<0&&this.raise("Dynamic precedence can only be specified on nonterminals"),(m.value.length!=1||!/^-?(?:10|\d)$/.test(m.value[0].value))&&this.raise("The '@dynamicPrecedence' rule prop must hold an integer between -10 and 10"),h=+m.value[0].value):m.name=="inline"?(m.value.length&&this.raise("'@inline' doesn't take a value",m.value[0].start),t.indexOf("i")<0&&this.raise("Inline can only be specified on nonterminals"),d=!0):m.name=="isGroup"?(t.indexOf("g")<0&&this.raise("'@isGroup' can only be specified on nonterminals"),f=m.value.length?this.finishProp(m,s,i):r):m.name=="export"?m.value.length?p=this.finishProp(m,s,i):p=r:this.raise(`Unknown built-in prop name '@${m.name}'`,m.start);else{if(!this.knownProps[m.name]){let y=["name","dialect","dynamicPrecedence","export","isGroup"].includes(m.name)?` (did you mean '@${m.name}'?)`:"";this.raise(`Unknown prop name '${m.name}'${y}`,m.start)}l[m.name]=this.finishProp(m,s,i)}if(o&&this.ast.autoDelim&&(c||nr(l))){let m=this.findDelimiters(o);m&&(sd(m[0],"closedBy",m[1].nodeName),sd(m[1],"openedBy",m[0].nodeName))}if(a&&nr(a))for(let m in a)m in l||(l[m]=a[m]);return nr(l)&&!c&&this.raise("Node has properties but no name",e.length?e[0].start:o.start),d&&(nr(l)||u||h)&&this.raise("Inline nodes can't have props, dynamic precedence, or a dialect",e[0].start),d&&c&&(c=null),{name:c,props:l,dialect:u,dynamicPrec:h,inline:d,group:f,exported:p}}finishProp(e,t,r){return e.value.map(s=>{if(s.value)return s.value;let i=r.findIndex(a=>a.name==s.name);i<0&&this.raise(`Property refers to '${s.name}', but no parameter by that name is in scope`,s.start);let o=t[i];return o instanceof ae&&!o.args.length?o.id.name:o instanceof ge?o.value:this.raise(`Expression '${o}' can not be used as part of a property value`,s.start)}).join("")}resolveSpecialization(e){let t=e.type,{name:r,props:s,dialect:i}=this.nodeInfo(e.props,"d"),o=this.normalizeExpr(e.token);(o.length!=1||o[0].terms.length!=1||!o[0].terms[0].terminal)&&this.raise(`The first argument to '${t}' must resolve to a token`,e.token.start);let a;if(e.content instanceof ge)a=[e.content.value];else if(e.content instanceof ht&&e.content.exprs.every(h=>h instanceof ge))a=e.content.exprs.map(h=>h.value);else return this.raise(`The second argument to '${e.type}' must be a literal or choice of literals`,e.content.start);let l=o[0].terms[0],c=null,u=this.specialized[l.name]||(this.specialized[l.name]=[]);for(let h of a){let d=u.find(f=>f.value==h);d==null?(c||(c=this.makeTerminal(l.name+"/"+JSON.stringify(h),r,s),i!=null&&(this.tokens.byDialect[i]||(this.tokens.byDialect[i]=[])).push(c)),u.push({value:h,term:c,type:t,dialect:i,name:r}),this.tokenOrigins[c.name]={spec:l}):(d.type!=t&&this.raise(`Conflicting specialization types for ${JSON.stringify(h)} of ${l.name} (${t} vs ${d.type})`,e.start),d.dialect!=i&&this.raise(`Conflicting dialects for specialization ${JSON.stringify(h)} of ${l.name}`,e.start),d.name!=r&&this.raise(`Conflicting names for specialization ${JSON.stringify(h)} of ${l.name}`,e.start),c&&d.term!=c&&this.raise(`Conflicting specialization tokens for ${JSON.stringify(h)} of ${l.name}`,e.start),c=d.term)}return c}findDelimiters(e){if(!(e instanceof Se)||e.exprs.length<2)return null;let t=a=>{if(a instanceof ge)return{term:this.tokens.getLiteral(a),str:a.value};if(a instanceof ae&&a.args.length==0){let l=this.ast.rules.find(u=>u.id.name==a.id.name);if(l)return t(l.expr);let c=this.tokens.rules.find(u=>u.id.name==a.id.name);if(c&&c.expr instanceof ge)return{term:this.tokens.getToken(a),str:c.expr.value}}return null},r=t(e.exprs[e.exprs.length-1]);if(!r||!r.term.nodeName)return null;let i=["()","[]","{}","<>"].find(a=>r.str.indexOf(a[1])>-1&&r.str.indexOf(a[0])<0);if(!i)return null;let o=t(e.exprs[0]);return!o||!o.term.nodeName||o.str.indexOf(i[0])<0||o.str.indexOf(i[1])>-1?null:[o.term,r.term]}registerDynamicPrec(e,t){this.dynamicRulePrecedences.push({rule:e,prec:t}),e.preserve=!0}defineGroup(e,t,r){var s;let i=[],o=a=>{if(a.nodeName)return[a];i.includes(a)&&this.raise(`Rule '${r.id.name}' cannot define a group because it contains a non-named recursive rule ('${a.name}')`,r.start);let l=[];i.push(a);for(let c of this.rules)if(c.name==a){let u=c.parts.map(o).filter(h=>h.length);if(u.length>1&&this.raise(`Rule '${r.id.name}' cannot define a group because some choices produce multiple named nodes`,r.start),u.length==1)for(let h of u[0])l.push(h)}return i.pop(),l};for(let a of o(e))a.props.group=(((s=a.props.group)===null||s===void 0?void 0:s.split(" "))||[]).concat(t).sort().join(" ")}checkGroups(){let e=Object.create(null),t=Object.create(null);for(let s of this.terms.terms)if(s.nodeName&&(t[s.nodeName]=!0,s.props.group))for(let i of s.props.group.split(" "))(e[i]||(e[i]=[])).push(s);let r=Object.keys(e);for(let s=0;s<r.length;s++){let i=r[s],o=e[i];t[i]&&this.warn(`Group name '${i}' conflicts with a node of the same name`);for(let a=s+1;a<r.length;a++){let l=e[r[a]];o.some(c=>l.includes(c))&&(o.length>l.length?l.some(c=>!o.includes(c)):o.some(c=>!l.includes(c)))&&this.warn(`Groups '${i}' and '${r[a]}' overlap without one being a superset of the other`)}}}},ta=5,Na=class{constructor(e,t,r,s,i,o,a){this.tokenizers=e,this.data=t,this.stateArray=r,this.skipData=s,this.skipInfo=i,this.states=o,this.builder=a,this.sharedActions=[]}findSharedActions(e){if(e.actions.length<ta)return null;let t=null;for(let o of this.sharedActions)(!t||o.actions.length>t.actions.length)&&o.actions.every(a=>e.actions.some(l=>l.eq(a)))&&(t=o);if(t)return t;let r=null,s=[];for(let o=e.id+1;o<this.states.length;o++){let a=this.states[o],l=0;if(!(a.defaultReduce||a.actions.length<ta)){for(let c of e.actions)for(let u of a.actions)c.eq(u)&&(s[l++]=c);l>=ta&&(!r||r.length<l)&&(r=s,s=[])}}if(!r)return null;let i={actions:r,addr:this.storeActions(r,-1,null)};return this.sharedActions.push(i),i}storeActions(e,t,r){if(t<0&&r&&r.actions.length==e.length)return r.addr;let s=[];for(let i of e)if(!(r&&r.actions.some(o=>o.eq(i))))if(i instanceof Ie)s.push(i.term.id,i.target.id,0);else{let o=lr(i.rule,this.skipInfo);o!=t&&s.push(i.term.id,o&65535,o>>16)}return s.push(65535),t>-1?s.push(2,t&65535,t>>16):r?s.push(1,r.addr&65535,r.addr>>16):s.push(0),this.data.storeArray(s)}finish(e,t,r){let s=this.builder,i=s.skipRules.indexOf(e.skip),o=this.skipData[i],a=this.skipInfo[i].startTokens,l=e.defaultReduce?lr(e.defaultReduce,this.skipInfo):0,c=t?1:0,u=-1,h=null;if(l==0){if(t)for(let m of e.actions)m instanceof st&&m.term.eof&&(u=lr(m.rule,this.skipInfo));u<0&&(h=this.findSharedActions(e))}e.set.some(m=>m.rule.name.top&&m.pos==m.rule.parts.length)&&(c|=2);let d=[];for(let m=0;m<e.actions.length+a.length;m++){let y=m<e.actions.length?e.actions[m].term:a[m-e.actions.length];for(;;){let g=s.tokenOrigins[y.name];if(g&&g.spec){y=g.spec;continue}g&&g.external instanceof mr&&ir(d,g.external);break}}let f=0;for(let m=0;m<this.tokenizers.length;m++){let y=this.tokenizers[m];(d.includes(y)||y.groupID==e.tokenGroup)&&(f|=1<<m)}let p=e.id*6;this.stateArray[p+0]=c,this.stateArray[p+1]=this.storeActions(l?oe:e.actions,u,h),this.stateArray[p+2]=o,this.stateArray[p+3]=f,this.stateArray[p+4]=l,this.stateArray[p+5]=r}};Ts=class{constructor(){this.data=[]}storeArray(e){let t=Rb(this.data,e);if(t>-1)return t;let r=this.data.length;for(let s of e)this.data.push(s);return r}finish(){return Uint16Array.from(this.data)}};Da=class{constructor(e,t){this.tokens=e,this.groupID=t}create(){return this.groupID}createSource(){return String(this.groupID)}};Ma=class{constructor(e,t,r){this.name=e,this.expr=t,this.scope=r}},Ia=class{constructor(e,t,r,s){this.name=e,this.start=t,this.to=r,this.args=s}},Ns=class{constructor(e,t){this.b=e,this.ast=t,this.startState=new De,this.built=[],this.building=[],this.byDialect=Object.create(null),this.precedenceRelations=[],this.rules=t?t.rules:oe;for(let r of this.rules)e.unique(r.id)}getToken(e){for(let c of this.built)if(c.matches(e))return c.term;let t=e.id.name,r=this.rules.find(c=>c.id.name==t);if(!r)return null;let{name:s,props:i,dialect:o,exported:a}=this.b.nodeInfo(r.props,"d",t,e.args,r.params.length!=e.args.length?oe:r.params),l=this.b.makeTerminal(e.toString(),s,i);return o!=null&&(this.byDialect[o]||(this.byDialect[o]=[])).push(l),(l.nodeType||a)&&r.params.length==0&&(l.nodeType||(l.preserve=!0),this.b.namedTerms[a||t]=l),this.buildRule(r,e,this.startState,new De([l])),this.built.push(new kn(t,e.args,l)),l}buildRule(e,t,r,s,i=oe){let o=t.id.name;e.params.length!=t.args.length&&this.b.raise(`Incorrect number of arguments for token '${o}'`,t.start);let a=this.building.find(c=>c.name==o&&pr(t.args,c.args));if(a){if(a.to==s){r.nullEdge(a.start);return}let c=this.building.length-1;for(;this.building[c].name!=o;)c--;this.b.raise(`Invalid (non-tail) recursion in token rules: ${this.building.slice(c).map(u=>u.name).join(" -> ")}`,t.start)}this.b.used(e.id.name);let l=new De;r.nullEdge(l),this.building.push(new Ia(o,l,s,t.args)),this.build(this.b.substituteArgs(e.expr,t.args,e.params),l,s,t.args.map((c,u)=>new Ma(e.params[u].name,c,i))),this.building.pop()}build(e,t,r,s){if(e instanceof ae){let i=e.id.name,o=s.find(l=>l.name==i);if(o)return this.build(o.expr,t,r,o.scope);let a;for(let l=0,c=this.b.localTokens;l<=c.length;l++)a=(l==c.length?this.b.tokens:c[l]).rules.find(h=>h.id.name==i);if(!a)return this.b.raise(`Reference to token rule '${e.id.name}', which isn't found`,e.start);this.buildRule(a,e,t,r,s)}else if(e instanceof hr)for(let[i,o]of xa[e.type])t.edge(i,o,r);else if(e instanceof ht)for(let i of e.exprs)this.build(i,t,r,s);else if(fd(e))t.nullEdge(r);else if(e instanceof Se){let i=e.markers.find(o=>o.length>0);i&&this.b.raise("Conflict marker in token expression",i[0].start);for(let o=0;o<e.exprs.length;o++){let a=o==e.exprs.length-1?r:new De;this.build(e.exprs[o],t,a,s),t=a}}else if(e instanceof dt)if(e.kind=="*"){let i=new De;t.nullEdge(i),this.build(e.expr,i,i,s),i.nullEdge(r)}else if(e.kind=="+"){let i=new De;this.build(e.expr,t,i,s),this.build(e.expr,i,i,s),i.nullEdge(r)}else t.nullEdge(r),this.build(e.expr,t,r,s);else if(e instanceof xs)for(let[i,o]of e.inverted?Fb(e.ranges):e.ranges)$b(t,r,i,o);else if(e instanceof ge)for(let i=0;i<e.value.length;i++){let o=e.value.charCodeAt(i),a=i==e.value.length-1?r:new De;t.edge(o,o+1,a),t=a}else if(e instanceof vs){let i=new De;t.edge(0,56320,r),t.edge(56320,Ba+1,r),t.edge(55296,56320,i),i.edge(56320,57344,r)}else return this.b.raise("Unrecognized expression type in token",e.start)}takePrecedences(){let e=this.precedenceRelations=[];if(this.ast)for(let t of this.ast.precedences){let r=[];for(let s of t.items){let i=[];if(s instanceof ae)for(let o of this.built)(s.args.length?o.matches(s):o.id==s.id.name)&&i.push(o.term);else{let o=JSON.stringify(s.value),a=this.built.find(l=>l.id==o);a&&i.push(a.term)}i.length||this.b.warn(`Precedence specified for unknown token ${s}`,s.start);for(let o of i)ia(e,o,r);r=r.concat(i)}}}precededBy(e,t){let r=this.precedenceRelations.find(s=>s.term==e);return r&&r.after.includes(t)}buildPrecTable(e){let t=[],r=this.precedenceRelations.slice();for(let{a:s,b:i,soft:o}of e)if(o){if(!r.some(a=>a.term==s)||!r.some(a=>a.term==i))continue;o<0&&([s,i]=[i,s]),ia(r,i,[s]),ia(r,s,[])}e:for(;r.length;){for(let s=0;s<r.length;s++){let i=r[s];if(i.after.every(o=>t.includes(o.id))){if(t.push(i.term.id),r.length==1)break e;r[s]=r.pop();continue e}}this.b.raise(`Cyclic token precedence relation between ${r.map(s=>s.term).join(", ")}`)}return t}},La=class extends Ns{constructor(){super(...arguments),this.explicitConflicts=[]}getLiteral(e){let t=JSON.stringify(e.value);for(let c of this.built)if(c.id==t)return c.term;let r=null,s={},i=null,o=null,a=this.ast?this.ast.literals.find(c=>c.literal==e.value):null;a&&({name:r,props:s,dialect:i,exported:o}=this.b.nodeInfo(a.props,"da",e.value));let l=this.b.makeTerminal(t,r,s);return i!=null&&(this.byDialect[i]||(this.byDialect[i]=[])).push(l),o&&(this.b.namedTerms[o]=l),this.build(e,this.startState,new De([l]),oe),this.built.push(new kn(t,oe,l)),l}takeConflicts(){var e;let t=r=>{if(r instanceof ae){for(let s of this.built)if(s.matches(r))return s.term}else{let s=JSON.stringify(r.value),i=this.built.find(o=>o.id==s);if(i)return i.term}return this.b.warn(`Precedence specified for unknown token ${r}`,r.start),null};for(let r of((e=this.ast)===null||e===void 0?void 0:e.conflicts)||[]){let s=t(r.a),i=t(r.b);s&&i&&(s.id<i.id&&([s,i]=[i,s]),this.explicitConflicts.push({a:s,b:i}))}}buildTokenGroups(e,t,r){let s=this.startState.compile();s.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${s.accepting[0].name}')`,this.rules.find(h=>h.id.name==s.accepting[0].name).start),/\btokens\b/.test(Es)&&console.log(s.toString());let i=s.findConflicts(Pb(e,this.b,t)).filter(({a:h,b:d})=>!this.precededBy(h,d)&&!this.precededBy(d,h));for(let{a:h,b:d}of this.explicitConflicts)i.some(f=>f.a==h&&f.b==d)||i.push(new ud(h,d,0,"",""));let o=i.filter(h=>h.soft),a=i.filter(h=>!h.soft),l=[],c=[];for(let h of e){if(h.defaultReduce||h.tokenGroup>-1)continue;let d=[],f=[],p=t[this.b.skipRules.indexOf(h.skip)].startTokens;for(let g of p)h.actions.some(b=>b.term==g)&&this.b.raise(`Use of token ${g.name} conflicts with skip rule`);let m=[];for(let g=0;g<h.actions.length+(p?p.length:0);g++){let b=g<h.actions.length?h.actions[g].term:p[g-h.actions.length],_=this.b.tokenOrigins[b.name];if(_&&_.spec)b=_.spec;else if(_&&_.external)continue;ir(m,b)}if(m.length==0)continue;for(let g of m)for(let b of a){let _=b.a==g?b.b:b.b==g?b.a:null;if(_){if(m.includes(_)&&!l.some(M=>M.conflict==b)){let M=b.exampleA?` (example: ${JSON.stringify(b.exampleA)}${b.exampleB?` vs ${JSON.stringify(b.exampleB)}`:""})`:"";l.push({error:`Overlapping tokens ${g.name} and ${_.name} used in same context${M}
After: ${h.set[0].trail()}`,conflict:b})}ir(d,g),ir(f,_)}}let y=null;for(let g of c)if(!f.some(b=>g.tokens.includes(b))){for(let b of d)ir(g.tokens,b);y=g;break}y||(y=new Da(d,c.length+r),c.push(y)),h.tokenGroup=y.groupID}l.length&&this.b.raise(l.map(h=>h.error).join(`

`)),c.length+r>16&&this.b.raise(`Too many different token groups (${c.length}) to represent them as a 16-bit bitfield`);let u=this.buildPrecTable(o);return{tokenGroups:c,tokenPrec:u,tokenData:s.toArray(Bb(c),u)}}},Ra=class extends Ns{constructor(e,t){super(e,t),this.fallback=null,t.fallback&&e.unique(t.fallback.id)}getToken(e){let t=null;if(this.ast.fallback&&this.ast.fallback.id.name==e.id.name){if(e.args.length&&this.b.raise(`Incorrect number of arguments for ${e.id.name}`,e.start),!this.fallback){let{name:r,props:s,exported:i}=this.b.nodeInfo(this.ast.fallback.props,"",e.id.name,oe,oe),o=this.fallback=this.b.makeTerminal(e.id.name,r,s);(o.nodeType||i)&&(o.nodeType||(o.preserve=!0),this.b.namedTerms[i||e.id.name]=o),this.b.used(e.id.name)}t=this.fallback}else t=super.getToken(e);return t&&!this.b.tokenOrigins[t.name]&&(this.b.tokenOrigins[t.name]={group:this}),t}buildLocalGroup(e,t,r){let s=this.startState.compile();s.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${s.accepting[0].name}')`,this.rules.find(c=>c.id.name==s.accepting[0].name).start);for(let{a:c,b:u,exampleA:h}of s.findConflicts(()=>!0))!this.precededBy(c,u)&&!this.precededBy(u,c)&&this.b.raise(`Overlapping tokens ${c.name} and ${u.name} in local token group${h?` (example: ${JSON.stringify(h)})`:""}`);for(let c of e){if(c.defaultReduce)continue;let u=null,h=t[this.b.skipRules.indexOf(c.skip)].startTokens[0];for(let{term:d}of c.actions){let f=this.b.tokenOrigins[d.name];f?.group==this?u=d:h=d}u&&(h&&this.b.raise(`Tokens from a local token group used together with other tokens (${u.name} with ${h.name})`),c.tokenGroup=r)}let i=this.buildPrecTable(oe),o=s.toArray({[r]:65535},i),a=o.length,l=new Uint16Array(o.length+i.length+1);return l.set(o,0),l.set(i,a),l[l.length-1]=65535,{groupID:r,create:()=>new Xl(l,a,this.fallback?this.fallback.id:void 0),createSource:c=>`new ${c("LocalTokenGroup","@lezer/lr")}(${sr(l)}, ${a}${this.fallback?`, ${this.fallback.id}`:""})`}}};na=65536,id=55296,od=57344,ad=1114111,ra=56320,sa=57343;mr=class{constructor(e,t){this.b=e,this.ast=t,this.tokens=md(e,t.tokens);for(let r in this.tokens)this.b.tokenOrigins[this.tokens[r].name]={external:this}}getToken(e){return pd(this.b,this.tokens,e)}create(){return this.b.options.externalTokenizer(this.ast.id.name,this.b.termTable)}createSource(e){let{source:t,id:{name:r}}=this.ast;return e(r,t)}},cr=class{constructor(e,t){this.b=e,this.ast=t,this.term=null,this.tokens=md(e,t.tokens)}finish(){let e=this.b.normalizeExpr(this.ast.token);(e.length!=1||e[0].terms.length!=1||!e[0].terms[0].terminal)&&this.b.raise(`The token expression to '@external ${this.ast.type}' must resolve to a token`,this.ast.token.start),this.term=e[0].terms[0];for(let t in this.tokens)this.b.tokenOrigins[this.tokens[t].name]={spec:this.term,external:this}}getToken(e){return pd(this.b,this.tokens,e)}};ld=["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","while","with","null","true","false","instanceof","typeof","void","delete","new","in","this","const","class","extends","export","import","super","enum","implements","interface","let","package","private","protected","public","static","yield","require"]});var Jb,Sn,Wb,Ds,Fa=v(()=>{Dr();Lt();Mt();Or();Jb=se.theme({"&":{background:"var(--jp-layout-color0)",color:"var(--jp-content-font-color1)"},".jp-CodeConsole &, .jp-Notebook &":{background:"transparent"},".cm-content":{caretColor:"var(--jp-editor-cursor-color)"},".cm-scroller":{fontFamily:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeft:"var(--jp-code-cursor-width0) solid var(--jp-editor-cursor-color)"},".cm-selectionBackground, .cm-content ::selection":{backgroundColor:"var(--jp-editor-selected-background)"},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{backgroundColor:"var(--jp-editor-selected-focused-background)"},".cm-gutters":{borderRight:"1px solid var(--jp-border-color2)",backgroundColor:"var(--jp-layout-color2)"},".cm-gutter":{backgroundColor:"var(--jp-layout-color2)"},".cm-activeLine":{backgroundColor:"color-mix(in srgb, var(--jp-layout-color3) 25%, transparent)"},".cm-lineNumbers":{color:"var(--jp-ui-font-color2)"},".cm-searchMatch":{backgroundColor:"var(--jp-search-unselected-match-background-color)",color:"var(--jp-search-unselected-match-color)"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"var(--jp-search-selected-match-background-color) !important",color:"var(--jp-search-selected-match-color) !important"},".cm-tooltip":{backgroundColor:"var(--jp-layout-color1)"}}),Sn=Hl.define([{tag:E.meta,color:"var(--jp-mirror-editor-meta-color)"},{tag:E.heading,color:"var(--jp-mirror-editor-header-color)"},{tag:[E.heading1,E.heading2,E.heading3,E.heading4],color:"var(--jp-mirror-editor-header-color)",fontWeight:"bold"},{tag:E.keyword,color:"var(--jp-mirror-editor-keyword-color)",fontWeight:"bold"},{tag:E.atom,color:"var(--jp-mirror-editor-atom-color)"},{tag:E.number,color:"var(--jp-mirror-editor-number-color)"},{tag:[E.definition(E.name),E.function(E.definition(E.variableName))],color:"var(--jp-mirror-editor-def-color)"},{tag:E.standard(E.variableName),color:"var(--jp-mirror-editor-builtin-color)"},{tag:[E.special(E.variableName),E.self],color:"var(--jp-mirror-editor-variable-2-color)"},{tag:E.punctuation,color:"var(--jp-mirror-editor-punctuation-color)"},{tag:E.propertyName,color:"var(--jp-mirror-editor-property-color)"},{tag:E.operator,color:"var(--jp-mirror-editor-operator-color)",fontWeight:"bold"},{tag:E.comment,color:"var(--jp-mirror-editor-comment-color)",fontStyle:"italic"},{tag:E.string,color:"var(--jp-mirror-editor-string-color)"},{tag:[E.labelName,E.monospace,E.special(E.string)],color:"var(--jp-mirror-editor-string-2-color)"},{tag:E.bracket,color:"var(--jp-mirror-editor-bracket-color)"},{tag:E.tagName,color:"var(--jp-mirror-editor-tag-color)"},{tag:E.attributeName,color:"var(--jp-mirror-editor-attribute-color)"},{tag:E.quote,color:"var(--jp-mirror-editor-quote-color)"},{tag:E.link,color:"var(--jp-mirror-editor-link-color)",textDecoration:"underline"},{tag:[E.separator,E.derefOperator,E.paren],color:""},{tag:E.strong,fontWeight:"bold"},{tag:E.emphasis,fontStyle:"italic"},{tag:E.strikethrough,textDecoration:"line-through"},{tag:E.bool,color:"var(--jp-mirror-editor-keyword-color)",fontWeight:"bold"}]),Wb=[Jb,ji(Sn)],Ds=class{constructor(){this._themeMap=new Map([["jupyter",Object.freeze({name:"jupyter",theme:Wb})]])}get themes(){return Array.from(this._themeMap.values())}defaultTheme(){return this._themeMap.get("jupyter").theme}addTheme(e){if(this._themeMap.has(e.name))throw new Error(`A theme named '${e.name}' is already registered.`);this._themeMap.set(e.name,{displayName:e.name,...e})}getTheme(e){var t;let r=(t=this._themeMap.get(e))===null||t===void 0?void 0:t.theme;return r??this.defaultTheme()}};(function(n){function e(t){let r=(t??ve).load("jupyterlab");return[Object.freeze({name:"codemirror",displayName:r.__("codemirror"),theme:[se.baseTheme({}),ji(Jl)]})]}n.getDefaultThemes=e})(Ds||(Ds={}))});var yd,Cn,Ms=v(()=>{Dr();Hh();yd=$(op());Mt();bd();Or();Fa();Cn=class{constructor(){this._modeList=[],this.addLanguage({name:"none",mime:"text/plain",support:new Ii(Vl.define({parser:gd("@top Program { }")}))})}addLanguage(e){var t;if((t=this.findByName(e.name))!==null&&t!==void 0?t:this.findByMIME(e.mime,!0))throw new Error(`${e.mime} already registered`);this._modeList.push(this.makeSpec(e))}async getLanguage(e){let t=this.findBest(e);return t&&!t.support&&(t.support=await t.load()),t}getLanguages(){return[...this._modeList]}findByMIME(e,t=!1){if(Array.isArray(e)){for(let r=0;r<e.length;r++){let s=this.findByMIME(e[r]);if(s)return s}return null}e=e.toLowerCase();for(let r=0;r<this._modeList.length;r++){let s=this._modeList[r];if(Array.isArray(s.mime)){for(let i=0;i<s.mime.length;i++)if(s.mime[i]==e)return s}else if(s.mime==e)return s}if(!t){if(/\+xml$/.test(e))return this.findByMIME("application/xml");if(/\+json$/.test(e))return this.findByMIME("application/json")}return null}findByName(e){e=e.toLowerCase();for(let t=0;t<this._modeList.length;t++){let r=this._modeList[t];if(r.name.toLowerCase()==e)return r;if(r.alias){for(let s=0;s<r.alias.length;s++)if(r.alias[s].toLowerCase()==e)return r}}return null}findByExtension(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){let r=this.findByExtension(e[t]);if(r)return r}return null}e=e.toLowerCase();for(let t=0;t<this._modeList.length;t++){let r=this._modeList[t];for(let s=0;s<r.extensions.length;s++)if(r.extensions[s].toLowerCase()==e)return r}return null}findByFileName(e){let t=yd.PathExt.basename(e);for(let i=0;i<this._modeList.length;i++){let o=this._modeList[i];if(o.filename&&o.filename.test(t))return o}let r=t.lastIndexOf("."),s=r>-1&&t.substring(r+1,t.length);return s?this.findByExtension(s):null}findBest(e,t=!0){var r,s,i,o;let a=typeof e=="string"?e:e.name,l=typeof e!="string"?e.mime:a,c=typeof e!="string"?(r=e.extensions)!==null&&r!==void 0?r:[]:[];return(o=(i=(s=a?this.findByName(a):null)!==null&&s!==void 0?s:l?this.findByMIME(l):null)!==null&&i!==void 0?i:this.findByExtension(c))!==null&&o!==void 0?o:t?this.findByMIME(gs.defaultMimeType):null}async highlight(e,t,r){var s;t&&await this.getLanguage(t);let i=(s=t?.support)===null||s===void 0?void 0:s.language;if(!i){r.appendChild(document.createTextNode(e));return}let o=i.parser.parse(e),a=0;$l(o,Sn,(l,c,u)=>{l>a&&r.appendChild(document.createTextNode(e.slice(a,l)));let h=r.appendChild(document.createElement("span"));h.className=u,h.appendChild(document.createTextNode(e.slice(l,c))),a=c}),a<o.length-1&&r.appendChild(document.createTextNode(e.slice(a,o.length)))}makeSpec(e){let t=zl.of(e);return t.mime=e.mime,t.displayName=e.displayName,t}};(function(n){function e(s){return new Ii(Kl.define(s))}n.legacy=e;async function t(s){let i=await import("/myst_assets_folder/_shared/dist-A4Y3IAN3.js");return i.sql({dialect:i[s]})}function r(s){let i=(s??ve).load("jupyterlab");return[{name:"C",displayName:i.__("C"),mime:"text/x-csrc",extensions:["c","h","ino"],async load(){return(await import("/myst_assets_folder/_shared/dist-SYTUOENH.js")).cpp()}},{name:"C++",displayName:i.__("C++"),mime:"text/x-c++src",extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],async load(){return(await import("/myst_assets_folder/_shared/dist-SYTUOENH.js")).cpp()}},{name:"CQL",displayName:i.__("CQL"),mime:"text/x-cassandra",extensions:["cql"],load(){return t("Cassandra")}},{name:"CSS",displayName:i.__("CSS"),mime:"text/css",extensions:["css"],async load(){return(await import("/myst_assets_folder/_shared/dist-7SYUXVCA.js")).css()}},{name:"HTML",displayName:i.__("HTML"),alias:["xhtml"],mime:"text/html",extensions:["html","htm","handlebars","hbs"],async load(){return(await import("/myst_assets_folder/_shared/dist-NK5G34IL.js")).html()}},{name:"Java",displayName:i.__("Java"),mime:"text/x-java",extensions:["java"],async load(){return(await import("/myst_assets_folder/_shared/dist-5DONAJUM.js")).java()}},{name:"Javascript",displayName:i.__("Javascript"),alias:["ecmascript","js","node"],mime:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],extensions:["js","mjs","cjs"],async load(){return(await import("/myst_assets_folder/_shared/dist-TD7TCQUY.js")).javascript()}},{name:"JSON",displayName:i.__("JSON"),alias:["json5"],mime:["application/json","application/x-json"],extensions:["json","map"],async load(){return(await import("/myst_assets_folder/_shared/dist-3XU2EHU6.js")).json()}},{name:"JSX",displayName:i.__("JSX"),mime:"text/jsx",extensions:["jsx"],async load(){return(await import("/myst_assets_folder/_shared/dist-TD7TCQUY.js")).javascript({jsx:!0})}},{name:"MariaDB SQL",displayName:i.__("MariaDB SQL"),mime:"text/x-mariadb",load(){return t("MariaSQL")}},{name:"Markdown",displayName:i.__("Markdown"),mime:"text/x-markdown",extensions:["md","markdown","mkd"],async load(){return(await import("/myst_assets_folder/_shared/dist-WS536QKC.js")).markdown({codeLanguages:this._modeList})}},{name:"MS SQL",displayName:i.__("MS SQL"),mime:"text/x-mssql",load(){return t("MSSQL")}},{name:"MySQL",displayName:i.__("MySQL"),mime:"text/x-mysql",load(){return t("MySQL")}},{name:"PHP",displayName:i.__("PHP"),mime:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],extensions:["php","php3","php4","php5","php7","phtml"],async load(){return(await import("/myst_assets_folder/_shared/dist-NLZFSJKP.js")).php()}},{name:"PLSQL",displayName:i.__("PLSQL"),mime:"text/x-plsql",extensions:["pls"],load(){return t("PLSQL")}},{name:"PostgreSQL",displayName:i.__("PostgreSQL"),mime:"text/x-pgsql",load(){return t("PostgreSQL")}},{name:"Python",displayName:i.__("Python"),mime:"text/x-python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,async load(){return(await import("/myst_assets_folder/_shared/dist-TZ62ZUPS.js")).python()}},{name:"ipython",displayName:i.__("ipython"),mime:"text/x-ipython",async load(){return(await import("/myst_assets_folder/_shared/dist-TZ62ZUPS.js")).python()}},{name:"Rust",displayName:i.__("Rust"),mime:"text/x-rustsrc",extensions:["rs"],async load(){return(await import("/myst_assets_folder/_shared/dist-GCBESMGA.js")).rust()}},{name:"SQL",displayName:i.__("SQL"),mime:["application/sql","text/x-sql"],extensions:["sql"],load(){return t("StandardSQL")}},{name:"SQLite",displayName:i.__("SQLite"),mime:"text/x-sqlite",load(){return t("SQLite")}},{name:"TSX",displayName:i.__("TSX"),alias:["TypeScript-JSX"],mime:"text/typescript-jsx",extensions:["tsx"],async load(){return(await import("/myst_assets_folder/_shared/dist-TD7TCQUY.js")).javascript({jsx:!0,typescript:!0})}},{name:"TypeScript",displayName:i.__("TypeScript"),alias:["ts"],mime:"application/typescript",extensions:["ts"],async load(){return(await import("/myst_assets_folder/_shared/dist-TD7TCQUY.js")).javascript({typescript:!0})}},{name:"WebAssembly",displayName:i.__("WebAssembly"),mime:"text/webassembly",extensions:["wat","wast"],async load(){return(await import("/myst_assets_folder/_shared/dist-RWGRQLJS.js")).wast()}},{name:"XML",displayName:i.__("XML"),alias:["rss","wsdl","xsd"],mime:["application/xml","text/xml"],extensions:["xml","xsl","xsd","svg"],async load(){return(await import("/myst_assets_folder/_shared/dist-KABRLOVO.js")).xml()}},{name:"APL",displayName:i.__("APL"),mime:"text/apl",extensions:["dyalog","apl"],async load(){let o=await import("/myst_assets_folder/_shared/apl-V6TPG2KG.js");return e(o.apl)}},{name:"PGP",displayName:i.__("PGP"),alias:["asciiarmor"],mime:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],extensions:["asc","pgp","sig"],async load(){let o=await import("/myst_assets_folder/_shared/asciiarmor-FVRPOYK5.js");return e(o.asciiArmor)}},{name:"ASN.1",displayName:i.__("ASN.1"),mime:"text/x-ttcn-asn",extensions:["asn","asn1"],async load(){let o=await import("/myst_assets_folder/_shared/asn1-ZUJC3TBO.js");return e(o.asn1({}))}},{name:"Asterisk",displayName:i.__("Asterisk"),mime:"text/x-asterisk",filename:/^extensions\.conf$/i,async load(){let o=await import("/myst_assets_folder/_shared/asterisk-TOBL75D4.js");return e(o.asterisk)}},{name:"Brainfuck",displayName:i.__("Brainfuck"),mime:"text/x-brainfuck",extensions:["b","bf"],async load(){let o=await import("/myst_assets_folder/_shared/brainfuck-FS2BKEXV.js");return e(o.brainfuck)}},{name:"Cobol",displayName:i.__("Cobol"),mime:"text/x-cobol",extensions:["cob","cpy"],async load(){let o=await import("/myst_assets_folder/_shared/cobol-AYKQXUDJ.js");return e(o.cobol)}},{name:"C#",displayName:i.__("C#"),alias:["csharp","cs"],mime:"text/x-csharp",extensions:["cs"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.csharp)}},{name:"Clojure",displayName:i.__("Clojure"),mime:"text/x-clojure",extensions:["clj","cljc","cljx"],async load(){let o=await import("/myst_assets_folder/_shared/clojure-BX6I4CQT.js");return e(o.clojure)}},{name:"ClojureScript",displayName:i.__("ClojureScript"),mime:"text/x-clojurescript",extensions:["cljs"],async load(){let o=await import("/myst_assets_folder/_shared/clojure-BX6I4CQT.js");return e(o.clojure)}},{name:"Closure Stylesheets (GSS)",displayName:i.__("Closure Stylesheets (GSS)"),mime:"text/x-gss",extensions:["gss"],async load(){let o=await import("/myst_assets_folder/_shared/css-HLWIDZYG.js");return e(o.gss)}},{name:"CMake",displayName:i.__("CMake"),mime:"text/x-cmake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,async load(){let o=await import("/myst_assets_folder/_shared/cmake-HTEXSPKP.js");return e(o.cmake)}},{name:"CoffeeScript",displayName:i.__("CoffeeScript"),alias:["coffee","coffee-script"],mime:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],extensions:["coffee"],async load(){let o=await import("/myst_assets_folder/_shared/coffeescript-T7WUENOA.js");return e(o.coffeeScript)}},{name:"Common Lisp",displayName:i.__("Common Lisp"),alias:["lisp"],mime:"text/x-common-lisp",extensions:["cl","lisp","el"],async load(){let o=await import("/myst_assets_folder/_shared/commonlisp-ZWXP5OHT.js");return e(o.commonLisp)}},{name:"Cypher",displayName:i.__("Cypher"),mime:"application/x-cypher-query",extensions:["cyp","cypher"],async load(){let o=await import("/myst_assets_folder/_shared/cypher-OE6IG3F6.js");return e(o.cypher)}},{name:"Cython",displayName:i.__("Cython"),mime:"text/x-cython",extensions:["pyx","pxd","pxi"],async load(){let o=await import("/myst_assets_folder/_shared/python-AY3E7ZKV.js");return e(o.cython)}},{name:"Crystal",displayName:i.__("Crystal"),mime:"text/x-crystal",extensions:["cr"],async load(){let o=await import("/myst_assets_folder/_shared/crystal-73OANBLD.js");return e(o.crystal)}},{name:"D",displayName:i.__("D"),mime:"text/x-d",extensions:["d"],async load(){let o=await import("/myst_assets_folder/_shared/d-5UFD6HD4.js");return e(o.d)}},{name:"Dart",displayName:i.__("Dart"),mime:["application/dart","text/x-dart"],extensions:["dart"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.dart)}},{name:"diff",displayName:i.__("diff"),mime:"text/x-diff",extensions:["diff","patch"],async load(){let o=await import("/myst_assets_folder/_shared/diff-MSUAGDSQ.js");return e(o.diff)}},{name:"Dockerfile",displayName:i.__("Dockerfile"),mime:"text/x-dockerfile",filename:/^Dockerfile$/,async load(){let o=await import("/myst_assets_folder/_shared/dockerfile-JKEG2JK4.js");return e(o.dockerFile)}},{name:"DTD",displayName:i.__("DTD"),mime:"application/xml-dtd",extensions:["dtd"],async load(){let o=await import("/myst_assets_folder/_shared/dtd-4EGKSLFS.js");return e(o.dtd)}},{name:"Dylan",displayName:i.__("Dylan"),mime:"text/x-dylan",extensions:["dylan","dyl","intr"],async load(){let o=await import("/myst_assets_folder/_shared/dylan-EH77TZPF.js");return e(o.dylan)}},{name:"EBNF",displayName:i.__("EBNF"),mime:"text/x-ebnf",async load(){let o=await import("/myst_assets_folder/_shared/ebnf-47MNSM3N.js");return e(o.ebnf)}},{name:"ECL",displayName:i.__("ECL"),mime:"text/x-ecl",extensions:["ecl"],async load(){let o=await import("/myst_assets_folder/_shared/ecl-AEZTPA53.js");return e(o.ecl)}},{name:"edn",displayName:i.__("edn"),mime:"application/edn",extensions:["edn"],async load(){let o=await import("/myst_assets_folder/_shared/clojure-BX6I4CQT.js");return e(o.clojure)}},{name:"Eiffel",displayName:i.__("Eiffel"),mime:"text/x-eiffel",extensions:["e"],async load(){let o=await import("/myst_assets_folder/_shared/eiffel-O3ZOUXJV.js");return e(o.eiffel)}},{name:"Elm",displayName:i.__("Elm"),mime:"text/x-elm",extensions:["elm"],async load(){let o=await import("/myst_assets_folder/_shared/elm-J2JCD3SA.js");return e(o.elm)}},{name:"Erlang",displayName:i.__("Erlang"),mime:"text/x-erlang",extensions:["erl"],async load(){let o=await import("/myst_assets_folder/_shared/erlang-UPWGN6ZO.js");return e(o.erlang)}},{name:"Esper",displayName:i.__("Esper"),mime:"text/x-esper",async load(){let o=await import("/myst_assets_folder/_shared/sql-DSBUFHX2.js");return e(o.esper)}},{name:"Factor",displayName:i.__("Factor"),mime:"text/x-factor",extensions:["factor"],async load(){let o=await import("/myst_assets_folder/_shared/factor-QK2I6QLP.js");return e(o.factor)}},{name:"FCL",displayName:i.__("FCL"),mime:"text/x-fcl",async load(){let o=await import("/myst_assets_folder/_shared/fcl-KR7DXFGD.js");return e(o.fcl)}},{name:"Forth",displayName:i.__("Forth"),mime:"text/x-forth",extensions:["forth","fth","4th"],async load(){let o=await import("/myst_assets_folder/_shared/forth-LBCMBXSH.js");return e(o.forth)}},{name:"Fortran",displayName:i.__("Fortran"),mime:"text/x-fortran",extensions:["f","for","f77","f90","f95"],async load(){let o=await import("/myst_assets_folder/_shared/fortran-5CJFMKEA.js");return e(o.fortran)}},{name:"F#",displayName:i.__("F#"),alias:["fsharp"],mime:"text/x-fsharp",extensions:["fs"],async load(){let o=await import("/myst_assets_folder/_shared/mllike-ZABRWCN5.js");return e(o.fSharp)}},{name:"Gas",displayName:i.__("Gas"),mime:"text/x-gas",extensions:["s"],async load(){let o=await import("/myst_assets_folder/_shared/gas-XMC6JHRM.js");return e(o.gas)}},{name:"Gherkin",displayName:i.__("Gherkin"),mime:"text/x-feature",extensions:["feature"],async load(){let o=await import("/myst_assets_folder/_shared/gherkin-UN2XYMHI.js");return e(o.gherkin)}},{name:"Go",displayName:i.__("Go"),mime:"text/x-go",extensions:["go"],async load(){let o=await import("/myst_assets_folder/_shared/go-HDZX66IW.js");return e(o.go)}},{name:"Groovy",displayName:i.__("Groovy"),mime:"text/x-groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,async load(){let o=await import("/myst_assets_folder/_shared/groovy-GODM66FR.js");return e(o.groovy)}},{name:"Haskell",displayName:i.__("Haskell"),mime:"text/x-haskell",extensions:["hs"],async load(){let o=await import("/myst_assets_folder/_shared/haskell-P3AFUW27.js");return e(o.haskell)}},{name:"Haxe",displayName:i.__("Haxe"),mime:"text/x-haxe",extensions:["hx"],async load(){let o=await import("/myst_assets_folder/_shared/haxe-OILRV7B6.js");return e(o.haxe)}},{name:"HXML",displayName:i.__("HXML"),mime:"text/x-hxml",extensions:["hxml"],async load(){let o=await import("/myst_assets_folder/_shared/haxe-OILRV7B6.js");return e(o.hxml)}},{name:"HTTP",displayName:i.__("HTTP"),mime:"message/http",async load(){let o=await import("/myst_assets_folder/_shared/http-4DELRKPO.js");return e(o.http)}},{name:"IDL",displayName:i.__("IDL"),mime:"text/x-idl",extensions:["pro"],async load(){let o=await import("/myst_assets_folder/_shared/idl-Y46U76KL.js");return e(o.idl)}},{name:"JSON-LD",displayName:i.__("JSON-LD"),alias:["jsonld"],mime:"application/ld+json",extensions:["jsonld"],async load(){let o=await import("/myst_assets_folder/_shared/javascript-OYFME3DU.js");return e(o.jsonld)}},{name:"Jinja2",displayName:i.__("Jinja2"),mime:"text/jinja2",extensions:["j2","jinja","jinja2"],async load(){let o=await import("/myst_assets_folder/_shared/jinja2-CU5YJZZL.js");return e(o.jinja2)}},{name:"Julia",displayName:i.__("Julia"),mime:"text/x-julia",extensions:["jl"],async load(){let o=await import("/myst_assets_folder/_shared/julia-BOLPYAX2.js");return e(o.julia)}},{name:"Kotlin",displayName:i.__("Kotlin"),mime:"text/x-kotlin",extensions:["kt"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.kotlin)}},{name:"LESS",displayName:i.__("LESS"),mime:"text/x-less",extensions:["less"],async load(){let o=await import("/myst_assets_folder/_shared/css-HLWIDZYG.js");return e(o.less)}},{name:"LiveScript",displayName:i.__("LiveScript"),alias:["ls"],mime:"text/x-livescript",extensions:["ls"],async load(){let o=await import("/myst_assets_folder/_shared/livescript-BHNXBYP3.js");return e(o.liveScript)}},{name:"Lua",displayName:i.__("Lua"),mime:"text/x-lua",extensions:["lua"],async load(){let o=await import("/myst_assets_folder/_shared/lua-QL4TXHJO.js");return e(o.lua)}},{name:"mIRC",displayName:i.__("mIRC"),mime:"text/mirc",async load(){let o=await import("/myst_assets_folder/_shared/mirc-FTKSNA5O.js");return e(o.mirc)}},{name:"Mathematica",displayName:i.__("Mathematica"),mime:"text/x-mathematica",extensions:["m","nb","wl","wls"],async load(){let o=await import("/myst_assets_folder/_shared/mathematica-FWMBW3ZK.js");return e(o.mathematica)}},{name:"Modelica",displayName:i.__("Modelica"),mime:"text/x-modelica",extensions:["mo"],async load(){let o=await import("/myst_assets_folder/_shared/modelica-JQSOQRT7.js");return e(o.modelica)}},{name:"MUMPS",displayName:i.__("MUMPS"),mime:"text/x-mumps",extensions:["mps"],async load(){let o=await import("/myst_assets_folder/_shared/mumps-MH34JULM.js");return e(o.mumps)}},{name:"mbox",displayName:i.__("mbox"),mime:"application/mbox",extensions:["mbox"],async load(){let o=await import("/myst_assets_folder/_shared/mbox-3AHITJDZ.js");return e(o.mbox)}},{name:"Nginx",displayName:i.__("Nginx"),mime:"text/x-nginx-conf",filename:/nginx.*\.conf$/i,async load(){let o=await import("/myst_assets_folder/_shared/nginx-XBUE3U34.js");return e(o.nginx)}},{name:"NSIS",displayName:i.__("NSIS"),mime:"text/x-nsis",extensions:["nsh","nsi"],async load(){let o=await import("/myst_assets_folder/_shared/nsis-VOAELJUG.js");return e(o.nsis)}},{name:"NTriples",displayName:i.__("NTriples"),mime:["application/n-triples","application/n-quads","text/n-triples"],extensions:["nt","nq"],async load(){let o=await import("/myst_assets_folder/_shared/ntriples-E4AJX4XZ.js");return e(o.ntriples)}},{name:"Objective-C",displayName:i.__("Objective-C"),alias:["objective-c","objc"],mime:"text/x-objectivec",extensions:["m"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.objectiveC)}},{name:"Objective-C++",displayName:i.__("Objective-C++"),alias:["objective-c++","objc++"],mime:"text/x-objectivec++",extensions:["mm"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.objectiveCpp)}},{name:"OCaml",displayName:i.__("OCaml"),mime:"text/x-ocaml",extensions:["ml","mli","mll","mly"],async load(){let o=await import("/myst_assets_folder/_shared/mllike-ZABRWCN5.js");return e(o.oCaml)}},{name:"Octave",displayName:i.__("Octave"),mime:"text/x-octave",extensions:["m"],async load(){let o=await import("/myst_assets_folder/_shared/octave-YCY2TRPN.js");return e(o.octave)}},{name:"Oz",displayName:i.__("Oz"),mime:"text/x-oz",extensions:["oz"],async load(){let o=await import("/myst_assets_folder/_shared/oz-CTOPYJQS.js");return e(o.oz)}},{name:"Pascal",displayName:i.__("Pascal"),mime:"text/x-pascal",extensions:["p","pas"],async load(){let o=await import("/myst_assets_folder/_shared/pascal-EWPANOJD.js");return e(o.pascal)}},{name:"Perl",displayName:i.__("Perl"),mime:"text/x-perl",extensions:["pl","pm"],async load(){let o=await import("/myst_assets_folder/_shared/perl-6LWU5TNW.js");return e(o.perl)}},{name:"Pig",displayName:i.__("Pig"),mime:"text/x-pig",extensions:["pig"],async load(){let o=await import("/myst_assets_folder/_shared/pig-E7PJWR5C.js");return e(o.pig)}},{name:"PowerShell",displayName:i.__("PowerShell"),mime:"application/x-powershell",extensions:["ps1","psd1","psm1"],async load(){let o=await import("/myst_assets_folder/_shared/powershell-XFWVAV7I.js");return e(o.powerShell)}},{name:"Properties files",displayName:i.__("Properties files"),alias:["ini","properties"],mime:"text/x-properties",extensions:["properties","ini","in"],async load(){let o=await import("/myst_assets_folder/_shared/properties-I72IUSMH.js");return e(o.properties)}},{name:"ProtoBuf",displayName:i.__("ProtoBuf"),mime:"text/x-protobuf",extensions:["proto"],async load(){let o=await import("/myst_assets_folder/_shared/protobuf-GGFRKKG5.js");return e(o.protobuf)}},{name:"Puppet",displayName:i.__("Puppet"),mime:"text/x-puppet",extensions:["pp"],async load(){let o=await import("/myst_assets_folder/_shared/puppet-PLPXI7KS.js");return e(o.puppet)}},{name:"Q",displayName:i.__("Q"),mime:"text/x-q",extensions:["q"],async load(){let o=await import("/myst_assets_folder/_shared/q-2OZ7AMNU.js");return e(o.q)}},{name:"R",displayName:i.__("R"),alias:["rscript"],mime:"text/x-rsrc",extensions:["r","R"],async load(){let o=await import("/myst_assets_folder/_shared/r-D3YFSD7G.js");return e(o.r)}},{name:"RPM Changes",displayName:i.__("RPM Changes"),mime:"text/x-rpm-changes",async load(){let o=await import("/myst_assets_folder/_shared/rpm-73UNB3IO.js");return e(o.rpmChanges)}},{name:"RPM Spec",displayName:i.__("RPM Spec"),mime:"text/x-rpm-spec",extensions:["spec"],async load(){let o=await import("/myst_assets_folder/_shared/rpm-73UNB3IO.js");return e(o.rpmSpec)}},{name:"Ruby",displayName:i.__("Ruby"),alias:["jruby","macruby","rake","rb","rbx"],mime:"text/x-ruby",extensions:["rb"],async load(){let o=await import("/myst_assets_folder/_shared/ruby-EPZ57CVB.js");return e(o.ruby)}},{name:"SAS",displayName:i.__("SAS"),mime:"text/x-sas",extensions:["sas"],async load(){let o=await import("/myst_assets_folder/_shared/sas-HMV5E3MB.js");return e(o.sas)}},{name:"Scala",displayName:i.__("Scala"),mime:"text/x-scala",extensions:["scala"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.scala)}},{name:"Scheme",displayName:i.__("Scheme"),mime:"text/x-scheme",extensions:["scm","ss"],async load(){let o=await import("/myst_assets_folder/_shared/scheme-S5SWT6AM.js");return e(o.scheme)}},{name:"SCSS",displayName:i.__("SCSS"),mime:"text/x-scss",extensions:["scss"],async load(){let o=await import("/myst_assets_folder/_shared/css-HLWIDZYG.js");return e(o.sCSS)}},{name:"Shell",displayName:i.__("Shell"),alias:["bash","sh","zsh"],mime:["text/x-sh","application/x-sh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,async load(){let o=await import("/myst_assets_folder/_shared/shell-EU6WQIAB.js");return e(o.shell)}},{name:"Sieve",displayName:i.__("Sieve"),mime:"application/sieve",extensions:["siv","sieve"],async load(){let o=await import("/myst_assets_folder/_shared/sieve-TVJNWLYT.js");return e(o.sieve)}},{name:"Smalltalk",displayName:i.__("Smalltalk"),mime:"text/x-stsrc",extensions:["st"],async load(){let o=await import("/myst_assets_folder/_shared/smalltalk-LRQRGH4B.js");return e(o.smalltalk)}},{name:"Solr",displayName:i.__("Solr"),mime:"text/x-solr",async load(){let o=await import("/myst_assets_folder/_shared/solr-7XM63C2W.js");return e(o.solr)}},{name:"SML",displayName:i.__("SML"),mime:"text/x-sml",extensions:["sml","sig","fun","smackspec"],async load(){let o=await import("/myst_assets_folder/_shared/mllike-ZABRWCN5.js");return e(o.sml)}},{name:"SPARQL",displayName:i.__("SPARQL"),alias:["sparul"],mime:"application/sparql-query",extensions:["rq","sparql"],async load(){let o=await import("/myst_assets_folder/_shared/sparql-QF5ADLJ7.js");return e(o.sparql)}},{name:"Spreadsheet",displayName:i.__("Spreadsheet"),alias:["excel","formula"],mime:"text/x-spreadsheet",async load(){let o=await import("/myst_assets_folder/_shared/spreadsheet-WY4X2INT.js");return e(o.spreadsheet)}},{name:"Squirrel",displayName:i.__("Squirrel"),mime:"text/x-squirrel",extensions:["nut"],async load(){let o=await import("/myst_assets_folder/_shared/clike-2I3R54EN.js");return e(o.squirrel)}},{name:"Stylus",displayName:i.__("Stylus"),mime:"text/x-styl",extensions:["styl"],async load(){let o=await import("/myst_assets_folder/_shared/stylus-RARXSB7U.js");return e(o.stylus)}},{name:"Swift",displayName:i.__("Swift"),mime:"text/x-swift",extensions:["swift"],async load(){let o=await import("/myst_assets_folder/_shared/swift-BB5BW7UE.js");return e(o.swift)}},{name:"sTeX",displayName:i.__("sTeX"),mime:"text/x-stex",async load(){let o=await import("/myst_assets_folder/_shared/stex-ZERODELN.js");return e(o.stex)}},{name:"LaTeX",displayName:i.__("LaTeX"),alias:["tex"],mime:"text/x-latex",extensions:["text","ltx","tex"],async load(){let o=await import("/myst_assets_folder/_shared/stex-ZERODELN.js");return e(o.stex)}},{name:"SystemVerilog",displayName:i.__("SystemVerilog"),mime:"text/x-systemverilog",extensions:["v","sv","svh"],async load(){let o=await import("/myst_assets_folder/_shared/verilog-PBCGBR5N.js");return e(o.verilog)}},{name:"Tcl",displayName:i.__("Tcl"),mime:"text/x-tcl",extensions:["tcl"],async load(){let o=await import("/myst_assets_folder/_shared/tcl-AOC6HT5O.js");return e(o.tcl)}},{name:"Textile",displayName:i.__("Textile"),mime:"text/x-textile",extensions:["textile"],async load(){let o=await import("/myst_assets_folder/_shared/textile-JCTYTRNK.js");return e(o.textile)}},{name:"TiddlyWiki",displayName:i.__("TiddlyWiki"),mime:"text/x-tiddlywiki",async load(){let o=await import("/myst_assets_folder/_shared/tiddlywiki-EWOFIG5K.js");return e(o.tiddlyWiki)}},{name:"Tiki wiki",displayName:i.__("Tiki wiki"),mime:"text/tiki",async load(){let o=await import("/myst_assets_folder/_shared/tiki-ED7UUISD.js");return e(o.tiki)}},{name:"TOML",displayName:i.__("TOML"),mime:"text/x-toml",extensions:["toml"],async load(){let o=await import("/myst_assets_folder/_shared/toml-BKHGLKGD.js");return e(o.toml)}},{name:"troff",displayName:i.__("troff"),mime:"text/troff",extensions:["1","2","3","4","5","6","7","8","9"],async load(){let o=await import("/myst_assets_folder/_shared/troff-DDX4S5RX.js");return e(o.troff)}},{name:"TTCN",displayName:i.__("TTCN"),mime:"text/x-ttcn",extensions:["ttcn","ttcn3","ttcnpp"],async load(){let o=await import("/myst_assets_folder/_shared/ttcn-JHGFKKBW.js");return e(o.ttcn)}},{name:"TTCN_CFG",displayName:i.__("TTCN_CFG"),mime:"text/x-ttcn-cfg",extensions:["cfg"],async load(){let o=await import("/myst_assets_folder/_shared/ttcn-cfg-64EXCDQV.js");return e(o.ttcnCfg)}},{name:"Turtle",displayName:i.__("Turtle"),mime:"text/turtle",extensions:["ttl"],async load(){let o=await import("/myst_assets_folder/_shared/turtle-JYG4M6BX.js");return e(o.turtle)}},{name:"Web IDL",displayName:i.__("Web IDL"),mime:"text/x-webidl",extensions:["webidl"],async load(){let o=await import("/myst_assets_folder/_shared/webidl-OQMBF22U.js");return e(o.webIDL)}},{name:"VB.NET",displayName:i.__("VB.NET"),mime:"text/x-vb",extensions:["vb"],async load(){let o=await import("/myst_assets_folder/_shared/vb-GX27ZMFR.js");return e(o.vb)}},{name:"VBScript",displayName:i.__("VBScript"),mime:"text/vbscript",extensions:["vbs"],async load(){let o=await import("/myst_assets_folder/_shared/vbscript-H5OUWGCJ.js");return e(o.vbScript)}},{name:"Velocity",displayName:i.__("Velocity"),mime:"text/velocity",extensions:["vtl"],async load(){let o=await import("/myst_assets_folder/_shared/velocity-WH2X635G.js");return e(o.velocity)}},{name:"Verilog",displayName:i.__("Verilog"),mime:"text/x-verilog",extensions:["v"],async load(){let o=await import("/myst_assets_folder/_shared/verilog-PBCGBR5N.js");return e(o.verilog)}},{name:"VHDL",displayName:i.__("VHDL"),mime:"text/x-vhdl",extensions:["vhd","vhdl"],async load(){let o=await import("/myst_assets_folder/_shared/vhdl-SOZHECIC.js");return e(o.vhdl)}},{name:"XQuery",displayName:i.__("XQuery"),mime:"application/xquery",extensions:["xy","xquery"],async load(){let o=await import("/myst_assets_folder/_shared/xquery-6RPBA37J.js");return e(o.xQuery)}},{name:"Yacas",displayName:i.__("Yacas"),mime:"text/x-yacas",extensions:["ys"],async load(){let o=await import("/myst_assets_folder/_shared/yacas-RBO7FLVX.js");return e(o.yacas)}},{name:"YAML",displayName:i.__("YAML"),alias:["yml"],mime:["text/x-yaml","text/yaml"],extensions:["yaml","yml"],async load(){let o=await import("/myst_assets_folder/_shared/yaml-VNL52WHI.js");return e(o.yaml)}},{name:"Z80",displayName:i.__("Z80"),mime:"text/x-z80",extensions:["z80"],async load(){let o=await import("/myst_assets_folder/_shared/z80-4LAUOTC5.js");return e(o.z80)}},{name:"mscgen",displayName:i.__("mscgen"),mime:"text/x-mscgen",extensions:["mscgen","mscin","msc"],async load(){let o=await import("/myst_assets_folder/_shared/mscgen-NPWVUMAZ.js");return e(o.mscgen)}},{name:"xu",displayName:i.__("xu"),mime:"text/x-xu",extensions:["xu"],async load(){let o=await import("/myst_assets_folder/_shared/mscgen-NPWVUMAZ.js");return e(o.xu)}},{name:"msgenny",displayName:i.__("msgenny"),mime:"text/x-msgenny",extensions:["msgenny"],async load(){let o=await import("/myst_assets_folder/_shared/mscgen-NPWVUMAZ.js");return e(o.msgenny)}}]}n.getDefaultLanguages=r})(Cn||(Cn={}))});var Kb,xd,$a=v(()=>{en();Lt();Kb=$(Ye());Dt();fs();Ms();(function(n){function e(t,r,s,i){let o=r.getInitialExtensions();return o.push(...s),new se({state:It.create({doc:i,extensions:o}),parent:t})}n.createEditor=e})(xd||(xd={}))});var vd=v(()=>{Mt();fs();$a();Ms()});var wd=v(()=>{});var _d,kd=v(()=>{Dt();(function(n){function e(t,r,s=0,i=1/0){for(i=Math.min(t.length-1,i);s<=i;){let l=Math.floor(.5*(s+i)),c=t[l].position;if(c<r){if(s=l+1,s<t.length&&t[s].position>r)return s}else if(c>r){if(i=l-1,i>0&&t[i].position<r)return l}else return l}let o=s>0?s-1:0;return t[o].position>=r?o:null}n.findNext=e})(_d||(_d={}))});var Is,T1,N1,D1,Sd=v(()=>{Is=$(Ye()),T1=new Is.Token("@jupyterlab/codemirror:IEditorExtensionRegistry","A registry for CodeMirror extension factories."),N1=new Is.Token("@jupyterlab/codemirror:IEditorLanguageRegistry","A registry for CodeMirror languages."),D1=new Is.Token("@jupyterlab/codemirror:IEditorThemeRegistry","A registry for CodeMirror theme.")});var Cd=v(()=>{Hi();$a();fs();Jo();vd();Ms();wd();kd();Fa();Sd()});var Ad=T((q1,Ed)=>{Ed.exports=function(n){var e={};function t(r){if(e[r])return e[r].exports;var s=e[r]={exports:{},id:r,loaded:!1};return n[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}return t.m=n,t.c=e,t.p="",t(0)}([function(n,e,t){n.exports=t(1)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(o){return o&&o.__esModule?o:{default:o}}var s=t(2),i=r(s);e.default=i.default,n.exports=e.default},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(f[y]=m[y])}return f};e.default=d;function s(f){return f&&f.__esModule?f:{default:f}}function i(f,p){var m={};for(var y in f)p.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(f,y)&&(m[y]=f[y]);return m}var o=t(3),a=t(4),l=s(a),c=t(14),u=t(15),h=s(u);d.propTypes={activeClassName:l.default.string,activeIndex:l.default.number,activeStyle:l.default.object,autoEscape:l.default.bool,className:l.default.string,findChunks:l.default.func,highlightClassName:l.default.oneOfType([l.default.object,l.default.string]),highlightStyle:l.default.object,highlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),sanitize:l.default.func,searchWords:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.instanceOf(RegExp)])).isRequired,textToHighlight:l.default.string.isRequired,unhighlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),unhighlightClassName:l.default.string,unhighlightStyle:l.default.object};function d(f){var p=f.activeClassName,m=p===void 0?"":p,y=f.activeIndex,g=y===void 0?-1:y,b=f.activeStyle,_=f.autoEscape,M=f.caseSensitive,W=M===void 0?!1:M,H=f.className,Y=f.findChunks,de=f.highlightClassName,Ee=de===void 0?"":de,Ae=f.highlightStyle,mt=Ae===void 0?{}:Ae,O=f.highlightTag,z=O===void 0?"mark":O,ce=f.sanitize,Q=f.searchWords,Oe=f.textToHighlight,ee=f.unhighlightTag,xe=ee===void 0?"span":ee,Ue=f.unhighlightClassName,Zt=Ue===void 0?"":Ue,w=f.unhighlightStyle,C=i(f,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),x=(0,o.findAll)({autoEscape:_,caseSensitive:W,findChunks:Y,sanitize:ce,searchWords:Q,textToHighlight:Oe}),S=z,A=-1,R="",L=void 0,N=function(B){var fe={};for(var Te in B)fe[Te.toLowerCase()]=B[Te];return fe},j=(0,h.default)(N);return(0,c.createElement)("span",r({className:H},C,{children:x.map(function(U,B){var fe=Oe.substr(U.start,U.end-U.start);if(U.highlight){A++;var Te=void 0;typeof Ee=="object"?W?Te=Ee[fe]:(Ee=j(Ee),Te=Ee[fe.toLowerCase()]):Te=Ee;var gl=A===+g;R=Te+" "+(gl?m:""),L=gl===!0&&b!=null?Object.assign({},mt,b):mt;var bl={children:fe,className:R,key:B,style:L};return typeof S!="string"&&(bl.highlightIndex=A),(0,c.createElement)(S,bl)}else return(0,c.createElement)(xe,{children:fe,className:Zt,key:B,style:w})})}))}n.exports=e.default},function(n,e){n.exports=function(t){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}return s.m=t,s.c=r,s.p="",s(0)}([function(t,r,s){t.exports=s(1)},function(t,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=s(2);Object.defineProperty(r,"combineChunks",{enumerable:!0,get:function(){return i.combineChunks}}),Object.defineProperty(r,"fillInChunks",{enumerable:!0,get:function(){return i.fillInChunks}}),Object.defineProperty(r,"findAll",{enumerable:!0,get:function(){return i.findAll}}),Object.defineProperty(r,"findChunks",{enumerable:!0,get:function(){return i.findChunks}})},function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=r.findAll=function(h){var d=h.autoEscape,f=h.caseSensitive,p=f===void 0?!1:f,m=h.findChunks,y=m===void 0?o:m,g=h.sanitize,b=h.searchWords,_=h.textToHighlight;return a({chunksToHighlight:i({chunks:y({autoEscape:d,caseSensitive:p,sanitize:g,searchWords:b,textToHighlight:_})}),totalLength:_?_.length:0})},i=r.combineChunks=function(h){var d=h.chunks;return d=d.sort(function(f,p){return f.start-p.start}).reduce(function(f,p){if(f.length===0)return[p];var m=f.pop();if(p.start<=m.end){var y=Math.max(m.end,p.end);f.push({start:m.start,end:y})}else f.push(m,p);return f},[]),d},o=function(h){var d=h.autoEscape,f=h.caseSensitive,p=h.sanitize,m=p===void 0?l:p,y=h.searchWords,g=h.textToHighlight;return g=m(g),y.filter(function(b){return b}).reduce(function(b,_){_=m(_),d&&(_=c(_));for(var M=new RegExp(_,f?"g":"gi"),W=void 0;W=M.exec(g);){var H=W.index,Y=M.lastIndex;Y>H&&b.push({start:H,end:Y}),W.index==M.lastIndex&&M.lastIndex++}return b},[])};r.findChunks=o;var a=r.fillInChunks=function(h){var d=h.chunksToHighlight,f=h.totalLength,p=[],m=function(b,_,M){_-b>0&&p.push({start:b,end:_,highlight:M})};if(d.length===0)m(0,f,!1);else{var y=0;d.forEach(function(g){m(y,g.start,!1),m(g.start,g.end,!0),y=g.end}),m(y,f,!1)}return p};function l(u){return u}function c(u){return u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(n,e,t){(function(r){if(r.env.NODE_ENV!=="production"){var s=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,i=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===s},o=!0;n.exports=t(6)(i,o)}else n.exports=t(13)()}).call(e,t(5))},function(n,e){var t=n.exports={},r,s;function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=i}catch{r=i}try{typeof clearTimeout=="function"?s=clearTimeout:s=o}catch{s=o}})();function a(g){if(r===setTimeout)return setTimeout(g,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(g,0);try{return r(g,0)}catch{try{return r.call(null,g,0)}catch{return r.call(this,g,0)}}}function l(g){if(s===clearTimeout)return clearTimeout(g);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(g);try{return s(g)}catch{try{return s.call(null,g)}catch{return s.call(this,g)}}}var c=[],u=!1,h,d=-1;function f(){!u||!h||(u=!1,h.length?c=h.concat(c):d=-1,c.length&&p())}function p(){if(!u){var g=a(f);u=!0;for(var b=c.length;b;){for(h=c,c=[];++d<b;)h&&h[d].run();d=-1,b=c.length}h=null,u=!1,l(g)}}t.nextTick=function(g){var b=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)b[_-1]=arguments[_];c.push(new m(g,b)),c.length===1&&!u&&a(p)};function m(g,b){this.fun=g,this.array=b}m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function y(){}t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(n,e,t){(function(r){"use strict";var s=t(7),i=t(8),o=t(9),a=t(10),l=t(11),c=t(12);n.exports=function(u,h){var d=typeof Symbol=="function"&&Symbol.iterator,f="@@iterator";function p(w){var C=w&&(d&&w[d]||w[f]);if(typeof C=="function")return C}var m="<<anonymous>>",y={array:M("array"),bool:M("boolean"),func:M("function"),number:M("number"),object:M("object"),string:M("string"),symbol:M("symbol"),any:W(),arrayOf:H,element:Y(),instanceOf:de,node:O(),objectOf:Ae,oneOf:Ee,oneOfType:mt,shape:z,exact:ce};function g(w,C){return w===C?w!==0||1/w===1/C:w!==w&&C!==C}function b(w){this.message=w,this.stack=""}b.prototype=Error.prototype;function _(w){if(r.env.NODE_ENV!=="production")var C={},x=0;function S(R,L,N,j,U,B,fe){if(j=j||m,B=B||N,fe!==l){if(h)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(r.env.NODE_ENV!=="production"&&typeof console<"u"){var Te=j+":"+N;!C[Te]&&x<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",B,j),C[Te]=!0,x++)}}return L[N]==null?R?L[N]===null?new b("The "+U+" `"+B+"` is marked as required "+("in `"+j+"`, but its value is `null`.")):new b("The "+U+" `"+B+"` is marked as required in "+("`"+j+"`, but its value is `undefined`.")):null:w(L,N,j,U,B)}var A=S.bind(null,!1);return A.isRequired=S.bind(null,!0),A}function M(w){function C(x,S,A,R,L,N){var j=x[S],U=ee(j);if(U!==w){var B=xe(j);return new b("Invalid "+R+" `"+L+"` of type "+("`"+B+"` supplied to `"+A+"`, expected ")+("`"+w+"`."))}return null}return _(C)}function W(){return _(s.thatReturnsNull)}function H(w){function C(x,S,A,R,L){if(typeof w!="function")return new b("Property `"+L+"` of component `"+A+"` has invalid PropType notation inside arrayOf.");var N=x[S];if(!Array.isArray(N)){var j=ee(N);return new b("Invalid "+R+" `"+L+"` of type "+("`"+j+"` supplied to `"+A+"`, expected an array."))}for(var U=0;U<N.length;U++){var B=w(N,U,A,R,L+"["+U+"]",l);if(B instanceof Error)return B}return null}return _(C)}function Y(){function w(C,x,S,A,R){var L=C[x];if(!u(L)){var N=ee(L);return new b("Invalid "+A+" `"+R+"` of type "+("`"+N+"` supplied to `"+S+"`, expected a single ReactElement."))}return null}return _(w)}function de(w){function C(x,S,A,R,L){if(!(x[S]instanceof w)){var N=w.name||m,j=Zt(x[S]);return new b("Invalid "+R+" `"+L+"` of type "+("`"+j+"` supplied to `"+A+"`, expected ")+("instance of `"+N+"`."))}return null}return _(C)}function Ee(w){if(!Array.isArray(w))return r.env.NODE_ENV!=="production"&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),s.thatReturnsNull;function C(x,S,A,R,L){for(var N=x[S],j=0;j<w.length;j++)if(g(N,w[j]))return null;var U=JSON.stringify(w);return new b("Invalid "+R+" `"+L+"` of value `"+N+"` "+("supplied to `"+A+"`, expected one of "+U+"."))}return _(C)}function Ae(w){function C(x,S,A,R,L){if(typeof w!="function")return new b("Property `"+L+"` of component `"+A+"` has invalid PropType notation inside objectOf.");var N=x[S],j=ee(N);if(j!=="object")return new b("Invalid "+R+" `"+L+"` of type "+("`"+j+"` supplied to `"+A+"`, expected an object."));for(var U in N)if(N.hasOwnProperty(U)){var B=w(N,U,A,R,L+"."+U,l);if(B instanceof Error)return B}return null}return _(C)}function mt(w){if(!Array.isArray(w))return r.env.NODE_ENV!=="production"&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),s.thatReturnsNull;for(var C=0;C<w.length;C++){var x=w[C];if(typeof x!="function")return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",Ue(x),C),s.thatReturnsNull}function S(A,R,L,N,j){for(var U=0;U<w.length;U++){var B=w[U];if(B(A,R,L,N,j,l)==null)return null}return new b("Invalid "+N+" `"+j+"` supplied to "+("`"+L+"`."))}return _(S)}function O(){function w(C,x,S,A,R){return Q(C[x])?null:new b("Invalid "+A+" `"+R+"` supplied to "+("`"+S+"`, expected a ReactNode."))}return _(w)}function z(w){function C(x,S,A,R,L){var N=x[S],j=ee(N);if(j!=="object")return new b("Invalid "+R+" `"+L+"` of type `"+j+"` "+("supplied to `"+A+"`, expected `object`."));for(var U in w){var B=w[U];if(B){var fe=B(N,U,A,R,L+"."+U,l);if(fe)return fe}}return null}return _(C)}function ce(w){function C(x,S,A,R,L){var N=x[S],j=ee(N);if(j!=="object")return new b("Invalid "+R+" `"+L+"` of type `"+j+"` "+("supplied to `"+A+"`, expected `object`."));var U=a({},x[S],w);for(var B in U){var fe=w[B];if(!fe)return new b("Invalid "+R+" `"+L+"` key `"+B+"` supplied to `"+A+"`.\nBad object: "+JSON.stringify(x[S],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(w),null,"  "));var Te=fe(N,B,A,R,L+"."+B,l);if(Te)return Te}return null}return _(C)}function Q(w){switch(typeof w){case"number":case"string":case"undefined":return!0;case"boolean":return!w;case"object":if(Array.isArray(w))return w.every(Q);if(w===null||u(w))return!0;var C=p(w);if(C){var x=C.call(w),S;if(C!==w.entries){for(;!(S=x.next()).done;)if(!Q(S.value))return!1}else for(;!(S=x.next()).done;){var A=S.value;if(A&&!Q(A[1]))return!1}}else return!1;return!0;default:return!1}}function Oe(w,C){return w==="symbol"||C["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&C instanceof Symbol}function ee(w){var C=typeof w;return Array.isArray(w)?"array":w instanceof RegExp?"object":Oe(C,w)?"symbol":C}function xe(w){if(typeof w>"u"||w===null)return""+w;var C=ee(w);if(C==="object"){if(w instanceof Date)return"date";if(w instanceof RegExp)return"regexp"}return C}function Ue(w){var C=xe(w);switch(C){case"array":case"object":return"an "+C;case"boolean":case"date":case"regexp":return"a "+C;default:return C}}function Zt(w){return!w.constructor||!w.constructor.name?m:w.constructor.name}return y.checkPropTypes=c,y.PropTypes=y,y}}).call(e,t(5))},function(n,e){"use strict";function t(s){return function(){return s}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(s){return s},n.exports=r},function(n,e,t){(function(r){"use strict";var s=function(a){};r.env.NODE_ENV!=="production"&&(s=function(a){if(a===void 0)throw new Error("invariant requires an error message argument")});function i(o,a,l,c,u,h,d,f){if(s(a),!o){var p;if(a===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[l,c,u,h,d,f],y=0;p=new Error(a.replace(/%s/g,function(){return m[y++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}n.exports=i}).call(e,t(5))},function(n,e,t){(function(r){"use strict";var s=t(7),i=s;if(r.env.NODE_ENV!=="production"){var o=function(l){for(var c=arguments.length,u=Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];var d=0,f="Warning: "+l.replace(/%s/g,function(){return u[d++]});typeof console<"u"&&console.error(f);try{throw new Error(f)}catch{}};i=function(l,c){if(c===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(c.indexOf("Failed Composite propType: ")!==0&&!l){for(var u=arguments.length,h=Array(u>2?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];o.apply(void 0,[c].concat(h))}}}n.exports=i}).call(e,t(5))},function(n,e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function i(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function o(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var u=Object.getOwnPropertyNames(l).map(function(d){return l[d]});if(u.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(d){h[d]=d}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=o()?Object.assign:function(a,l){for(var c,u=i(a),h,d=1;d<arguments.length;d++){c=Object(arguments[d]);for(var f in c)r.call(c,f)&&(u[f]=c[f]);if(t){h=t(c);for(var p=0;p<h.length;p++)s.call(c,h[p])&&(u[h[p]]=c[h[p]])}}return u}},function(n,e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=t},function(n,e,t){(function(r){"use strict";if(r.env.NODE_ENV!=="production")var s=t(8),i=t(9),o=t(11),a={};function l(c,u,h,d,f){if(r.env.NODE_ENV!=="production"){for(var p in c)if(c.hasOwnProperty(p)){var m;try{s(typeof c[p]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",d||"React class",h,p,typeof c[p]),m=c[p](u,p,d,h,null,o)}catch(g){m=g}if(i(!m||m instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",d||"React class",h,p,typeof m),m instanceof Error&&!(m.message in a)){a[m.message]=!0;var y=f?f():"";i(!1,"Failed %s type: %s%s",h,m.message,y??"")}}}}n.exports=l}).call(e,t(5))},function(n,e,t){"use strict";var r=t(7),s=t(8),i=t(11);n.exports=function(){function o(c,u,h,d,f,p){p!==i&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}o.isRequired=o;function a(){return o}var l={array:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:a,element:o,instanceOf:a,node:o,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a};return l.checkPropTypes=r,l.PropTypes=l,l}},function(n,e){n.exports=Be()},function(n,e){"use strict";var t=function(i,o){return i===o};function r(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=void 0,a=[],l=void 0,c=!1,u=function(f,p){return i(f,a[p])},h=function(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];return c&&o===this&&p.length===a.length&&p.every(u)||(c=!0,o=this,a=p,l=s.apply(this,p)),l};return h}n.exports=r}])});function Va(n){let e=Object.prototype.toString.call(n).slice(8,-1);return e==="Object"&&typeof n[Symbol.iterator]=="function"?"Iterable":e==="Custom"&&n.constructor!==Object&&n instanceof Object?"Object":e}var Od=v(()=>{});function br(n){let{styling:e,arrowStyle:t="single",expanded:r,nodeType:s,onClick:i}=n;return Ls.default.createElement("div",J({},e("arrowContainer",t),{onClick:i}),Ls.default.createElement("div",e(["arrow","arrowSign"],s,r,t),"\u25B6",t==="double"&&Ls.default.createElement("div",e(["arrowSign","arrowSignInner"]),"\u25B6")))}var Ls,za=v(()=>{jt();Ls=$(Be())});function Yb(n,e){return n==="Object"?Object.keys(e).length:n==="Array"?e.length:1/0}function Qb(n){return typeof n.set=="function"}function Xb(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1/0,i;if(n==="Object"){let o=Object.getOwnPropertyNames(e);t&&o.sort(t===!0?void 0:t),o=o.slice(r,s+1),i={entries:o.map(a=>({key:a,value:e[a]}))}}else if(n==="Array")i={entries:e.slice(r,s+1).map((o,a)=>({key:a+r,value:o}))};else{let o=0,a=[],l=!0,c=Qb(e);for(let u of e){if(o>s){l=!1;break}r<=o&&(c&&Array.isArray(u)?typeof u[0]=="string"||typeof u[0]=="number"?a.push({key:u[0],value:u[1]}):a.push({key:`[entry ${o}]`,value:{"[key]":u[0],"[value]":u[1]}}):a.push({key:o,value:u})),o++}i={hasMore:!l,entries:a}}return i}function qa(n,e,t){let r=[];for(;e-n>t*t;)t=t*t;for(let s=n;s<=e;s+=t)r.push({from:s,to:Math.min(e,s+t-1)});return r}function Ga(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=Xb.bind(null,n,e,t);if(!r)return o().entries;let a=i<1/0,l=Math.min(i-s,Yb(n,e));if(n!=="Iterable"){if(l<=r||r<7)return o(s,i).entries}else if(l<=r&&!a)return o(s,i).entries;let c;if(n==="Iterable"){let{hasMore:u,entries:h}=o(s,s+r-1);c=u?[...h,...qa(s+r,s+2*r-1,r)]:h}else c=a?qa(s,i,r):[...o(0,r-5).entries,...qa(r-4,l-5,r),...o(l-4,l-1).entries];return c}var Td=v(()=>{});function Ha(n){let{styling:e,from:t,to:r,renderChildNodes:s,nodeType:i}=n,[o,a]=(0,Nt.useState)(!1),l=(0,Nt.useCallback)(()=>{a(!o)},[o]);return o?Nt.default.createElement("div",e("itemRange",o),s(n,t,r)):Nt.default.createElement("div",J({},e("itemRange",o),{onClick:l}),Nt.default.createElement(br,{nodeType:i,styling:e,expanded:!1,onClick:l,arrowStyle:"double"}),`${t} ... ${r}`)}var Nt,Nd=v(()=>{jt();Nt=$(Be());za()});function Zb(n){return n.to!==void 0}function Dd(n,e,t){let{nodeType:r,data:s,collectionLimit:i,circularCache:o,keyPath:a,postprocessValue:l,sortObjectKeys:c}=n,u=[];return Ga(r,s,c,i,e,t).forEach(h=>{if(Zb(h))u.push(be.default.createElement(Ha,J({},n,{key:`ItemRange--${h.from}-${h.to}`,from:h.from,to:h.to,renderChildNodes:Dd})));else{let{key:d,value:f}=h,p=o.indexOf(f)!==-1;u.push(be.default.createElement(yr,J({},n,{postprocessValue:l,collectionLimit:i,key:`Node--${d}`,keyPath:[d,...a],value:l(f),circularCache:[...o,f],isCircular:p,hideRoot:!1})))}}),u}function Jt(n){let{circularCache:e=[],collectionLimit:t,createItemString:r,data:s,expandable:i,getItemString:o,hideRoot:a,isCircular:l,keyPath:c,labelRenderer:u,level:h=0,nodeType:d,nodeTypeIndicator:f,shouldExpandNodeInitially:p,styling:m}=n,[y,g]=(0,be.useState)(l?!1:p(c,s,h)),b=(0,be.useCallback)(()=>{i&&g(!y)},[i,y]),_=y||a&&h===0?Dd({...n,circularCache:e,level:h+1}):null,M=be.default.createElement("span",m("nestedNodeItemType",y),f),W=o(d,s,M,r(s,t),c),H=[c,d,y,i];return a?be.default.createElement("li",m("rootNode",...H),be.default.createElement("ul",m("rootNodeChildren",...H),_)):be.default.createElement("li",m("nestedNode",...H),i&&be.default.createElement(br,{styling:m,nodeType:d,expanded:y,onClick:b}),be.default.createElement("label",J({},m(["label","nestedNodeLabel"],...H),{onClick:b}),u(...H)),be.default.createElement("span",J({},m("nestedNodeItemString",...H),{onClick:b}),W),be.default.createElement("ul",m("nestedNodeChildren",...H),_))}var be,Rs=v(()=>{jt();be=$(Be());za();Td();Ja();Nd()});function ey(n){let e=Object.getOwnPropertyNames(n).length;return`${e} ${e!==1?"keys":"key"}`}function Wa(n){let{data:e,...t}=n;return Md.default.createElement(Jt,J({},t,{data:e,nodeType:"Object",nodeTypeIndicator:t.nodeType==="Error"?"Error()":"{}",createItemString:ey,expandable:Object.getOwnPropertyNames(e).length>0}))}var Md,Id=v(()=>{jt();Md=$(Be());Rs()});function ty(n){return`${n.length} ${n.length!==1?"items":"item"}`}function Ka(n){let{data:e,...t}=n;return Ld.default.createElement(Jt,J({},t,{data:e,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:ty,expandable:e.length>0}))}var Ld,Rd=v(()=>{jt();Ld=$(Be());Rs()});function ny(n,e){let t=0,r=!1;if(Number.isSafeInteger(n.size))t=n.size;else for(let s of n){if(e&&t+1>e){r=!0;break}t+=1}return`${r?">":""}${t} ${t!==1?"entries":"entry"}`}function Ya(n){return jd.default.createElement(Jt,J({},n,{nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:ny,expandable:!0}))}var jd,Ud=v(()=>{jt();jd=$(Be());Rs()});function Ke(n){let{nodeType:e,styling:t,labelRenderer:r,keyPath:s,valueRenderer:i,value:o,valueGetter:a=l=>l}=n;return js.default.createElement("li",t("value",e,s),js.default.createElement("label",t(["label","valueLabel"],e,s),r(s,e,!1,!1)),js.default.createElement("span",t("valueText",e,s),i(a(o),o,...s)))}var js,Bd=v(()=>{js=$(Be())});function yr(n){let{getItemString:e,keyPath:t,labelRenderer:r,styling:s,value:i,valueRenderer:o,isCustomNode:a,...l}=n,c=a(i)?"Custom":Va(i),u={getItemString:e,key:t[0],keyPath:t,labelRenderer:r,nodeType:c,styling:s,value:i,valueRenderer:o},h={...l,...u,data:i,isCustomNode:a};switch(c){case"Object":case"Error":case"WeakMap":case"WeakSet":return Re.default.createElement(Wa,h);case"Array":return Re.default.createElement(Ka,h);case"Iterable":case"Map":case"Set":return Re.default.createElement(Ya,h);case"String":return Re.default.createElement(Ke,J({},u,{valueGetter:d=>`"${d}"`}));case"Number":return Re.default.createElement(Ke,u);case"Boolean":return Re.default.createElement(Ke,J({},u,{valueGetter:d=>d?"true":"false"}));case"Date":return Re.default.createElement(Ke,J({},u,{valueGetter:d=>d.toISOString()}));case"Null":return Re.default.createElement(Ke,J({},u,{valueGetter:()=>"null"}));case"Undefined":return Re.default.createElement(Ke,J({},u,{valueGetter:()=>"undefined"}));case"Function":case"Symbol":return Re.default.createElement(Ke,J({},u,{valueGetter:d=>d.toString()}));case"Custom":return Re.default.createElement(Ke,u);default:return Re.default.createElement(Ke,J({},u,{valueGetter:()=>`<${c}>`}))}}var Re,Ja=v(()=>{jt();Re=$(Be());Od();Id();Rd();Ud();Bd()});function Qa(n){if(Array.isArray(n))return n}var Pd=v(()=>{});function Xa(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}var Fd=v(()=>{});function Za(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $d=v(()=>{});function Us(n,e){return Qa(n)||Xa(n,e)||tc(n,e)||Za()}var Vd=v(()=>{Pd();Fd();mp();$d()});var qd=T((Bs,zd)=>{"use strict";Bs.__esModule=!0;Bs.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"};zd.exports=Bs.default});var Hd=T((Ps,Gd)=>{"use strict";Ps.__esModule=!0;Ps.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"};Gd.exports=Ps.default});var Wd=T((Fs,Jd)=>{"use strict";Fs.__esModule=!0;Fs.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"};Jd.exports=Fs.default});var Yd=T(($s,Kd)=>{"use strict";$s.__esModule=!0;$s.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"};Kd.exports=$s.default});var Xd=T((Vs,Qd)=>{"use strict";Vs.__esModule=!0;Vs.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"};Qd.exports=Vs.default});var ef=T((zs,Zd)=>{"use strict";zs.__esModule=!0;zs.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"};Zd.exports=zs.default});var nf=T((qs,tf)=>{"use strict";qs.__esModule=!0;qs.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"};tf.exports=qs.default});var sf=T((Gs,rf)=>{"use strict";Gs.__esModule=!0;Gs.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"};rf.exports=Gs.default});var af=T((Hs,of)=>{"use strict";Hs.__esModule=!0;Hs.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"};of.exports=Hs.default});var cf=T((Js,lf)=>{"use strict";Js.__esModule=!0;Js.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"};lf.exports=Js.default});var hf=T((Ws,uf)=>{"use strict";Ws.__esModule=!0;Ws.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"};uf.exports=Ws.default});var ff=T((Ks,df)=>{"use strict";Ks.__esModule=!0;Ks.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"};df.exports=Ks.default});var pf=T((Ys,mf)=>{"use strict";Ys.__esModule=!0;Ys.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"};mf.exports=Ys.default});var bf=T((Qs,gf)=>{"use strict";Qs.__esModule=!0;Qs.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"};gf.exports=Qs.default});var xf=T((Xs,yf)=>{"use strict";Xs.__esModule=!0;Xs.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"};yf.exports=Xs.default});var wf=T((Zs,vf)=>{"use strict";Zs.__esModule=!0;Zs.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"};vf.exports=Zs.default});var kf=T((ei,_f)=>{"use strict";ei.__esModule=!0;ei.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"};_f.exports=ei.default});var Cf=T((ti,Sf)=>{"use strict";ti.__esModule=!0;ti.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"};Sf.exports=ti.default});var Af=T((ni,Ef)=>{"use strict";ni.__esModule=!0;ni.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"};Ef.exports=ni.default});var Tf=T((ri,Of)=>{"use strict";ri.__esModule=!0;ri.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"};Of.exports=ri.default});var Df=T((si,Nf)=>{"use strict";si.__esModule=!0;si.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"};Nf.exports=si.default});var If=T((ii,Mf)=>{"use strict";ii.__esModule=!0;ii.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"};Mf.exports=ii.default});var Rf=T((oi,Lf)=>{"use strict";oi.__esModule=!0;oi.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"};Lf.exports=oi.default});var Uf=T((ai,jf)=>{"use strict";ai.__esModule=!0;ai.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"};jf.exports=ai.default});var Pf=T((li,Bf)=>{"use strict";li.__esModule=!0;li.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"};Bf.exports=li.default});var $f=T((ci,Ff)=>{"use strict";ci.__esModule=!0;ci.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"};Ff.exports=ci.default});var zf=T((ui,Vf)=>{"use strict";ui.__esModule=!0;ui.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"};Vf.exports=ui.default});var Gf=T((hi,qf)=>{"use strict";hi.__esModule=!0;hi.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"};qf.exports=hi.default});var Jf=T((di,Hf)=>{"use strict";di.__esModule=!0;di.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"};Hf.exports=di.default});var Kf=T((fi,Wf)=>{"use strict";fi.__esModule=!0;fi.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"};Wf.exports=fi.default});var Qf=T((mi,Yf)=>{"use strict";mi.__esModule=!0;mi.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"};Yf.exports=mi.default});var Zf=T((pi,Xf)=>{"use strict";pi.__esModule=!0;pi.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"};Xf.exports=pi.default});var tm=T((gi,em)=>{"use strict";gi.__esModule=!0;gi.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"};em.exports=gi.default});var rm=T((bi,nm)=>{"use strict";bi.__esModule=!0;bi.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"};nm.exports=bi.default});var im=T((yi,sm)=>{"use strict";yi.__esModule=!0;yi.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"};sm.exports=yi.default});var am=T((xi,om)=>{"use strict";xi.__esModule=!0;xi.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"};om.exports=xi.default});var cm=T((vi,lm)=>{"use strict";vi.__esModule=!0;vi.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"};lm.exports=vi.default});var um=T(D=>{"use strict";D.__esModule=!0;function I(n){return n&&n.__esModule?n.default:n}var ry=qd();D.threezerotwofour=I(ry);var sy=Hd();D.apathy=I(sy);var iy=Wd();D.ashes=I(iy);var oy=Yd();D.atelierDune=I(oy);var ay=Xd();D.atelierForest=I(ay);var ly=ef();D.atelierHeath=I(ly);var cy=nf();D.atelierLakeside=I(cy);var uy=sf();D.atelierSeaside=I(uy);var hy=af();D.bespin=I(hy);var dy=cf();D.brewer=I(dy);var fy=hf();D.bright=I(fy);var my=ff();D.chalk=I(my);var py=pf();D.codeschool=I(py);var gy=bf();D.colors=I(gy);var by=xf();D.default=I(by);var yy=wf();D.eighties=I(yy);var xy=kf();D.embers=I(xy);var vy=Cf();D.flat=I(vy);var wy=Af();D.google=I(wy);var _y=Tf();D.grayscale=I(_y);var ky=Df();D.greenscreen=I(ky);var Sy=If();D.harmonic=I(Sy);var Cy=Rf();D.hopscotch=I(Cy);var Ey=Uf();D.isotope=I(Ey);var Ay=Pf();D.marrakesh=I(Ay);var Oy=$f();D.mocha=I(Oy);var Ty=zf();D.monokai=I(Ty);var Ny=Gf();D.ocean=I(Ny);var Dy=Jf();D.paraiso=I(Dy);var My=Kf();D.pop=I(My);var Iy=Qf();D.railscasts=I(Iy);var Ly=Zf();D.shapeshifter=I(Ly);var Ry=tm();D.solarized=I(Ry);var jy=rm();D.summerfruit=I(jy);var Uy=im();D.tomorrow=I(Uy);var By=am();D.tube=I(By);var Py=cm();D.twilight=I(Py)});var el=T((Nk,mm)=>{var Wt=pp(),fm={};for(wi in Wt)Wt.hasOwnProperty(wi)&&(fm[Wt[wi]]=wi);var wi,k=mm.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(ye in k)if(k.hasOwnProperty(ye)){if(!("channels"in k[ye]))throw new Error("missing channels property: "+ye);if(!("labels"in k[ye]))throw new Error("missing channel labels property: "+ye);if(k[ye].labels.length!==k[ye].channels)throw new Error("channel and label counts mismatch: "+ye);hm=k[ye].channels,dm=k[ye].labels,delete k[ye].channels,delete k[ye].labels,Object.defineProperty(k[ye],"channels",{value:hm}),Object.defineProperty(k[ye],"labels",{value:dm})}var hm,dm,ye;k.rgb.hsl=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,s=Math.min(e,t,r),i=Math.max(e,t,r),o=i-s,a,l,c;return i===s?a=0:e===i?a=(t-r)/o:t===i?a=2+(r-e)/o:r===i&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(s+i)/2,i===s?l=0:c<=.5?l=o/(i+s):l=o/(2-i-s),[a,l*100,c*100]};k.rgb.hsv=function(n){var e,t,r,s,i,o=n[0]/255,a=n[1]/255,l=n[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),h=function(d){return(c-d)/6/u+1/2};return u===0?s=i=0:(i=u/c,e=h(o),t=h(a),r=h(l),o===c?s=r-t:a===c?s=1/3+e-r:l===c&&(s=2/3+t-e),s<0?s+=1:s>1&&(s-=1)),[s*360,i*100,c*100]};k.rgb.hwb=function(n){var e=n[0],t=n[1],r=n[2],s=k.rgb.hsl(n)[0],i=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[s,i*100,r*100]};k.rgb.cmyk=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,s,i,o,a;return a=Math.min(1-e,1-t,1-r),s=(1-e-a)/(1-a)||0,i=(1-t-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,[s*100,i*100,o*100,a*100]};function Fy(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2)}k.rgb.keyword=function(n){var e=fm[n];if(e)return e;var t=1/0,r;for(var s in Wt)if(Wt.hasOwnProperty(s)){var i=Wt[s],o=Fy(n,i);o<t&&(t=o,r=s)}return r};k.keyword.rgb=function(n){return Wt[n]};k.rgb.xyz=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=e*.4124+t*.3576+r*.1805,i=e*.2126+t*.7152+r*.0722,o=e*.0193+t*.1192+r*.9505;return[s*100,i*100,o*100]};k.rgb.lab=function(n){var e=k.rgb.xyz(n),t=e[0],r=e[1],s=e[2],i,o,a;return t/=95.047,r/=100,s/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,i=116*r-16,o=500*(t-r),a=200*(r-s),[i,o,a]};k.hsl.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,s,i,o,a,l;if(t===0)return l=r*255,[l,l,l];r<.5?i=r*(1+t):i=r+t-r*t,s=2*r-i,a=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?l=s+(i-s)*6*o:2*o<1?l=i:3*o<2?l=s+(i-s)*(2/3-o)*6:l=s,a[c]=l*255;return a};k.hsl.hsv=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,s=t,i=Math.max(r,.01),o,a;return r*=2,t*=r<=1?r:2-r,s*=i<=1?i:2-i,a=(r+t)/2,o=r===0?2*s/(i+s):2*t/(r+t),[e,o*100,a*100]};k.hsv.rgb=function(n){var e=n[0]/60,t=n[1]/100,r=n[2]/100,s=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-t),a=255*r*(1-t*i),l=255*r*(1-t*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};k.hsv.hsl=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,s=Math.max(r,.01),i,o,a;return a=(2-t)*r,i=(2-t)*s,o=t*s,o/=i<=1?i:2-i,o=o||0,a/=2,[e,o*100,a*100]};k.hwb.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,s=t+r,i,o,a,l;s>1&&(t/=s,r/=s),i=Math.floor(6*e),o=1-r,a=6*e-i,i&1&&(a=1-a),l=t+a*(o-t);var c,u,h;switch(i){default:case 6:case 0:c=o,u=l,h=t;break;case 1:c=l,u=o,h=t;break;case 2:c=t,u=o,h=l;break;case 3:c=t,u=l,h=o;break;case 4:c=l,u=t,h=o;break;case 5:c=o,u=t,h=l;break}return[c*255,u*255,h*255]};k.cmyk.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,s=n[3]/100,i,o,a;return i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),[i*255,o*255,a*255]};k.xyz.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,s,i,o;return s=e*3.2406+t*-1.5372+r*-.4986,i=e*-.9689+t*1.8758+r*.0415,o=e*.0557+t*-.204+r*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[s*255,i*255,o*255]};k.xyz.lab=function(n){var e=n[0],t=n[1],r=n[2],s,i,o;return e/=95.047,t/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=116*t-16,i=500*(e-t),o=200*(t-r),[s,i,o]};k.lab.xyz=function(n){var e=n[0],t=n[1],r=n[2],s,i,o;i=(e+16)/116,s=t/500+i,o=i-r/200;var a=Math.pow(i,3),l=Math.pow(s,3),c=Math.pow(o,3);return i=a>.008856?a:(i-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};k.lab.lch=function(n){var e=n[0],t=n[1],r=n[2],s,i,o;return s=Math.atan2(r,t),i=s*360/2/Math.PI,i<0&&(i+=360),o=Math.sqrt(t*t+r*r),[e,o,i]};k.lch.lab=function(n){var e=n[0],t=n[1],r=n[2],s,i,o;return o=r/360*2*Math.PI,s=t*Math.cos(o),i=t*Math.sin(o),[e,s,i]};k.rgb.ansi16=function(n){var e=n[0],t=n[1],r=n[2],s=1 in arguments?arguments[1]:k.rgb.hsv(n)[2];if(s=Math.round(s/50),s===0)return 30;var i=30+(Math.round(r/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return s===2&&(i+=60),i};k.hsv.ansi16=function(n){return k.rgb.ansi16(k.hsv.rgb(n),n[2])};k.rgb.ansi256=function(n){var e=n[0],t=n[1],r=n[2];if(e===t&&t===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var s=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5);return s};k.ansi16.rgb=function(n){var e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var t=(~~(n>50)+1)*.5,r=(e&1)*t*255,s=(e>>1&1)*t*255,i=(e>>2&1)*t*255;return[r,s,i]};k.ansi256.rgb=function(n){if(n>=232){var e=(n-232)*10+8;return[e,e,e]}n-=16;var t,r=Math.floor(n/36)/5*255,s=Math.floor((t=n%36)/6)/5*255,i=t%6/5*255;return[r,s,i]};k.rgb.hex=function(n){var e=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};k.hex.rgb=function(n){var e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var t=e[0];e[0].length===3&&(t=t.split("").map(function(a){return a+a}).join(""));var r=parseInt(t,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};k.rgb.hcg=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,s=Math.max(Math.max(e,t),r),i=Math.min(Math.min(e,t),r),o=s-i,a,l;return o<1?a=i/(1-o):a=0,o<=0?l=0:s===e?l=(t-r)/o%6:s===t?l=2+(r-e)/o:l=4+(e-t)/o+4,l/=6,l%=1,[l*360,o*100,a*100]};k.hsl.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1,s=0;return t<.5?r=2*e*t:r=2*e*(1-t),r<1&&(s=(t-.5*r)/(1-r)),[n[0],r*100,s*100]};k.hsv.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=e*t,s=0;return r<1&&(s=(t-r)/(1-r)),[n[0],r*100,s*100]};k.hcg.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];var s=[0,0,0],i=e%1*6,o=i%1,a=1-o,l=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-t)*r,[(t*s[0]+l)*255,(t*s[1]+l)*255,(t*s[2]+l)*255]};k.hcg.hsv=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e),s=0;return r>0&&(s=e/r),[n[0],s*100,r*100]};k.hcg.hsl=function(n){var e=n[1]/100,t=n[2]/100,r=t*(1-e)+.5*e,s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[n[0],s*100,r*100]};k.hcg.hwb=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};k.hwb.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1-t,s=r-e,i=0;return s<1&&(i=(r-s)/(1-s)),[n[0],s*100,i*100]};k.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};k.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};k.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};k.gray.hsl=k.gray.hsv=function(n){return[0,0,n[0]]};k.gray.hwb=function(n){return[0,100,n[0]]};k.gray.cmyk=function(n){return[0,0,0,n[0]]};k.gray.lab=function(n){return[n[0],0,0]};k.gray.hex=function(n){var e=Math.round(n[0]/100*255)&255,t=(e<<16)+(e<<8)+e,r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};k.rgb.gray=function(n){var e=(n[0]+n[1]+n[2])/3;return[e/255*100]}});var gm=T((Dk,pm)=>{var _i=el();function $y(){for(var n={},e=Object.keys(_i),t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function Vy(n){var e=$y(),t=[n];for(e[n].distance=0;t.length;)for(var r=t.pop(),s=Object.keys(_i[r]),i=s.length,o=0;o<i;o++){var a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,t.unshift(a))}return e}function zy(n,e){return function(t){return e(n(t))}}function qy(n,e){for(var t=[e[n].parent,n],r=_i[e[n].parent][n],s=e[n].parent;e[s].parent;)t.unshift(e[s].parent),r=zy(_i[e[s].parent][s],r),s=e[s].parent;return r.conversion=t,r}pm.exports=function(n){for(var e=Vy(n),t={},r=Object.keys(e),s=r.length,i=0;i<s;i++){var o=r[i],a=e[o];a.parent!==null&&(t[o]=qy(o,e))}return t}});var ym=T((Mk,bm)=>{var tl=el(),Gy=gm(),En={},Hy=Object.keys(tl);function Jy(n){var e=function(t){return t==null?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function Wy(n){var e=function(t){if(t==null)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=n(t);if(typeof r=="object")for(var s=r.length,i=0;i<s;i++)r[i]=Math.round(r[i]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}Hy.forEach(function(n){En[n]={},Object.defineProperty(En[n],"channels",{value:tl[n].channels}),Object.defineProperty(En[n],"labels",{value:tl[n].labels});var e=Gy(n),t=Object.keys(e);t.forEach(function(r){var s=e[r];En[n][r]=Wy(s),En[n][r].raw=Jy(s)})});bm.exports=En});var wm=T((Ik,vm)=>{"use strict";var xr=gp(),je=ym(),sl=[].slice,xm=["keyword","gray","hex"],nl={};Object.keys(je).forEach(function(n){nl[sl.call(je[n].labels).sort().join("")]=n});var ki={};function le(n,e){if(!(this instanceof le))return new le(n,e);if(e&&e in xm&&(e=null),e&&!(e in je))throw new Error("Unknown model: "+e);var t,r;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof le)this.model=n.model,this.color=n.color.slice(),this.valpha=n.valpha;else if(typeof n=="string"){var s=xr.get(n);if(s===null)throw new Error("Unable to parse color from string: "+n);this.model=s.model,r=je[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(n.length){this.model=e||"rgb",r=je[this.model].channels;var i=sl.call(n,0,r);this.color=rl(i,r),this.valpha=typeof n[r]=="number"?n[r]:1}else if(typeof n=="number")n&=16777215,this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(n);"alpha"in n&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);var a=o.sort().join("");if(!(a in nl))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=nl[a];var l=je[this.model].labels,c=[];for(t=0;t<l.length;t++)c.push(n[l[t]]);this.color=rl(c)}if(ki[this.model])for(r=je[this.model].channels,t=0;t<r;t++){var u=ki[this.model][t];u&&(this.color[t]=u(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}le.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(n){var e=this.model in xr.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return xr.to[e.model](t)},percentString:function(n){var e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:e.color.concat(this.valpha);return xr.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var n={},e=je[this.model].channels,t=je[this.model].labels,r=0;r<e;r++)n[t[r]]=this.color[r];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray:function(){var n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject:function(){var n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round:function(n){return n=Math.max(n||0,0),new le(this.color.map(Yy(n)).concat(this.valpha),this.model)},alpha:function(n){return arguments.length?new le(this.color.concat(Math.max(0,Math.min(1,n))),this.model):this.valpha},red:K("rgb",0,re(255)),green:K("rgb",1,re(255)),blue:K("rgb",2,re(255)),hue:K(["hsl","hsv","hsl","hwb","hcg"],0,function(n){return(n%360+360)%360}),saturationl:K("hsl",1,re(100)),lightness:K("hsl",2,re(100)),saturationv:K("hsv",1,re(100)),value:K("hsv",2,re(100)),chroma:K("hcg",1,re(100)),gray:K("hcg",2,re(100)),white:K("hwb",1,re(100)),wblack:K("hwb",2,re(100)),cyan:K("cmyk",0,re(100)),magenta:K("cmyk",1,re(100)),yellow:K("cmyk",2,re(100)),black:K("cmyk",3,re(100)),x:K("xyz",0,re(100)),y:K("xyz",1,re(100)),z:K("xyz",2,re(100)),l:K("lab",0,re(100)),a:K("lab",1),b:K("lab",2),keyword:function(n){return arguments.length?new le(n):je[this.model].keyword(this.color)},hex:function(n){return arguments.length?new le(n):xr.to.hex(this.rgb().round().color)},rgbNumber:function(){var n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity:function(){for(var n=this.rgb().color,e=[],t=0;t<n.length;t++){var r=n[t]/255;e[t]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(n){var e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(n){var e=this.contrast(n);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var n=this.rgb().color,e=(n[0]*299+n[1]*587+n[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var n=this.rgb(),e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten:function(n){var e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken:function(n){var e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate:function(n){var e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate:function(n){var e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten:function(n){var e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken:function(n){var e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale:function(){var n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return le.rgb(e,e,e)},fade:function(n){return this.alpha(this.valpha-this.valpha*n)},opaquer:function(n){return this.alpha(this.valpha+this.valpha*n)},rotate:function(n){var e=this.hsl(),t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix:function(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);var t=n.rgb(),r=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=t.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return le.rgb(a*t.red()+l*r.red(),a*t.green()+l*r.green(),a*t.blue()+l*r.blue(),t.alpha()*s+r.alpha()*(1-s))}};Object.keys(je).forEach(function(n){if(xm.indexOf(n)===-1){var e=je[n].channels;le.prototype[n]=function(){if(this.model===n)return new le(this);if(arguments.length)return new le(arguments,n);var t=typeof arguments[e]=="number"?e:this.valpha;return new le(Qy(je[this.model][n].raw(this.color)).concat(t),n)},le[n]=function(t){return typeof t=="number"&&(t=rl(sl.call(arguments),e)),new le(t,n)}}});function Ky(n,e){return Number(n.toFixed(e))}function Yy(n){return function(e){return Ky(e,n)}}function K(n,e,t){return n=Array.isArray(n)?n:[n],n.forEach(function(r){(ki[r]||(ki[r]=[]))[e]=t}),n=n[0],function(r){var s;return arguments.length?(t&&(r=t(r)),s=this[n](),s.color[e]=r,s):(s=this[n]().color[e],t&&(s=t(s)),s)}}function re(n){return function(e){return Math.max(0,Math.min(n,e))}}function Qy(n){return Array.isArray(n)?n:[n]}function rl(n,e){for(var t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}vm.exports=le});var Fm=T((Lk,Pm)=>{var Xy="Expected a function",_m="__lodash_placeholder__",Yt=1,Ci=2,Zy=4,Kt=8,vr=16,An=32,wr=64,Tm=128,ex=256,Nm=512,km=1/0,tx=9007199254740991,nx=17976931348623157e292,Sm=0/0,rx=[["ary",Tm],["bind",Yt],["bindKey",Ci],["curry",Kt],["curryRight",vr],["flip",Nm],["partial",An],["partialRight",wr],["rearg",ex]],sx="[object Function]",ix="[object GeneratorFunction]",ox="[object Symbol]",ax=/[\\^$.*+?()[\]{}|]/g,lx=/^\s+|\s+$/g,cx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ux=/\{\n\/\* \[wrapped with (.+)\] \*/,hx=/,? & /,dx=/^[-+]0x[0-9a-f]+$/i,fx=/^0b[01]+$/i,mx=/^\[object .+?Constructor\]$/,px=/^0o[0-7]+$/i,gx=/^(?:0|[1-9]\d*)$/,bx=parseInt,yx=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,xx=typeof self=="object"&&self&&self.Object===Object&&self,kr=yx||xx||Function("return this")();function Dm(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function vx(n,e){for(var t=-1,r=n?n.length:0;++t<r&&e(n[t],t,n)!==!1;);return n}function wx(n,e){var t=n?n.length:0;return!!t&&kx(n,e,0)>-1}function _x(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}function kx(n,e,t){if(e!==e)return _x(n,Sx,t);for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}function Sx(n){return n!==n}function Cx(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&r++;return r}function Ex(n,e){return n?.[e]}function Ax(n){var e=!1;if(n!=null&&typeof n.toString!="function")try{e=!!(n+"")}catch{}return e}function Mm(n,e){for(var t=-1,r=n.length,s=0,i=[];++t<r;){var o=n[t];(o===e||o===_m)&&(n[t]=_m,i[s++]=t)}return i}var Ox=Function.prototype,Im=Object.prototype,il=kr["__core-js_shared__"],Cm=function(){var n=/[^.]+$/.exec(il&&il.keys&&il.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Lm=Ox.toString,Tx=Im.hasOwnProperty,Rm=Im.toString,Nx=RegExp("^"+Lm.call(Tx).replace(ax,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dx=Object.create,Si=Math.max,Mx=Math.min,Em=function(){var n=Am(Object,"defineProperty"),e=Am.name;return e&&e.length>2?n:void 0}();function Ix(n){return On(n)?Dx(n):{}}function Lx(n){if(!On(n)||Gx(n))return!1;var e=Kx(n)||Ax(n)?Nx:mx;return e.test(Jx(n))}function Rx(n,e,t,r){for(var s=-1,i=n.length,o=t.length,a=-1,l=e.length,c=Si(i-o,0),u=Array(l+c),h=!r;++a<l;)u[a]=e[a];for(;++s<o;)(h||s<i)&&(u[t[s]]=n[s]);for(;c--;)u[a++]=n[s++];return u}function jx(n,e,t,r){for(var s=-1,i=n.length,o=-1,a=t.length,l=-1,c=e.length,u=Si(i-a,0),h=Array(u+c),d=!r;++s<u;)h[s]=n[s];for(var f=s;++l<c;)h[f+l]=e[l];for(;++o<a;)(d||s<i)&&(h[f+t[o]]=n[s++]);return h}function Ux(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function Bx(n,e,t){var r=e&Yt,s=_r(n);function i(){var o=this&&this!==kr&&this instanceof i?s:n;return o.apply(r?t:this,arguments)}return i}function _r(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ix(n.prototype),r=n.apply(t,e);return On(r)?r:t}}function Px(n,e,t){var r=_r(n);function s(){for(var i=arguments.length,o=Array(i),a=i,l=Um(s);a--;)o[a]=arguments[a];var c=i<3&&o[0]!==l&&o[i-1]!==l?[]:Mm(o,l);if(i-=c.length,i<t)return jm(n,e,ol,s.placeholder,void 0,o,c,void 0,void 0,t-i);var u=this&&this!==kr&&this instanceof s?r:n;return Dm(u,this,o)}return s}function ol(n,e,t,r,s,i,o,a,l,c){var u=e&Tm,h=e&Yt,d=e&Ci,f=e&(Kt|vr),p=e&Nm,m=d?void 0:_r(n);function y(){for(var g=arguments.length,b=Array(g),_=g;_--;)b[_]=arguments[_];if(f)var M=Um(y),W=Cx(b,M);if(r&&(b=Rx(b,r,s,f)),i&&(b=jx(b,i,o,f)),g-=W,f&&g<c){var H=Mm(b,M);return jm(n,e,ol,y.placeholder,t,b,H,a,l,c-g)}var Y=h?t:this,de=d?Y[n]:n;return g=b.length,a?b=Hx(b,a):p&&g>1&&b.reverse(),u&&l<g&&(b.length=l),this&&this!==kr&&this instanceof y&&(de=m||_r(de)),de.apply(Y,b)}return y}function Fx(n,e,t,r){var s=e&Yt,i=_r(n);function o(){for(var a=-1,l=arguments.length,c=-1,u=r.length,h=Array(u+l),d=this&&this!==kr&&this instanceof o?i:n;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++a];return Dm(d,s?t:this,h)}return o}function jm(n,e,t,r,s,i,o,a,l,c){var u=e&Kt,h=u?o:void 0,d=u?void 0:o,f=u?i:void 0,p=u?void 0:i;e|=u?An:wr,e&=~(u?wr:An),e&Zy||(e&=~(Yt|Ci));var m=t(n,e,s,f,h,p,d,a,l,c);return m.placeholder=r,Bm(m,n,e)}function $x(n,e,t,r,s,i,o,a){var l=e&Ci;if(!l&&typeof n!="function")throw new TypeError(Xy);var c=r?r.length:0;if(c||(e&=~(An|wr),r=s=void 0),o=o===void 0?o:Si(Om(o),0),a=a===void 0?a:Om(a),c-=s?s.length:0,e&wr){var u=r,h=s;r=s=void 0}var d=[n,e,t,r,s,u,h,i,o,a];if(n=d[0],e=d[1],t=d[2],r=d[3],s=d[4],a=d[9]=d[9]==null?l?0:n.length:Si(d[9]-c,0),!a&&e&(Kt|vr)&&(e&=~(Kt|vr)),!e||e==Yt)var f=Bx(n,e,t);else e==Kt||e==vr?f=Px(n,e,a):(e==An||e==(Yt|An))&&!s.length?f=Fx(n,e,t,r):f=ol.apply(void 0,d);return Bm(f,n,e)}function Um(n){var e=n;return e.placeholder}function Am(n,e){var t=Ex(n,e);return Lx(t)?t:void 0}function Vx(n){var e=n.match(ux);return e?e[1].split(hx):[]}function zx(n,e){var t=e.length,r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(cx,`{
/* [wrapped with `+e+`] */
`)}function qx(n,e){return e=e??tx,!!e&&(typeof n=="number"||gx.test(n))&&n>-1&&n%1==0&&n<e}function Gx(n){return!!Cm&&Cm in n}function Hx(n,e){for(var t=n.length,r=Mx(e.length,t),s=Ux(n);r--;){var i=e[r];n[r]=qx(i,t)?s[i]:void 0}return n}var Bm=Em?function(n,e,t){var r=e+"";return Em(n,"toString",{configurable:!0,enumerable:!1,value:ev(zx(r,Wx(Vx(r),t)))})}:tv;function Jx(n){if(n!=null){try{return Lm.call(n)}catch{}try{return n+""}catch{}}return""}function Wx(n,e){return vx(rx,function(t){var r="_."+t[0];e&t[1]&&!wx(n,r)&&n.push(r)}),n.sort()}function al(n,e,t){e=t?void 0:e;var r=$x(n,Kt,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=al.placeholder,r}function Kx(n){var e=On(n)?Rm.call(n):"";return e==sx||e==ix}function On(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Yx(n){return!!n&&typeof n=="object"}function Qx(n){return typeof n=="symbol"||Yx(n)&&Rm.call(n)==ox}function Xx(n){if(!n)return n===0?n:0;if(n=Zx(n),n===km||n===-km){var e=n<0?-1:1;return e*nx}return n===n?n:0}function Om(n){var e=Xx(n),t=e%1;return e===e?t?e-t:e:0}function Zx(n){if(typeof n=="number")return n;if(Qx(n))return Sm;if(On(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=On(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(lx,"");var t=fx.test(n);return t||px.test(n)?bx(n.slice(2),t?2:8):dx.test(n)?Sm:+n}function ev(n){return function(){return n}}function tv(n){return n}al.placeholder={};Pm.exports=al});function $m(n){var e=n[0],t=n[1],r=n[2],s,i,o;return s=e*1+t*0+r*1.13983,i=e*1+t*-.39465+r*-.5806,o=e*1+t*2.02311+r*0,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[s*255,i*255,o*255]}function Vm(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,s=e*.299+t*.587+r*.114,i=e*-.14713+t*-.28886+r*.436,o=e*.615+t*-.51499+r*-.10001;return[s,i,o]}var zm=v(()=>{});var qm=v(()=>{});function Gm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ce(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gm(Object(t),!0).forEach(function(r){ec(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var hl,ll,cl,Jm,Hm,nv,rv,Tn,sv,iv,ov,ul,Wm,Km,av,Ym,dl=v(()=>{dp();fp();Vd();hl=$(um()),ll=$(wm()),cl=$(Fm());zm();qm();Jm=hl.default,Hm=Object.keys(Jm),nv=function(e){return e<.25?1:e<.5?.9-e:1.1-e},rv=function(e){var t=(0,ll.default)(e),r=Vm(t.array()),s=Us(r,3),i=s[0],o=s[1],a=s[2],l=[nv(i),o,a],c=$m(l);return ll.default.rgb(c).hex()},Tn=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:Ce(Ce({},t.style||{}),e.style||{})}}},sv=function(e,t){if(e===void 0)return t;if(t===void 0)return e;var r=Mr(e),s=Mr(t);switch(r){case"string":switch(s){case"string":return[t,e].filter(Boolean).join(" ");case"object":return Tn({className:e,style:t});case"function":return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return Tn({className:e})(t.apply(void 0,[i].concat(a)))}}break;case"object":switch(s){case"string":return Tn({className:t,style:e});case"object":return Ce(Ce({},t),e);case"function":return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return Tn({style:e})(t.apply(void 0,[i].concat(a)))}}break;case"function":switch(s){case"string":return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e.apply(void 0,[Tn(i)({className:t})].concat(a))};case"object":return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e.apply(void 0,[Tn(i)({style:t})].concat(a))};case"function":return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e.apply(void 0,[t.apply(void 0,[i].concat(a))].concat(a))}}}},iv=function(e,t){var r=Object.keys(t);for(var s in e)r.indexOf(s)===-1&&r.push(s);return r.reduce(function(i,o){return i[o]=sv(e[o],t[o]),i},{})},ov=function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];if(t===null)return e;Array.isArray(t)||(t=[t]);var o=t.map(function(l){return e[l]}).filter(Boolean),a=o.reduce(function(l,c){return typeof c=="string"?l.className=[l.className,c].filter(Boolean).join(" "):Mr(c)==="object"?l.style=Ce(Ce({},l.style),c):typeof c=="function"&&(l=Ce(Ce({},l),c.apply(void 0,[l].concat(s)))),l},{className:"",style:{}});return a.className||delete a.className,Object.keys(a.style).length===0&&delete a.style,a},ul=function(e){return Object.keys(e).reduce(function(t,r){return t[r]=/^base/.test(r)?rv(e[r]):r==="scheme"?e[r]+":inverted":e[r],t},{})},Wm=(0,cl.default)(function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.defaultBase16,s=r===void 0?Jm:r,i=e.base16Themes,o=i===void 0?null:i,a=av(t,o);a&&(t=Ce(Ce({},a),t));for(var l=Hm.reduce(function(m,y){return m[y]=t[y]||s[y],m},{}),c=Object.keys(t).reduce(function(m,y){return Hm.indexOf(y)===-1&&(m[y]=t[y]),m},{}),u=n(l),h=iv(c,u),d=arguments.length,f=new Array(d>3?d-3:0),p=3;p<d;p++)f[p-3]=arguments[p];return(0,cl.default)(ov,2).apply(void 0,[h].concat(f))},3),Km=function(e){return!!e.extend},av=function(e,t){if(e&&Km(e)&&e.extend&&(e=e.extend),typeof e=="string"){var r=e.split(":"),s=Us(r,2),i=s[0],o=s[1];t?e=t[i]:e=hl[i],o==="inverted"&&(e=ul(e))}return e&&Object.prototype.hasOwnProperty.call(e,"base00")?e:void 0},Ym=function(e){return typeof e=="string"?"".concat(e,":inverted"):e&&Km(e)&&e.extend?typeof e.extend=="string"?Ce(Ce({},e),{},{extend:"".concat(e.extend,":inverted")}):Ce(Ce({},e),{},{extend:ul(e.extend)}):e&&ul(e)}});var Qm,Xm=v(()=>{Qm={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"}});var lv,cv,uv,hv,Zm,ep=v(()=>{dl();Xm();lv=n=>({BACKGROUND_COLOR:n.base00,TEXT_COLOR:n.base07,STRING_COLOR:n.base0B,DATE_COLOR:n.base0B,NUMBER_COLOR:n.base09,BOOLEAN_COLOR:n.base09,NULL_COLOR:n.base08,UNDEFINED_COLOR:n.base08,FUNCTION_COLOR:n.base08,SYMBOL_COLOR:n.base08,LABEL_COLOR:n.base0D,ARROW_COLOR:n.base0D,ITEM_STRING_COLOR:n.base0B,ITEM_STRING_EXPANDED_COLOR:n.base03}),cv=n=>({String:n.STRING_COLOR,Date:n.DATE_COLOR,Number:n.NUMBER_COLOR,Boolean:n.BOOLEAN_COLOR,Null:n.NULL_COLOR,Undefined:n.UNDEFINED_COLOR,Function:n.FUNCTION_COLOR,Symbol:n.SYMBOL_COLOR}),uv=n=>{let e=lv(n);return{tree:{border:0,padding:0,marginTop:"0.5em",marginBottom:"0.5em",marginLeft:"0.125em",marginRight:0,listStyle:"none",MozUserSelect:"none",WebkitUserSelect:"none",backgroundColor:e.BACKGROUND_COLOR},value:(t,r,s)=>{let{style:i}=t;return{style:{...i,paddingTop:"0.25em",paddingRight:0,marginLeft:"0.875em",WebkitUserSelect:"text",MozUserSelect:"text",wordWrap:"break-word",paddingLeft:s.length>1?"2.125em":"1.25em",textIndent:"-0.5em",wordBreak:"break-all"}}},label:{display:"inline-block",color:e.LABEL_COLOR},valueLabel:{margin:"0 0.5em 0 0"},valueText:(t,r)=>{let{style:s}=t;return{style:{...s,color:cv(e)[r]}}},itemRange:(t,r)=>({style:{paddingTop:r?0:"0.25em",cursor:"pointer",color:e.LABEL_COLOR}}),arrow:(t,r,s)=>{let{style:i}=t;return{style:{...i,marginLeft:0,transition:"150ms",WebkitTransition:"150ms",MozTransition:"150ms",WebkitTransform:s?"rotateZ(90deg)":"rotateZ(0deg)",MozTransform:s?"rotateZ(90deg)":"rotateZ(0deg)",transform:s?"rotateZ(90deg)":"rotateZ(0deg)",transformOrigin:"45% 50%",WebkitTransformOrigin:"45% 50%",MozTransformOrigin:"45% 50%",position:"relative",lineHeight:"1.1em",fontSize:"0.75em"}}},arrowContainer:(t,r)=>{let{style:s}=t;return{style:{...s,display:"inline-block",paddingRight:"0.5em",paddingLeft:r==="double"?"1em":0,cursor:"pointer"}}},arrowSign:{color:e.ARROW_COLOR},arrowSignInner:{position:"absolute",top:0,left:"-0.4em"},nestedNode:(t,r,s,i,o)=>{let{style:a}=t;return{style:{...a,position:"relative",paddingTop:"0.25em",marginLeft:r.length>1?"0.875em":0,paddingLeft:o?0:"1.125em"}}},rootNode:{padding:0,margin:0},nestedNodeLabel:(t,r,s,i,o)=>{let{style:a}=t;return{style:{...a,margin:0,padding:0,WebkitUserSelect:o?"inherit":"text",MozUserSelect:o?"inherit":"text",cursor:o?"pointer":"default"}}},nestedNodeItemString:(t,r,s,i)=>{let{style:o}=t;return{style:{...o,paddingLeft:"0.5em",cursor:"default",color:i?e.ITEM_STRING_EXPANDED_COLOR:e.ITEM_STRING_COLOR}}},nestedNodeItemType:{marginLeft:"0.3em",marginRight:"0.3em"},nestedNodeChildren:(t,r,s)=>{let{style:i}=t;return{style:{...i,padding:0,margin:0,listStyle:"none",display:s?"block":"none"}}},rootNodeChildren:{padding:0,margin:0,listStyle:"none"}}},hv=Wm(uv,{defaultBase16:Qm}),Zm=hv});function np(n){let{data:e,theme:t,invertTheme:r,keyPath:s=["root"],labelRenderer:i=mv,valueRenderer:o=tp,shouldExpandNodeInitially:a=dv,hideRoot:l=!1,getItemString:c=fv,postprocessValue:u=tp,isCustomNode:h=pv,collectionLimit:d=50,sortObjectKeys:f=!1}=n,p=(0,Qt.useMemo)(()=>Zm(r?Ym(t):t),[t,r]);return Qt.default.createElement("ul",p("tree"),Qt.default.createElement(yr,{keyPath:l?[]:s,value:u(e),isCustomNode:h,styling:p,labelRenderer:i,valueRenderer:o,shouldExpandNodeInitially:a,hideRoot:l,getItemString:c,postprocessValue:u,collectionLimit:d,sortObjectKeys:f}))}var Qt,tp,dv,fv,mv,pv,rp=v(()=>{Qt=$(Be());Ja();ep();dl();tp=n=>n,dv=(n,e,t)=>t===0,fv=(n,e,t,r)=>Qt.default.createElement("span",null,t," ",r),mv=n=>{let[e]=n;return Qt.default.createElement("span",null,e,":")},pv=()=>!1});function Xt(n){var e;return(e=Sn.style([n]))!==null&&e!==void 0?e:""}function ip(n,e){return JSON.stringify(n).includes(e)}function pl(n,e,t=["root"]){return fl.JSONExt.isArray(n)?n.reduce((r,s,i)=>s&&typeof s=="object"&&ip(s,e)?[...r,[i,...t].join(","),...pl(s,e,[i,...t])]:r,[]):fl.JSONExt.isObject(n)?Object.keys(n).reduce((r,s)=>{let i=n[s];return i&&typeof i=="object"&&(s.includes(e)||ip(i,e))?[...r,[s,...t].join(","),...pl(i,e,[s,...t])]:r},[]):[]}var fl,qe,ml,sp,gv,bv=v(()=>{Cd();Mt();Sl();Or();fl=$(Ye()),qe=$(Be()),ml=$(Ad());rp();cp();sp=class extends qe.Component{constructor(){super(...arguments),this.state={filter:"",value:""},this.timer=0,this.handleChange=e=>{let{value:t}=e.target;this.setState({value:t}),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.setState({filter:t})},300)}}componentDidMount(){Nl.mount(document,Sn.module)}render(){let t=(this.props.translator||ve).load("jupyterlab"),{data:r,metadata:s,forwardedRef:i}=this.props,o=s&&s.root?s.root:"root",a=this.state.filter?pl(r,this.state.filter,[o]):[o];return qe.createElement("div",{className:"container",ref:i},qe.createElement(vl,{className:"filter",type:"text",placeholder:t.__("Filter\u2026"),onChange:this.handleChange,value:this.state.value,rightIcon:"ui-components:search"}),qe.createElement(np,{data:r,collectionLimit:100,theme:{extend:gv,valueLabel:Xt(E.variableName),valueText:Xt(E.string),nestedNodeItemString:Xt(E.comment)},invertTheme:!1,keyPath:[o],getItemString:(l,c,u,h)=>Array.isArray(c)?qe.createElement("span",null,u," ",h):Object.keys(c).length===0?qe.createElement("span",null,u):null,labelRenderer:([l,c])=>qe.createElement("span",{className:Xt(E.keyword)},qe.createElement(ml.default,{searchWords:[this.state.filter],textToHighlight:`${l}`,highlightClassName:"jp-mod-selected"})),valueRenderer:l=>{let c=Xt(E.string);return typeof l=="number"&&(c=Xt(E.number)),(l==="true"||l==="false")&&(c=Xt(E.keyword)),qe.createElement("span",{className:c},qe.createElement(ml.default,{searchWords:[this.state.filter],textToHighlight:`${l}`,highlightClassName:"jp-mod-selected"}))},shouldExpandNodeInitially:(l,c,u)=>s&&s.expanded?!0:a.join(",").includes(l.join(","))}))}},gv={scheme:"jupyter",base00:"invalid",base01:"invalid",base02:"invalid",base03:"invalid",base04:"invalid",base05:"invalid",base06:"invalid",base07:"invalid",base08:"invalid",base09:"invalid",base0A:"invalid",base0B:"invalid",base0C:"invalid",base0D:"invalid",base0E:"invalid",base0F:"invalid",author:"invalid"}});bv();export{sp as Component};
/*! Bundled license information:

react-highlight-words/dist/main.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/
