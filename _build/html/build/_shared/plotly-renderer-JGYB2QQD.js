import{a as w,b as ct,c as A,d as lt,e as qe,f as ve,g as te,h as ht,i as ye,j as ft,k as ae,l as Ke,m as Ee,n as ze,o as Ae,p as Z,q as be,r as C,s as St,t as z,u as K,v as ie,w as pt}from"/build/_shared/chunk-QB27XQSF.js";import{b as wt,c as Ct,e as dt}from"/build/_shared/chunk-2NH4LW52.js";var V,he,Ue=wt(()=>{V=function(){function n(i){this._pid=he.nextPID(),this.name=i.name,this._create=i.create,this._coerce=i.coerce||null,this._compare=i.compare||null,this._changed=i.changed||null}return n.prototype.get=function(i){var e,t=he.ensureMap(i);return this._pid in t?e=t[this._pid]:e=t[this._pid]=this._createValue(i),e},n.prototype.set=function(i,e){var t,r=he.ensureMap(i);this._pid in r?t=r[this._pid]:t=r[this._pid]=this._createValue(i);var o=this._coerceValue(i,e);this._maybeNotify(i,t,r[this._pid]=o)},n.prototype.coerce=function(i){var e,t=he.ensureMap(i);this._pid in t?e=t[this._pid]:e=t[this._pid]=this._createValue(i);var r=this._coerceValue(i,e);this._maybeNotify(i,e,t[this._pid]=r)},n.prototype._createValue=function(i){var e=this._create;return e(i)},n.prototype._coerceValue=function(i,e){var t=this._coerce;return t?t(i,e):e},n.prototype._compareValue=function(i,e){var t=this._compare;return t?t(i,e):i===e},n.prototype._maybeNotify=function(i,e,t){var r=this._changed;r&&!this._compareValue(e,t)&&r(i,e,t)},n}();(function(n){function i(e){he.ownerData.delete(e)}n.clearData=i})(V||(V={}));(function(n){n.ownerData=new WeakMap,n.nextPID=function(){var e=0;return function(){var t=Math.random(),r=(""+t).slice(2);return"pid-"+r+"-"+e++}}();function i(e){var t=n.ownerData.get(e);return t||(t=Object.create(null),n.ownerData.set(e,t),t)}n.ensureMap=i})(he||(he={}))});var Xe=Ct((Pe,vt)=>{(function(n,i){typeof Pe=="object"&&typeof vt<"u"?i(Pe):typeof define=="function"&&define.amd?define(["exports"],i):(n=typeof globalThis<"u"?globalThis:n||self,i(n.lumino_coreutils={}))})(Pe,function(n){"use strict";n.JSONExt=void 0,function(a){a.emptyObject=Object.freeze({}),a.emptyArray=Object.freeze([]);function u(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"}a.isPrimitive=u;function h(m){return Array.isArray(m)}a.isArray=h;function l(m){return!u(m)&&!h(m)}a.isObject=l;function p(m,y){if(m===y)return!0;if(u(m)||u(y))return!1;var b=h(m),v=h(y);return b!==v?!1:b&&v?f(m,y):d(m,y)}a.deepEqual=p;function g(m){return u(m)?m:h(m)?s(m):c(m)}a.deepCopy=g;function f(m,y){if(m===y)return!0;if(m.length!==y.length)return!1;for(var b=0,v=m.length;b<v;++b)if(!p(m[b],y[b]))return!1;return!0}function d(m,y){if(m===y)return!0;for(var b in m)if(m[b]!==void 0&&!(b in y))return!1;for(var b in y)if(y[b]!==void 0&&!(b in m))return!1;for(var b in m){var v=m[b],_=y[b];if(!(v===void 0&&_===void 0)&&(v===void 0||_===void 0||!p(v,_)))return!1}return!0}function s(m){for(var y=new Array(m.length),b=0,v=m.length;b<v;++b)y[b]=g(m[b]);return y}function c(m){var y={};for(var b in m){var v=m[b];v!==void 0&&(y[b]=g(v))}return y}}(n.JSONExt||(n.JSONExt={}));var i=function(){function a(){this._types=[],this._values=[]}return a.prototype.types=function(){return this._types.slice()},a.prototype.hasData=function(u){return this._types.indexOf(u)!==-1},a.prototype.getData=function(u){var h=this._types.indexOf(u);return h!==-1?this._values[h]:void 0},a.prototype.setData=function(u,h){this.clearData(u),this._types.push(u),this._values.push(h)},a.prototype.clearData=function(u){var h=this._types.indexOf(u);h!==-1&&(this._types.splice(h,1),this._values.splice(h,1))},a.prototype.clear=function(){this._types.length=0,this._values.length=0},a}(),e=function(){function a(){var u=this;this.promise=new Promise(function(h,l){u._resolve=h,u._reject=l})}return a.prototype.resolve=function(u){var h=this._resolve;h(u)},a.prototype.reject=function(u){var h=this._reject;h(u)},a}(),t=function(){function a(u){this.name=u,this._tokenStructuralPropertyT=null}return a}();function r(a){for(var u=0,h=0,l=a.length;h<l;++h)h%4===0&&(u=Math.random()*4294967295>>>0),a[h]=u&255,u>>>=8}n.Random=void 0,function(a){a.getRandomValues=function(){var u=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return u&&typeof u.getRandomValues=="function"?function(l){return u.getRandomValues(l)}:r}()}(n.Random||(n.Random={}));function o(a){for(var u=new Uint8Array(16),h=new Array(256),l=0;l<16;++l)h[l]="0"+l.toString(16);for(var l=16;l<256;++l)h[l]=l.toString(16);return function(){return a(u),u[6]=64|u[6]&15,u[8]=128|u[8]&63,h[u[0]]+h[u[1]]+h[u[2]]+h[u[3]]+"-"+h[u[4]]+h[u[5]]+"-"+h[u[6]]+h[u[7]]+"-"+h[u[8]]+h[u[9]]+"-"+h[u[10]]+h[u[11]]+h[u[12]]+h[u[13]]+h[u[14]]+h[u[15]]}}n.UUID=void 0,function(a){a.uuid4=o(n.Random.getRandomValues)}(n.UUID||(n.UUID={})),n.MimeData=i,n.PromiseDelegate=e,n.Token=t,Object.defineProperty(n,"__esModule",{value:!0})})});Ae();pt();St();Ue();Ae();Ue();var L=function(){function n(i){this._blockedCount=0,this.sender=i}return n.prototype.block=function(i){this._blockedCount++;try{i()}finally{this._blockedCount--}},n.prototype.connect=function(i,e){return G.connect(this,i,e)},n.prototype.disconnect=function(i,e){return G.disconnect(this,i,e)},n.prototype.emit=function(i){this._blockedCount||G.emit(this,i)},n}();(function(n){function i(l,p){var g=G.blockedProperty;g.set(l,g.get(l)+1);try{p()}finally{g.set(l,g.get(l)-1)}}n.blockAll=i;function e(l,p){G.disconnectBetween(l,p)}n.disconnectBetween=e;function t(l){G.disconnectSender(l)}n.disconnectSender=t;function r(l){G.disconnectReceiver(l)}n.disconnectReceiver=r;function o(l){G.disconnectAll(l)}n.disconnectAll=o;function a(l){G.disconnectAll(l)}n.clearData=a;function u(){return G.exceptionHandler}n.getExceptionHandler=u;function h(l){var p=G.exceptionHandler;return G.exceptionHandler=l,p}n.setExceptionHandler=h})(L||(L={}));var G;(function(n){n.exceptionHandler=function(b){console.error(b)};function i(b,v,_){_=_||void 0;var M=h.get(b.sender);if(M||(M=[],h.set(b.sender,M)),f(M,b,v,_))return!1;var x=_||v,I=l.get(x);I||(I=[],l.set(x,I));var E={signal:b,slot:v,thisArg:_};return M.push(E),I.push(E),!0}n.connect=i;function e(b,v,_){_=_||void 0;var M=h.get(b.sender);if(!M||M.length===0)return!1;var x=f(M,b,v,_);if(!x)return!1;var I=_||v,E=l.get(I);return x.signal=null,s(M),s(E),!0}n.disconnect=e;function t(b,v){var _=h.get(b);if(!(!_||_.length===0)){var M=l.get(v);!M||M.length===0||(A(M,function(x){x.signal&&x.signal.sender===b&&(x.signal=null)}),s(_),s(M))}}n.disconnectBetween=t;function r(b){var v=h.get(b);!v||v.length===0||(A(v,function(_){if(_.signal){var M=_.thisArg||_.slot;_.signal=null,s(l.get(M))}}),s(v))}n.disconnectSender=r;function o(b){var v=l.get(b);!v||v.length===0||(A(v,function(_){if(_.signal){var M=_.signal.sender;_.signal=null,s(h.get(M))}}),s(v))}n.disconnectReceiver=o;function a(b){r(b),o(b)}n.disconnectAll=a;function u(b,v){if(!(n.blockedProperty.get(b.sender)>0)){var _=h.get(b.sender);if(!(!_||_.length===0))for(var M=0,x=_.length;M<x;++M){var I=_[M];I.signal===b&&d(I,v)}}}n.emit=u;var h=new WeakMap,l=new WeakMap,p=new Set,g=function(){var b=typeof requestAnimationFrame=="function";return b?requestAnimationFrame:setImmediate}();function f(b,v,_,M){return ye(b,function(x){return x.signal===v&&x.slot===_&&x.thisArg===M})}function d(b,v){var _=b.signal,M=b.slot,x=b.thisArg;try{M.call(x,_.sender,v)}catch(I){n.exceptionHandler(I)}}function s(b){p.size===0&&g(c),p.add(b)}function c(){p.forEach(m),p.clear()}function m(b){w.removeAllWhere(b,y)}function y(b){return b.signal===null}n.blockedProperty=new V({name:"blocked",create:function(){return 0}})})(G||(G={}));Ae();var Ve=function(n,i){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Ve(n,i)};function gt(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Ve(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var se=function(){function n(i){this._fn=i}return Object.defineProperty(n.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){if(this._fn){var i=this._fn;this._fn=null,i()}},n}(),Ut=function(n){gt(i,n);function i(){var e=n!==null&&n.apply(this,arguments)||this;return e._disposed=new L(e),e}return Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.isDisposed||(n.prototype.dispose.call(this),this._disposed.emit(void 0),L.clearData(this))},i}(se),Ye=function(){function n(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(i){i.dispose()}),this._items.clear())},n.prototype.contains=function(i){return this._items.has(i)},n.prototype.add=function(i){this._items.add(i)},n.prototype.remove=function(i){this._items.delete(i)},n.prototype.clear=function(){this._items.clear()},n}();(function(n){function i(e){var t=new n;return A(e,function(r){t.add(r)}),t}n.from=i})(Ye||(Ye={}));var mt=function(n){gt(i,n);function i(){var e=n!==null&&n.apply(this,arguments)||this;return e._disposed=new L(e),e}return Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.isDisposed||(n.prototype.dispose.call(this),this._disposed.emit(void 0),L.clearData(this))},i}(Ye);(function(n){function i(e){var t=new n;return A(e,function(r){t.add(r)}),t}n.from=i})(mt||(mt={}));var ue=function(){function n(i){var e=this;this._onScrollFrame=function(){if(e._scrollTarget){var t=e._scrollTarget,r=t.element,o=t.edge,a=t.distance,u=U.SCROLL_EDGE_SIZE-a,h=Math.pow(u/U.SCROLL_EDGE_SIZE,2),l=Math.max(1,Math.round(h*U.SCROLL_EDGE_SIZE));switch(o){case"top":r.scrollTop-=l;break;case"left":r.scrollLeft-=l;break;case"right":r.scrollLeft+=l;break;case"bottom":r.scrollTop+=l;break}requestAnimationFrame(e._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=i.document||document,this.mimeData=i.mimeData,this.dragImage=i.dragImage||null,this.proposedAction=i.proposedAction||"copy",this.supportedActions=i.supportedActions||"all",this.source=i.source||null}return n.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var i=U.createMouseEvent("pointerup",-1,-1);U.dispatchDragLeave(this,this._currentTarget,null,i)}this._finalize("none")}},Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.start=function(i,e){var t=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(i,e),this._promise=new Promise(function(o,a){t._resolve=o});var r=U.createMouseEvent("pointermove",i,e);return document.dispatchEvent(r),this._promise},n.prototype.handleEvent=function(i){switch(i.type){case"mousemove":this._evtMouseMove(i);break;case"mouseup":this._evtMouseUp(i);break;case"pointermove":this._evtMouseMove(i);break;case"pointerup":this._evtMouseUp(i);break;case"keydown":this._evtKeyDown(i);break;default:i.preventDefault(),i.stopPropagation();break}},n.prototype.moveDragImage=function(i,e){if(this.dragImage){var t=this.dragImage.style;t.top=e+"px",t.left=i+"px"}},n.prototype._evtMouseMove=function(i){i.preventDefault(),i.stopPropagation(),this._updateCurrentTarget(i),this._updateDragScroll(i),this.moveDragImage(i.clientX,i.clientY)},n.prototype._evtMouseUp=function(i){if(i.preventDefault(),i.stopPropagation(),i.button===0){if(this._updateCurrentTarget(i),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){U.dispatchDragLeave(this,this._currentTarget,null,i),this._finalize("none");return}var e=U.dispatchDrop(this,this._currentTarget,i);this._finalize(e)}},n.prototype._evtKeyDown=function(i){i.preventDefault(),i.stopPropagation(),i.keyCode===27&&this.dispose()},n.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},n.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},n.prototype._updateDragScroll=function(i){var e=U.findScrollTarget(i);!this._scrollTarget&&!e||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=e)},n.prototype._updateCurrentTarget=function(i){var e=this._currentTarget,t=this._currentTarget,r=this._currentElement,o=this.document.elementFromPoint(i.clientX,i.clientY);this._currentElement=o,o!==r&&o!==t&&U.dispatchDragExit(this,t,o,i),o!==r&&o!==t&&(t=U.dispatchDragEnter(this,o,t,i)),t!==e&&(this._currentTarget=t,U.dispatchDragLeave(this,e,t,i));var a=U.dispatchDragOver(this,t,i);this._setDropAction(a)},n.prototype._attachDragImage=function(i,e){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var t=this.dragImage.style;t.pointerEvents="none",t.position="fixed",t.top=e+"px",t.left=i+"px";var r=this.document instanceof Document?this.document.body:this.document.firstElementChild;r.appendChild(this.dragImage)}},n.prototype._detachDragImage=function(){if(this.dragImage){var i=this.dragImage.parentNode;i&&i.removeChild(this.dragImage)}},n.prototype._setDropAction=function(i){if(i=U.validateAction(i,this.supportedActions),!(this._override&&this._dropAction===i))switch(i){case"none":this._dropAction=i,this._override=n.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=i,this._override=n.overrideCursor("copy",this.document);break;case"link":this._dropAction=i,this._override=n.overrideCursor("alias",this.document);break;case"move":this._dropAction=i,this._override=n.overrideCursor("move",this.document);break}},n.prototype._finalize=function(i){var e=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,e&&e(i)},n}();(function(n){function i(t,r){r===void 0&&(r=document);var o=++e,a=r instanceof Document?r.body:r.firstElementChild;return a.style.cursor=t,a.classList.add("lm-mod-override-cursor"),a.classList.add("p-mod-override-cursor"),new se(function(){o===e&&(a.style.cursor="",a.classList.remove("lm-mod-override-cursor"),a.classList.remove("p-mod-override-cursor"))})}n.overrideCursor=i;var e=0})(ue||(ue={}));var U;(function(n){n.SCROLL_EDGE_SIZE=20;function i(f,d){return l[f]&p[d]?f:"none"}n.validateAction=i;function e(f,d,s){var c=document.createEvent("MouseEvent");return c.initMouseEvent(f,!0,!0,window,0,0,0,d,s,!1,!1,!1,!1,0,null),c}n.createMouseEvent=e;function t(f){for(var d=f.clientX,s=f.clientY,c=document.elementFromPoint(d,s);c;c=c.parentElement){var m=c.hasAttribute("data-lm-dragscroll");if(m=m||c.hasAttribute("data-p-dragscroll"),!!m){var y=0,b=0;c===document.body&&(y=window.pageXOffset,b=window.pageYOffset);var v=c.getBoundingClientRect(),_=v.top+b,M=v.left+y,x=M+v.width,I=_+v.height;if(!(d<M||d>=x||s<_||s>=I)){var E=d-M+1,T=s-_+1,k=x-d,B=I-s,H=Math.min(E,T,k,B);if(!(H>n.SCROLL_EDGE_SIZE)){var j=void 0;switch(H){case B:j="bottom";break;case T:j="top";break;case k:j="right";break;case E:j="left";break;default:throw"unreachable"}var q=c.scrollWidth-c.clientWidth,ee=c.scrollHeight-c.clientHeight,Ie=void 0;switch(j){case"top":Ie=ee>0&&c.scrollTop>0;break;case"left":Ie=q>0&&c.scrollLeft>0;break;case"right":Ie=q>0&&c.scrollLeft<q;break;case"bottom":Ie=ee>0&&c.scrollTop<ee;break;default:throw"unreachable"}if(Ie)return{element:c,edge:j,distance:H}}}}}return null}n.findScrollTarget=t;function r(f,d,s,c){if(!d)return null;var m=g("lm-dragenter",f,c,s),y=!d.dispatchEvent(m);if(y||(m=g("p-dragenter",f,c,s),y=!d.dispatchEvent(m),y))return d;var b=f.document instanceof Document?f.document.body:f.document.firstElementChild;return d===b?s:(m=g("lm-dragenter",f,c,s),b.dispatchEvent(m),m=g("p-dragenter",f,c,s),b.dispatchEvent(m),b)}n.dispatchDragEnter=r;function o(f,d,s,c){if(d){var m=g("lm-dragexit",f,c,s);d.dispatchEvent(m),m=g("p-dragexit",f,c,s),d.dispatchEvent(m)}}n.dispatchDragExit=o;function a(f,d,s,c){if(d){var m=g("lm-dragleave",f,c,s);d.dispatchEvent(m),m=g("p-dragleave",f,c,s),d.dispatchEvent(m)}}n.dispatchDragLeave=a;function u(f,d,s){if(!d)return"none";var c=g("lm-dragover",f,s,null),m=!d.dispatchEvent(c);return m||(c=g("p-dragover",f,s,null),m=!d.dispatchEvent(c),m)?c.dropAction:"none"}n.dispatchDragOver=u;function h(f,d,s){if(!d)return"none";var c=g("lm-drop",f,s,null),m=!d.dispatchEvent(c);return m||(c=g("p-drop",f,s,null),m=!d.dispatchEvent(c),m)?c.dropAction:"none"}n.dispatchDrop=h;var l={none:0,copy:1,link:2,move:4},p={none:l.none,copy:l.copy,link:l.link,move:l.move,"copy-link":l.copy|l.link,"copy-move":l.copy|l.move,"link-move":l.link|l.move,all:l.copy|l.link|l.move};function g(f,d,s,c){var m=document.createEvent("MouseEvent");return m.initMouseEvent(f,!0,!0,window,0,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,c),m.dropAction="none",m.mimeData=d.mimeData,m.proposedAction=d.proposedAction,m.supportedActions=d.supportedActions,m.source=d.source,m}})(U||(U={}));var me=dt(Xe());Ae();var Y=dt(Xe());pt();function _e(){return $e.keyboardLayout}var Ge=function(){function n(i,e,t){t===void 0&&(t=[]),this.name=i,this._codes=e,this._keys=n.extractKeys(e),this._modifierKeys=n.convertToKeySet(t)}return n.prototype.keys=function(){return Object.keys(this._keys)},n.prototype.isValidKey=function(i){return i in this._keys},n.prototype.isModifierKey=function(i){return i in this._modifierKeys},n.prototype.keyForKeydownEvent=function(i){return this._codes[i.keyCode]||""},n}();(function(n){function i(t){var r=Object.create(null);for(var o in t)r[t[o]]=!0;return r}n.extractKeys=i;function e(t){for(var r=Object(null),o=0,a=t.length;o<a;++o)r[t[o]]=!0;return r}n.convertToKeySet=e})(Ge||(Ge={}));var It=new Ge("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]),$e;(function(n){n.keyboardLayout=It})($e||($e={}));var Ze=function(){return Ze=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ze.apply(this,arguments)},Me=function(){function n(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new L(this),this._commandExecuted=new L(this),this._keyBindingChanged=new L(this)}return Object.defineProperty(n.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),n.prototype.listCommands=function(){return Object.keys(this._commands)},n.prototype.hasCommand=function(i){return i in this._commands},n.prototype.addCommand=function(i,e){var t=this;if(i in this._commands)throw new Error("Command '"+i+"' already registered.");return this._commands[i]=de.createCommand(e),this._commandChanged.emit({id:i,type:"added"}),new se(function(){delete t._commands[i],t._commandChanged.emit({id:i,type:"removed"})})},n.prototype.notifyCommandChanged=function(i){if(i!==void 0&&!(i in this._commands))throw new Error("Command '"+i+"' is not registered.");this._commandChanged.emit({id:i,type:i?"changed":"many-changed"})},n.prototype.describedBy=function(i){var e=this._commands[i];return e?e.describedBy||{args:null}:{args:null}},n.prototype.label=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.label.call(void 0,e):""},n.prototype.mnemonic=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.mnemonic.call(void 0,e):-1},n.prototype.icon=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.icon.call(void 0,e):""},n.prototype.iconClass=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.iconClass.call(void 0,e):""},n.prototype.iconLabel=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.iconLabel.call(void 0,e):""},n.prototype.caption=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.caption.call(void 0,e):""},n.prototype.usage=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.usage.call(void 0,e):""},n.prototype.className=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.className.call(void 0,e):""},n.prototype.dataset=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.dataset.call(void 0,e):{}},n.prototype.isEnabled=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.isEnabled.call(void 0,e):!1},n.prototype.isToggled=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.isToggled.call(void 0,e):!1},n.prototype.isToggleable=function(i,e){var t=this._commands[i];return t?t.isToggleable:!1},n.prototype.isVisible=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];return t?t.isVisible.call(void 0,e):!1},n.prototype.execute=function(i,e){e===void 0&&(e=Y.JSONExt.emptyObject);var t=this._commands[i];if(!t)return Promise.reject(new Error("Command '"+i+"' not registered."));var r;try{r=t.execute.call(void 0,e)}catch(a){r=Promise.reject(a)}var o=Promise.resolve(r);return this._commandExecuted.emit({id:i,args:e,result:o}),o},n.prototype.addKeyBinding=function(i){var e=this,t=de.createKeyBinding(i);return this._keyBindings.push(t),this._keyBindingChanged.emit({binding:t,type:"added"}),new se(function(){w.removeFirstOf(e._keyBindings,t),e._keyBindingChanged.emit({binding:t,type:"removed"})})},n.prototype.processKeydownEvent=function(i){if(!(this._replaying||n.isModifierKeyPressed(i))){var e=n.keystrokeForKeydownEvent(i);if(!e){this._replayKeydownEvents(),this._clearPendingState();return}this._keystrokes.push(e);var t=de.matchKeyBinding(this._keyBindings,this._keystrokes,i),r=t.exact,o=t.partial;if(!r&&!o){this._replayKeydownEvents(),this._clearPendingState();return}if(i.preventDefault(),i.stopPropagation(),r&&!o){this._executeKeyBinding(r),this._clearPendingState();return}r&&(this._exactKeyMatch=r),this._keydownEvents.push(i),this._startTimer()}},n.prototype._startTimer=function(){var i=this;this._clearTimer(),this._timerID=window.setTimeout(function(){i._onPendingTimeout()},de.CHORD_TIMEOUT)},n.prototype._clearTimer=function(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)},n.prototype._replayKeydownEvents=function(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(de.replayKeyEvent),this._replaying=!1)},n.prototype._executeKeyBinding=function(i){var e=i.command,t=i.args;if(!this.hasCommand(e)||!this.isEnabled(e,t)){var r=this.hasCommand(e)?"enabled":"registered",o=i.keys.join(", "),a="Cannot execute key binding '"+o+"':",u="command '"+e+"' is not "+r+".";console.warn(a+" "+u);return}this.execute(e,t)},n.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},n.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},n}();(function(n){function i(u){for(var h="",l=!1,p=!1,g=!1,f=!1,d=0,s=u.split(/\s+/);d<s.length;d++){var c=s[d];c==="Accel"?K.IS_MAC?p=!0:g=!0:c==="Alt"?l=!0:c==="Cmd"?p=!0:c==="Ctrl"?g=!0:c==="Shift"?f=!0:c.length>0&&(h=c)}return{cmd:p,ctrl:g,alt:l,shift:f,key:h}}n.parseKeystroke=i;function e(u){var h="",l=i(u);return l.ctrl&&(h+="Ctrl "),l.alt&&(h+="Alt "),l.shift&&(h+="Shift "),l.cmd&&K.IS_MAC&&(h+="Cmd "),h+l.key}n.normalizeKeystroke=e;function t(u){var h;return K.IS_WIN?h=u.winKeys||u.keys:K.IS_MAC?h=u.macKeys||u.keys:h=u.linuxKeys||u.keys,h.map(e)}n.normalizeKeys=t;function r(u){return typeof u=="string"?h(u):u.map(h).join(", ");function h(l){var p=[],g=K.IS_MAC?" ":"+",f=i(l);return f.ctrl&&p.push("Ctrl"),f.alt&&p.push("Alt"),f.shift&&p.push("Shift"),K.IS_MAC&&f.cmd&&p.push("Cmd"),p.push(f.key),p.map(de.formatKey).join(g)}}n.formatKeystroke=r;function o(u){var h=_e(),l=h.keyForKeydownEvent(u);return h.isModifierKey(l)}n.isModifierKeyPressed=o;function a(u){var h=_e(),l=h.keyForKeydownEvent(u);if(!l||h.isModifierKey(l))return"";var p=[];return u.ctrlKey&&p.push("Ctrl"),u.altKey&&p.push("Alt"),u.shiftKey&&p.push("Shift"),u.metaKey&&K.IS_MAC&&p.push("Cmd"),p.push(l),p.join(" ")}n.keystrokeForKeydownEvent=a})(Me||(Me={}));var de;(function(n){n.CHORD_TIMEOUT=1e3;function i(v){var _,M;return!v.icon||typeof v.icon=="string"?(M=s(v.iconClass||v.icon,h),_=M):(M=s(v.iconClass,h),_=s(v.icon,d)),{execute:v.execute,describedBy:Ze({args:null},v.describedBy),label:s(v.label,h),mnemonic:s(v.mnemonic,l),icon:_,iconClass:M,iconLabel:s(v.iconLabel,h),caption:s(v.caption,h),usage:s(v.usage,h),className:s(v.className,h),dataset:s(v.dataset,f),isEnabled:v.isEnabled||p,isToggled:v.isToggled||g,isToggleable:v.isToggleable||!!v.isToggled,isVisible:v.isVisible||p}}n.createCommand=i;function e(v){return{keys:Me.normalizeKeys(v),selector:c(v),command:v.command,args:v.args||Y.JSONExt.emptyObject}}n.createKeyBinding=e;function t(v,_,M){for(var x=null,I=!1,E=1/0,T=0,k=0,B=v.length;k<B;++k){var H=v[k],j=m(H.keys,_);if(j!==0){if(j===2){!I&&y(H.selector,M)!==-1&&(I=!0);continue}var q=y(H.selector,M);if(!(q===-1||q>E)){var ee=ie.calculateSpecificity(H.selector);(!x||q<E||ee>=T)&&(x=H,E=q,T=ee)}}}return{exact:x,partial:I}}n.matchKeyBinding=t;function r(v){v.target.dispatchEvent(b(v))}n.replayKeyEvent=r;function o(v){return K.IS_MAC?a.hasOwnProperty(v)?a[v]:v:u.hasOwnProperty(v)?u[v]:v}n.formatKey=o;var a={Backspace:"\u232B",Tab:"\u21E5",Enter:"\u21A9",Shift:"\u21E7",Ctrl:"\u2303",Alt:"\u2325",Escape:"\u238B",PageUp:"\u21DE",PageDown:"\u21DF",End:"\u2198",Home:"\u2196",ArrowLeft:"\u2190",ArrowUp:"\u2191",ArrowRight:"\u2192",ArrowDown:"\u2193",Delete:"\u2326",Cmd:"\u2318"},u={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},h=function(){return""},l=function(){return-1},p=function(){return!0},g=function(){return!1},f=function(){return{}},d=function(){};function s(v,_){return v===void 0?_:typeof v=="function"?v:function(){return v}}function c(v){if(v.selector.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+v.selector);if(!ie.isValid(v.selector))throw new Error("Invalid selector: "+v.selector);return v.selector}function m(v,_){if(v.length<_.length)return 0;for(var M=0,x=_.length;M<x;++M)if(v[M]!==_[M])return 0;return v.length>_.length?2:1}function y(v,_){for(var M=_.target,x=_.currentTarget,I=0;M!==null;M=M.parentElement,++I){if(M.hasAttribute("data-lm-suppress-shortcuts")||M.hasAttribute("data-p-suppress-shortcuts"))return-1;if(ie.matches(M,v))return I;if(M===x)return-1}return-1}function b(v){var _=document.createEvent("Event"),M=v.bubbles||!0,x=v.cancelable||!0;return _.initEvent(v.type||"keydown",M,x),_.key=v.key||"",_.keyCode=v.keyCode||0,_.which=v.keyCode||0,_.ctrlKey=v.ctrlKey||!1,_.altKey=v.altKey||!1,_.shiftKey=v.shiftKey||!1,_.metaKey=v.metaKey||!1,_.view=v.view||window,_}})(de||(de={}));Ae();var Qe=function(n,i){return Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Qe(n,i)};function Et(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Qe(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var Be=function(){function n(i){this.type="text",this.content=i}return n}(),Oe=function(){function n(i,e,t,r){this.type="element",this.tag=i,this.attrs=e,this.children=t,this.renderer=r}return n}(),ni=function(n){Et(i,n);function i(e,t,r){return n.call(this,e,t,[],r||void 0)||this}return i}(Oe);function D(n){for(var i={},e,t=[],r=1,o=arguments.length;r<o;++r){var a=arguments[r];typeof a=="string"?t.push(new Be(a)):a instanceof Be||a instanceof Oe?t.push(a):a instanceof Array?u(t,a):(r===1||r===2)&&a&&typeof a=="object"&&("render"in a?e=a:i=a)}return new Oe(n,i,t,e);function u(h,l){for(var p=0,g=l;p<g.length;p++){var f=g[p];typeof f=="string"?h.push(new Be(f)):(f instanceof Be||f instanceof Oe)&&h.push(f)}}}(function(n){n.a=n.bind(void 0,"a"),n.abbr=n.bind(void 0,"abbr"),n.address=n.bind(void 0,"address"),n.area=n.bind(void 0,"area"),n.article=n.bind(void 0,"article"),n.aside=n.bind(void 0,"aside"),n.audio=n.bind(void 0,"audio"),n.b=n.bind(void 0,"b"),n.bdi=n.bind(void 0,"bdi"),n.bdo=n.bind(void 0,"bdo"),n.blockquote=n.bind(void 0,"blockquote"),n.br=n.bind(void 0,"br"),n.button=n.bind(void 0,"button"),n.canvas=n.bind(void 0,"canvas"),n.caption=n.bind(void 0,"caption"),n.cite=n.bind(void 0,"cite"),n.code=n.bind(void 0,"code"),n.col=n.bind(void 0,"col"),n.colgroup=n.bind(void 0,"colgroup"),n.data=n.bind(void 0,"data"),n.datalist=n.bind(void 0,"datalist"),n.dd=n.bind(void 0,"dd"),n.del=n.bind(void 0,"del"),n.dfn=n.bind(void 0,"dfn"),n.div=n.bind(void 0,"div"),n.dl=n.bind(void 0,"dl"),n.dt=n.bind(void 0,"dt"),n.em=n.bind(void 0,"em"),n.embed=n.bind(void 0,"embed"),n.fieldset=n.bind(void 0,"fieldset"),n.figcaption=n.bind(void 0,"figcaption"),n.figure=n.bind(void 0,"figure"),n.footer=n.bind(void 0,"footer"),n.form=n.bind(void 0,"form"),n.h1=n.bind(void 0,"h1"),n.h2=n.bind(void 0,"h2"),n.h3=n.bind(void 0,"h3"),n.h4=n.bind(void 0,"h4"),n.h5=n.bind(void 0,"h5"),n.h6=n.bind(void 0,"h6"),n.header=n.bind(void 0,"header"),n.hr=n.bind(void 0,"hr"),n.i=n.bind(void 0,"i"),n.iframe=n.bind(void 0,"iframe"),n.img=n.bind(void 0,"img"),n.input=n.bind(void 0,"input"),n.ins=n.bind(void 0,"ins"),n.kbd=n.bind(void 0,"kbd"),n.label=n.bind(void 0,"label"),n.legend=n.bind(void 0,"legend"),n.li=n.bind(void 0,"li"),n.main=n.bind(void 0,"main"),n.map=n.bind(void 0,"map"),n.mark=n.bind(void 0,"mark"),n.meter=n.bind(void 0,"meter"),n.nav=n.bind(void 0,"nav"),n.noscript=n.bind(void 0,"noscript"),n.object=n.bind(void 0,"object"),n.ol=n.bind(void 0,"ol"),n.optgroup=n.bind(void 0,"optgroup"),n.option=n.bind(void 0,"option"),n.output=n.bind(void 0,"output"),n.p=n.bind(void 0,"p"),n.param=n.bind(void 0,"param"),n.pre=n.bind(void 0,"pre"),n.progress=n.bind(void 0,"progress"),n.q=n.bind(void 0,"q"),n.rp=n.bind(void 0,"rp"),n.rt=n.bind(void 0,"rt"),n.ruby=n.bind(void 0,"ruby"),n.s=n.bind(void 0,"s"),n.samp=n.bind(void 0,"samp"),n.section=n.bind(void 0,"section"),n.select=n.bind(void 0,"select"),n.small=n.bind(void 0,"small"),n.source=n.bind(void 0,"source"),n.span=n.bind(void 0,"span"),n.strong=n.bind(void 0,"strong"),n.sub=n.bind(void 0,"sub"),n.summary=n.bind(void 0,"summary"),n.sup=n.bind(void 0,"sup"),n.table=n.bind(void 0,"table"),n.tbody=n.bind(void 0,"tbody"),n.td=n.bind(void 0,"td"),n.textarea=n.bind(void 0,"textarea"),n.tfoot=n.bind(void 0,"tfoot"),n.th=n.bind(void 0,"th"),n.thead=n.bind(void 0,"thead"),n.time=n.bind(void 0,"time"),n.title=n.bind(void 0,"title"),n.tr=n.bind(void 0,"tr"),n.track=n.bind(void 0,"track"),n.u=n.bind(void 0,"u"),n.ul=n.bind(void 0,"ul"),n.var_=n.bind(void 0,"var"),n.video=n.bind(void 0,"video"),n.wbr=n.bind(void 0,"wbr")})(D||(D={}));var ne;(function(n){function i(t){return fe.createDOMNode(t)}n.realize=i;function e(t,r){var o=fe.hostMap.get(r)||[],a=fe.asContentArray(t);fe.hostMap.set(r,a),fe.updateContent(r,o,a)}n.render=e})(ne||(ne={}));var fe;(function(n){n.hostMap=new WeakMap;function i(d){return d?d instanceof Array?d:[d]:[]}n.asContentArray=i;function e(d){var s=arguments[1]||null,c=arguments[2]||null;if(s)s.insertBefore(e(d),c);else{if(d.type==="text")return document.createTextNode(d.content);if(s=document.createElement(d.tag),a(s,d.attrs),d.renderer)return d.renderer.render(s,{attrs:d.attrs,children:d.children}),s;for(var m=0,y=d.children.length;m<y;++m)e(d.children[m],s)}return s}n.createDOMNode=e;function t(d,s,c){if(s!==c){for(var m=f(d,s),y=s.slice(),b=d.firstChild,v=c.length,_=0;_<v;++_){if(_>=y.length){e(c[_],d);continue}var M=y[_],x=c[_];if(M===x){b=b.nextSibling;continue}if(M.type==="text"&&x.type==="text"){b.textContent!==x.content&&(b.textContent=x.content),b=b.nextSibling;continue}if(M.type==="text"||x.type==="text"){w.insert(y,_,x),e(x,d,b);continue}if(!M.renderer!=!x.renderer){w.insert(y,_,x),e(x,d,b);continue}var I=x.attrs.key;if(I&&I in m){var E=m[I];E.vNode!==M&&(w.move(y,y.indexOf(E.vNode,_+1),_),d.insertBefore(E.element,b),M=E.vNode,b=E.element)}if(M===x){b=b.nextSibling;continue}var T=M.attrs.key;if(T&&T!==I){w.insert(y,_,x),e(x,d,b);continue}if(M.tag!==x.tag){w.insert(y,_,x),e(x,d,b);continue}u(b,M.attrs,x.attrs),x.renderer?x.renderer.render(b,{attrs:x.attrs,children:x.children}):t(b,M.children,x.children),b=b.nextSibling}r(d,y,v,!0)}}n.updateContent=t;function r(d,s,c,m){for(var y=s.length-1;y>=c;--y){var b=s[y],v=m?d.lastChild:d.childNodes[y];b.type==="text"||(b.renderer&&b.renderer.unrender?b.renderer.unrender(v,{attrs:b.attrs,children:b.children}):r(v,b.children,0,!1)),m&&d.removeChild(v)}}var o={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function a(d,s){for(var c in s)c in o||(c.substr(0,2)==="on"?d[c]=s[c]:d.setAttribute(c,s[c]));s.className!==void 0&&d.setAttribute("class",s.className),s.htmlFor!==void 0&&d.setAttribute("for",s.htmlFor),s.dataset&&h(d,s.dataset),s.style&&p(d,s.style)}function u(d,s,c){if(s!==c){var m;for(m in s)m in o||m in c||(m.substr(0,2)==="on"?d[m]=null:d.removeAttribute(m));for(m in c)m in o||s[m]===c[m]||(m.substr(0,2)==="on"?d[m]=c[m]:d.setAttribute(m,c[m]));s.className!==c.className&&(c.className!==void 0?d.setAttribute("class",c.className):d.removeAttribute("class")),s.htmlFor!==c.htmlFor&&(c.htmlFor!==void 0?d.setAttribute("for",c.htmlFor):d.removeAttribute("for")),s.dataset!==c.dataset&&l(d,s.dataset||{},c.dataset||{}),s.style!==c.style&&g(d,s.style||{},c.style||{})}}function h(d,s){for(var c in s)d.setAttribute("data-"+c,s[c])}function l(d,s,c){for(var m in s)m in c||d.removeAttribute("data-"+m);for(var y in c)s[y]!==c[y]&&d.setAttribute("data-"+y,c[y])}function p(d,s){var c=d.style,m;for(m in s)c[m]=s[m]}function g(d,s,c){var m=d.style,y;for(y in s)y in c||(m[y]="");for(y in c)s[y]!==c[y]&&(m[y]=c[y])}function f(d,s){for(var c=d.firstChild,m=Object.create(null),y=0,b=s;y<b.length;y++){var v=b[y];v.type==="element"&&v.attrs.key&&(m[v.attrs.key]={vNode:v,element:c}),c=c.nextSibling}return m}})(fe||(fe={}));var Je=function(n,i){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Je(n,i)};function P(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Je(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var F=function(){return F=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},F.apply(this,arguments)};function At(n,i){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)i.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(e[t[r]]=n[t[r]]);return e}function Lt(){for(var n=0,i=0,e=arguments.length;i<e;i++)n+=arguments[i].length;for(var t=Array(n),r=0,i=0;i<e;i++)for(var o=arguments[i],a=0,u=o.length;a<u;a++,r++)t[r]=o[a];return t}var ce=function(){function n(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return n}(),$;(function(n){function i(o,a){var u=o.length;if(u===0)return a;for(var h=0,l=0,p=0,g=0,f=0,d=0;d<u;++d){var s=o[d],c=s.minSize,m=s.maxSize,y=s.sizeHint;s.done=!1,s.size=Math.max(c,Math.min(y,m)),p+=s.size,h+=c,l+=m,s.stretch>0&&(g+=s.stretch,f++)}if(a===p)return 0;if(a<=h){for(var d=0;d<u;++d){var s=o[d];s.size=s.minSize}return a-h}if(a>=l){for(var d=0;d<u;++d){var s=o[d];s.size=s.maxSize}return a-l}var b=.01,v=u;if(a<p){for(var _=p-a;f>0&&_>b;)for(var M=_,x=g,d=0;d<u;++d){var s=o[d];if(!(s.done||s.stretch===0)){var I=s.stretch*M/x;s.size-I<=s.minSize?(_-=s.size-s.minSize,g-=s.stretch,s.size=s.minSize,s.done=!0,v--,f--):(_-=I,s.size-=I)}}for(;v>0&&_>b;)for(var I=_/v,d=0;d<u;++d){var s=o[d];s.done||(s.size-I<=s.minSize?(_-=s.size-s.minSize,s.size=s.minSize,s.done=!0,v--):(_-=I,s.size-=I))}}else{for(var _=a-p;f>0&&_>b;)for(var M=_,x=g,d=0;d<u;++d){var s=o[d];if(!(s.done||s.stretch===0)){var I=s.stretch*M/x;s.size+I>=s.maxSize?(_-=s.maxSize-s.size,g-=s.stretch,s.size=s.maxSize,s.done=!0,v--,f--):(_-=I,s.size+=I)}}for(;v>0&&_>b;)for(var I=_/v,d=0;d<u;++d){var s=o[d];s.done||(s.size+I>=s.maxSize?(_-=s.maxSize-s.size,s.size=s.maxSize,s.done=!0,v--):(_-=I,s.size+=I))}}return 0}n.calc=i;function e(o,a,u){o.length===0||u===0||(u>0?t(o,a,u):r(o,a,-u))}n.adjust=e;function t(o,a,u){for(var h=0,l=0;l<=a;++l){var p=o[l];h+=p.maxSize-p.size}for(var g=0,l=a+1,f=o.length;l<f;++l){var p=o[l];g+=p.size-p.minSize}u=Math.min(u,h,g);for(var d=u,l=a;l>=0&&d>0;--l){var p=o[l],s=p.maxSize-p.size;s>=d?(p.sizeHint=p.size+d,d=0):(p.sizeHint=p.size+s,d-=s)}for(var c=u,l=a+1,f=o.length;l<f&&c>0;++l){var p=o[l],s=p.size-p.minSize;s>=c?(p.sizeHint=p.size-c,c=0):(p.sizeHint=p.size-s,c-=s)}}function r(o,a,u){for(var h=0,l=a+1,p=o.length;l<p;++l){var g=o[l];h+=g.maxSize-g.size}for(var f=0,l=0;l<=a;++l){var g=o[l];f+=g.size-g.minSize}u=Math.min(u,h,f);for(var d=u,l=a+1,p=o.length;l<p&&d>0;++l){var g=o[l],s=g.maxSize-g.size;s>=d?(g.sizeHint=g.size+d,d=0):(g.sizeHint=g.size+s,d-=s)}for(var c=u,l=a;l>=0&&c>0;--l){var g=o[l],s=g.size-g.minSize;s>=c?(g.sizeHint=g.size-c,c=0):(g.sizeHint=g.size-s,c-=s)}}})($||($={}));var et=function(){function n(i){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new L(this),this._isDisposed=!1,this.owner=i.owner,i.label!==void 0&&(this._label=i.label),i.mnemonic!==void 0&&(this._mnemonic=i.mnemonic),i.icon!==void 0?typeof i.icon=="string"?(this._icon=null,this._iconClass=i.icon):this._icon=i.icon:this._icon=null,i.iconClass!==void 0&&(this._iconClass=i.iconClass),i.iconLabel!==void 0&&(this._iconLabel=i.iconLabel),i.iconRenderer!==void 0&&(this._icon=i.iconRenderer),i.caption!==void 0&&(this._caption=i.caption),i.className!==void 0&&(this._className=i.className),i.closable!==void 0&&(this._closable=i.closable),this._dataset=i.dataset||{}}return Object.defineProperty(n.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this._label},set:function(i){this._label!==i&&(this._label=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(i){this._mnemonic!==i&&(this._mnemonic=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){return this._icon===null?this.iconClass:this._icon},set:function(i){if(typeof i=="string")this._icon=null,this.iconClass=i;else{if(this._icon===i)return;this._icon=i,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iconClass",{get:function(){return this._iconClass},set:function(i){this._iconClass!==i&&(this._iconClass=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(i){this._iconLabel!==i&&(this._iconLabel=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(i){this.icon=i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caption",{get:function(){return this._caption},set:function(i){this._caption!==i&&(this._caption=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this._className},set:function(i){this._className!==i&&(this._className=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"closable",{get:function(){return this._closable},set:function(i){this._closable!==i&&(this._closable=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataset",{get:function(){return this._dataset},set:function(i){this._dataset!==i&&(this._dataset=i,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,L.clearData(this))},n}(),S=function(){function n(i){i===void 0&&(i={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new L(this),this._hiddenMode=n.HiddenMode.Display,this.node=Re.createNode(i),this.addClass("lm-Widget"),this.addClass("p-Widget")}return n.prototype.dispose=function(){this.isDisposed||(this.setFlag(n.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&n.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),L.clearData(this),C.clearData(this),V.clearData(this))},Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this.testFlag(n.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAttached",{get:function(){return this.testFlag(n.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.testFlag(n.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.testFlag(n.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return Re.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this.node.id},set:function(i){this.node.id=i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(i){this._hiddenMode!==i&&(this.isHidden&&this._toggleHidden(!1),i==n.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=i,this.isHidden&&this._toggleHidden(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},set:function(i){if(this._parent!==i){if(i&&this.contains(i))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var e=new n.ChildMessage("child-removed",this);C.sendMessage(this._parent,e)}if(this._parent=i,this._parent&&!this._parent.isDisposed){var e=new n.ChildMessage("child-added",this);C.sendMessage(this._parent,e)}this.isDisposed||C.sendMessage(this,n.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layout",{get:function(){return this._layout},set:function(i){if(this._layout!==i){if(this.testFlag(n.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(i.parent)throw new Error("Cannot change layout parent.");this._layout=i,i.parent=this}},enumerable:!0,configurable:!0}),n.prototype.children=function(){return this._layout?this._layout.iter():te()},n.prototype.contains=function(i){for(var e=i;e;e=e._parent)if(e===this)return!0;return!1},n.prototype.hasClass=function(i){return this.node.classList.contains(i)},n.prototype.addClass=function(i){this.node.classList.add(i)},n.prototype.removeClass=function(i){this.node.classList.remove(i)},n.prototype.toggleClass=function(i,e){return e===!0?(this.node.classList.add(i),!0):e===!1?(this.node.classList.remove(i),!1):this.node.classList.toggle(i)},n.prototype.update=function(){C.postMessage(this,n.Msg.UpdateRequest)},n.prototype.fit=function(){C.postMessage(this,n.Msg.FitRequest)},n.prototype.activate=function(){C.postMessage(this,n.Msg.ActivateRequest)},n.prototype.close=function(){C.sendMessage(this,n.Msg.CloseRequest)},n.prototype.show=function(){if(this.testFlag(n.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&C.sendMessage(this,n.Msg.BeforeShow),this.clearFlag(n.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&C.sendMessage(this,n.Msg.AfterShow),this.parent)){var i=new n.ChildMessage("child-shown",this);C.sendMessage(this.parent,i)}},n.prototype.hide=function(){if(!this.testFlag(n.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&C.sendMessage(this,n.Msg.BeforeHide),this.setFlag(n.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&C.sendMessage(this,n.Msg.AfterHide),this.parent)){var i=new n.ChildMessage("child-hidden",this);C.sendMessage(this.parent,i)}},n.prototype.setHidden=function(i){i?this.hide():this.show()},n.prototype.testFlag=function(i){return(this._flags&i)!==0},n.prototype.setFlag=function(i){this._flags|=i},n.prototype.clearFlag=function(i){this._flags&=~i},n.prototype.processMessage=function(i){switch(i.type){case"resize":this.notifyLayout(i),this.onResize(i);break;case"update-request":this.notifyLayout(i),this.onUpdateRequest(i);break;case"fit-request":this.notifyLayout(i),this.onFitRequest(i);break;case"before-show":this.notifyLayout(i),this.onBeforeShow(i);break;case"after-show":this.setFlag(n.Flag.IsVisible),this.notifyLayout(i),this.onAfterShow(i);break;case"before-hide":this.notifyLayout(i),this.onBeforeHide(i);break;case"after-hide":this.clearFlag(n.Flag.IsVisible),this.notifyLayout(i),this.onAfterHide(i);break;case"before-attach":this.notifyLayout(i),this.onBeforeAttach(i);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(n.Flag.IsVisible),this.setFlag(n.Flag.IsAttached),this.notifyLayout(i),this.onAfterAttach(i);break;case"before-detach":this.notifyLayout(i),this.onBeforeDetach(i);break;case"after-detach":this.clearFlag(n.Flag.IsVisible),this.clearFlag(n.Flag.IsAttached),this.notifyLayout(i),this.onAfterDetach(i);break;case"activate-request":this.notifyLayout(i),this.onActivateRequest(i);break;case"close-request":this.notifyLayout(i),this.onCloseRequest(i);break;case"child-added":this.notifyLayout(i),this.onChildAdded(i);break;case"child-removed":this.notifyLayout(i),this.onChildRemoved(i);break;default:this.notifyLayout(i);break}},n.prototype.notifyLayout=function(i){this._layout&&this._layout.processParentMessage(i)},n.prototype.onCloseRequest=function(i){this.parent?this.parent=null:this.isAttached&&n.detach(this)},n.prototype.onResize=function(i){},n.prototype.onUpdateRequest=function(i){},n.prototype.onFitRequest=function(i){},n.prototype.onActivateRequest=function(i){},n.prototype.onBeforeShow=function(i){},n.prototype.onAfterShow=function(i){},n.prototype.onBeforeHide=function(i){},n.prototype.onAfterHide=function(i){},n.prototype.onBeforeAttach=function(i){},n.prototype.onAfterAttach=function(i){},n.prototype.onBeforeDetach=function(i){},n.prototype.onAfterDetach=function(i){},n.prototype.onChildAdded=function(i){},n.prototype.onChildRemoved=function(i){},n.prototype._toggleHidden=function(i){if(i)switch(this._hiddenMode){case n.HiddenMode.Display:this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden");break;case n.HiddenMode.Scale:this.node.style.transform="scale(0)";break;case n.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case n.HiddenMode.Display:this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden");break;case n.HiddenMode.Scale:this.node.style.transform="";break;case n.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}},n}();(function(n){(function(o){o[o.Display=0]="Display",o[o.Scale=1]="Scale",o[o.ContentVisibility=2]="ContentVisibility"})(n.HiddenMode||(n.HiddenMode={})),function(o){o[o.IsDisposed=1]="IsDisposed",o[o.IsAttached=2]="IsAttached",o[o.IsHidden=4]="IsHidden",o[o.IsVisible=8]="IsVisible",o[o.DisallowLayout=16]="DisallowLayout"}(n.Flag||(n.Flag={})),function(o){o.BeforeShow=new Z("before-show"),o.AfterShow=new Z("after-show"),o.BeforeHide=new Z("before-hide"),o.AfterHide=new Z("after-hide"),o.BeforeAttach=new Z("before-attach"),o.AfterAttach=new Z("after-attach"),o.BeforeDetach=new Z("before-detach"),o.AfterDetach=new Z("after-detach"),o.ParentChanged=new Z("parent-changed"),o.UpdateRequest=new be("update-request"),o.FitRequest=new be("fit-request"),o.ActivateRequest=new be("activate-request"),o.CloseRequest=new be("close-request")}(n.Msg||(n.Msg={}));var i=function(o){P(a,o);function a(u,h){var l=o.call(this,u)||this;return l.child=h,l}return a}(Z);n.ChildMessage=i;var e=function(o){P(a,o);function a(u,h){var l=o.call(this,"resize")||this;return l.width=u,l.height=h,l}return a}(Z);n.ResizeMessage=e,function(o){o.UnknownSize=new o(-1,-1)}(e=n.ResizeMessage||(n.ResizeMessage={}));function t(o,a,u){if(u===void 0&&(u=null),o.parent)throw new Error("Cannot attach a child widget.");if(o.isAttached||o.node.isConnected)throw new Error("Widget is already attached.");if(!a.isConnected)throw new Error("Host is not attached.");C.sendMessage(o,n.Msg.BeforeAttach),a.insertBefore(o.node,u),C.sendMessage(o,n.Msg.AfterAttach)}n.attach=t;function r(o){if(o.parent)throw new Error("Cannot detach a child widget.");if(!o.isAttached||!o.node.isConnected)throw new Error("Widget is not attached.");C.sendMessage(o,n.Msg.BeforeDetach),o.node.parentNode.removeChild(o.node),C.sendMessage(o,n.Msg.AfterDetach)}n.detach=r})(S||(S={}));var Re;(function(n){n.titleProperty=new V({name:"title",create:function(e){return new et({owner:e})}});function i(e){return e.node||document.createElement(e.tag||"div")}n.createNode=i})(Re||(Re={}));var le=function(){function n(i){i===void 0&&(i={}),this._disposed=!1,this._parent=null,this._fitPolicy=i.fitPolicy||"set-min-size"}return n.prototype.dispose=function(){this._parent=null,this._disposed=!0,L.clearData(this),V.clearData(this)},Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},set:function(i){if(this._parent!==i){if(this._parent)throw new Error("Cannot change parent widget.");if(i.layout!==this)throw new Error("Invalid parent widget.");this._parent=i,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(i){if(this._fitPolicy!==i&&(this._fitPolicy=i,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),n.prototype.processParentMessage=function(i){switch(i.type){case"resize":this.onResize(i);break;case"update-request":this.onUpdateRequest(i);break;case"fit-request":this.onFitRequest(i);break;case"before-show":this.onBeforeShow(i);break;case"after-show":this.onAfterShow(i);break;case"before-hide":this.onBeforeHide(i);break;case"after-hide":this.onAfterHide(i);break;case"before-attach":this.onBeforeAttach(i);break;case"after-attach":this.onAfterAttach(i);break;case"before-detach":this.onBeforeDetach(i);break;case"after-detach":this.onAfterDetach(i);break;case"child-removed":this.onChildRemoved(i);break;case"child-shown":this.onChildShown(i);break;case"child-hidden":this.onChildHidden(i);break}},n.prototype.init=function(){var i=this;A(this,function(e){e.parent=i.parent})},n.prototype.onResize=function(i){A(this,function(e){C.sendMessage(e,S.ResizeMessage.UnknownSize)})},n.prototype.onUpdateRequest=function(i){A(this,function(e){C.sendMessage(e,S.ResizeMessage.UnknownSize)})},n.prototype.onBeforeAttach=function(i){A(this,function(e){C.sendMessage(e,i)})},n.prototype.onAfterAttach=function(i){A(this,function(e){C.sendMessage(e,i)})},n.prototype.onBeforeDetach=function(i){A(this,function(e){C.sendMessage(e,i)})},n.prototype.onAfterDetach=function(i){A(this,function(e){C.sendMessage(e,i)})},n.prototype.onBeforeShow=function(i){A(this,function(e){e.isHidden||C.sendMessage(e,i)})},n.prototype.onAfterShow=function(i){A(this,function(e){e.isHidden||C.sendMessage(e,i)})},n.prototype.onBeforeHide=function(i){A(this,function(e){e.isHidden||C.sendMessage(e,i)})},n.prototype.onAfterHide=function(i){A(this,function(e){e.isHidden||C.sendMessage(e,i)})},n.prototype.onChildRemoved=function(i){this.removeWidget(i.child)},n.prototype.onFitRequest=function(i){},n.prototype.onChildShown=function(i){},n.prototype.onChildHidden=function(i){},n}();(function(n){function i(o){return xe.horizontalAlignmentProperty.get(o)}n.getHorizontalAlignment=i;function e(o,a){xe.horizontalAlignmentProperty.set(o,a)}n.setHorizontalAlignment=e;function t(o){return xe.verticalAlignmentProperty.get(o)}n.getVerticalAlignment=t;function r(o,a){xe.verticalAlignmentProperty.set(o,a)}n.setVerticalAlignment=r})(le||(le={}));var Te=function(){function n(i){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=i,this.widget.node.style.position="absolute"}return n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var i=this.widget.node.style;i.position="",i.top="",i.left="",i.width="",i.height=""}},Object.defineProperty(n.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),n.prototype.fit=function(){var i=z.sizeLimits(this.widget.node);this._minWidth=i.minWidth,this._minHeight=i.minHeight,this._maxWidth=i.maxWidth,this._maxHeight=i.maxHeight},n.prototype.update=function(i,e,t,r){var o=Math.max(this._minWidth,Math.min(t,this._maxWidth)),a=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(o<t)switch(le.getHorizontalAlignment(this.widget)){case"left":break;case"center":i+=(t-o)/2;break;case"right":i+=t-o;break;default:throw"unreachable"}if(a<r)switch(le.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(r-a)/2;break;case"bottom":e+=r-a;break;default:throw"unreachable"}var u=!1,h=this.widget.node.style;if(this._top!==e&&(this._top=e,h.top=e+"px"),this._left!==i&&(this._left=i,h.left=i+"px"),this._width!==o&&(u=!0,this._width=o,h.width=o+"px"),this._height!==a&&(u=!0,this._height=a,h.height=a+"px"),u){var l=new S.ResizeMessage(o,a);C.sendMessage(this.widget,l)}},n}(),xe;(function(n){n.horizontalAlignmentProperty=new V({name:"horizontalAlignment",create:function(){return"center"},changed:i}),n.verticalAlignmentProperty=new V({name:"verticalAlignment",create:function(){return"top"},changed:i});function i(e){e.parent&&e.parent.layout&&e.parent.update()}})(xe||(xe={}));var Fe=function(n){P(i,n);function i(){var e=n!==null&&n.apply(this,arguments)||this;return e._widgets=[],e}return i.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),i.prototype.iter=function(){return ct(this._widgets)},i.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},i.prototype.insertWidget=function(e,t){t.parent=this.parent;var r=this._widgets.indexOf(t),o=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){w.insert(this._widgets,o,t),this.parent&&this.attachWidget(o,t);return}o===this._widgets.length&&o--,r!==o&&(w.move(this._widgets,r,o),this.parent&&this.moveWidget(r,o,t))},i.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},i.prototype.removeWidgetAt=function(e){var t=w.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},i.prototype.init=function(){var e=this;n.prototype.init.call(this),A(this,function(t,r){e.attachWidget(r,t)})},i.prototype.attachWidget=function(e,t){var r=this.parent.node.children[e];this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterAttach)},i.prototype.moveWidget=function(e,t,r){this.parent.isAttached&&C.sendMessage(r,S.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&C.sendMessage(r,S.Msg.AfterDetach);var o=this.parent.node.children[t];this.parent.isAttached&&C.sendMessage(r,S.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,o),this.parent.isAttached&&C.sendMessage(r,S.Msg.AfterAttach)},i.prototype.detachWidget=function(e,t){this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterDetach)},i}(le),Le;(function(n){function i(e){return Math.max(0,Math.floor(e))}n.clampDimension=i})(Le||(Le={}));var De=Le,ge=function(n){P(i,n);function i(e){var t=n.call(this)||this;return t.widgetOffset=0,t._fixed=0,t._spacing=4,t._dirty=!1,t._hasNormedSizes=!1,t._sizers=[],t._items=[],t._handles=[],t._box=null,t._alignment="start",t._orientation="horizontal",t.renderer=e.renderer,e.orientation!==void 0&&(t._orientation=e.orientation),e.alignment!==void 0&&(t._alignment=e.alignment),e.spacing!==void 0&&(t._spacing=Le.clampDimension(e.spacing)),t}return i.prototype.dispose=function(){A(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Le.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),i.prototype.absoluteSizes=function(){return this._sizers.map(function(e){return e.size})},i.prototype.relativeSizes=function(){return oe.normalize(this._sizers.map(function(e){return e.size}))},i.prototype.setRelativeSizes=function(e,t){t===void 0&&(t=!0);for(var r=this._sizers.length,o=e.slice(0,r);o.length<r;)o.push(0);for(var a=oe.normalize(o),u=0;u<r;++u){var h=this._sizers[u];h.sizeHint=a[u],h.size=a[u]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()},i.prototype.moveHandle=function(e,t){var r=this._handles[e];if(!(!r||r.classList.contains("lm-mod-hidden"))){var o;if(this._orientation==="horizontal"?o=t-r.offsetLeft:o=t-r.offsetTop,o!==0){for(var a=0,u=this._sizers;a<u.length;a++){var h=u[a];h.size>0&&(h.sizeHint=h.size)}$.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}},i.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,n.prototype.init.call(this)},i.prototype.attachWidget=function(e,t){var r=new Te(t),o=oe.createHandle(this.renderer),a=oe.averageSize(this._sizers),u=oe.createSizer(a);w.insert(this._items,e,r),w.insert(this._sizers,e,u),w.insert(this._handles,e,o),this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(o),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterAttach),this.parent.fit()},i.prototype.moveWidget=function(e,t,r){w.move(this._items,e,t),w.move(this._sizers,e,t),w.move(this._handles,e,t),this.parent.fit()},i.prototype.detachWidget=function(e,t){var r=w.removeAt(this._items,e),o=w.removeAt(this._handles,e);w.removeAt(this._sizers,e),this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(o),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterDetach),r.dispose(),this.parent.fit()},i.prototype.onBeforeShow=function(e){n.prototype.onBeforeShow.call(this,e),this.parent.update()},i.prototype.onBeforeAttach=function(e){n.prototype.onBeforeAttach.call(this,e),this.parent.fit()},i.prototype.onChildShown=function(e){this.parent.fit()},i.prototype.onChildHidden=function(e){this.parent.fit()},i.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},i.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},i.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},i.prototype.updateItemPosition=function(e,t,r,o,a,u,h){var l=this._items[e];if(!l.isHidden){var p=this._handles[e].style;t?(r+=this.widgetOffset,l.update(r,o,h,a),r+=h,p.top=o+"px",p.left=r+"px",p.width=this._spacing+"px",p.height=a+"px"):(o+=this.widgetOffset,l.update(r,o,u,h),o+=h,p.top=o+"px",p.left=r+"px",p.width=u+"px",p.height=this._spacing+"px")}},i.prototype._fit=function(){for(var e=0,t=-1,r=0,o=this._items.length;r<o;++r)this._items[r].isHidden?(this._handles[r].classList.add("lm-mod-hidden"),this._handles[r].classList.add("p-mod-hidden")):(this._handles[r].classList.remove("lm-mod-hidden"),this._handles[r].classList.remove("p-mod-hidden"),t=r,e++);t!==-1&&(this._handles[t].classList.add("lm-mod-hidden"),this._handles[t].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;for(var a=this._orientation==="horizontal",u=a?this._fixed:0,h=a?0:this._fixed,r=0,o=this._items.length;r<o;++r){var l=this._items[r],p=this._sizers[r];if(p.size>0&&(p.sizeHint=p.size),l.isHidden){p.minSize=0,p.maxSize=0;continue}l.fit(),p.stretch=i.getStretch(l.widget),a?(p.minSize=l.minWidth,p.maxSize=l.maxWidth,u+=l.minWidth,h=Math.max(h,l.minHeight)):(p.minSize=l.minHeight,p.maxSize=l.maxHeight,h+=l.minHeight,u=Math.max(u,l.minWidth))}var g=this._box=z.boxSizing(this.parent.node);u+=g.horizontalSum,h+=g.verticalSum;var f=this.parent.node.style;f.minWidth=u+"px",f.minHeight=h+"px",this._dirty=!0,this.parent.parent&&C.sendMessage(this.parent.parent,S.Msg.FitRequest),this._dirty&&C.sendMessage(this.parent,S.Msg.UpdateRequest)},i.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(!(r===0&&this.widgetOffset===0)){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=z.boxSizing(this.parent.node));var u=this._box.paddingTop,h=this._box.paddingLeft,l=e-this._box.horizontalSum,p=t-this._box.verticalSum,g=0,f=0,d=this._orientation==="horizontal";if(r>0){var s=void 0;if(d?s=Math.max(0,l-this._fixed):s=Math.max(0,p-this._fixed),this._hasNormedSizes){for(var c=0,m=this._sizers;c<m.length;c++){var y=m[c];y.sizeHint*=s}this._hasNormedSizes=!1}var b=$.calc(this._sizers,s);if(b>0)switch(this._alignment){case"start":break;case"center":g=0,f=b/2;break;case"end":g=0,f=b;break;case"justify":g=b/r,f=0;break;default:throw"unreachable"}}for(var o=0,a=this._items.length;o<a;++o){var v=this._items[o],_=v.isHidden?0:this._sizers[o].size+g;this.updateItemPosition(o,d,d?h+f:h,d?u:u+f,p,l,_);var M=this.widgetOffset+(this._handles[o].classList.contains("lm-mod-hidden")?0:this._spacing);d?h+=_+M:u+=_+M}}},i}(Fe);(function(n){function i(t){return oe.stretchProperty.get(t)}n.getStretch=i;function e(t,r){oe.stretchProperty.set(t,r)}n.setStretch=e})(ge||(ge={}));var oe;(function(n){n.stretchProperty=new V({name:"stretch",create:function(){return 0},coerce:function(a,u){return Math.max(0,Math.floor(u))},changed:o});function i(a){var u=new ce;return u.sizeHint=Math.floor(a),u}n.createSizer=i;function e(a){var u=a.createHandle();return u.style.position="absolute",u}n.createHandle=e;function t(a){return a.reduce(function(u,h){return u+h.size},0)/a.length||0}n.averageSize=t;function r(a){var u=a.length;if(u===0)return[];var h=a.reduce(function(l,p){return l+Math.abs(p)},0);return h===0?a.map(function(l){return 1/u}):a.map(function(l){return l/h})}n.normalize=r;function o(a){a.parent&&a.parent.layout instanceof ge&&a.parent.fit()}})(oe||(oe={}));var Dt=function(n){P(i,n);function i(e){var t=n.call(this,F(F({},e),{orientation:e.orientation||"vertical"}))||this;return t._titles=[],t.titleSpace=e.titleSpace||22,t}return Object.defineProperty(i.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(e){e=De.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,n.prototype.dispose.call(this))},i.prototype.updateTitle=function(e,t){var r=this._titles[e],o=r.classList.contains("lm-mod-expanded"),a=He.createTitle(this.renderer,t.title,o);this._titles[e]=a,this.parent.node.replaceChild(a,r)},i.prototype.attachWidget=function(e,t){var r=He.createTitle(this.renderer,t.title);w.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),n.prototype.attachWidget.call(this,e,t)},i.prototype.moveWidget=function(e,t,r){w.move(this._titles,e,t),n.prototype.moveWidget.call(this,e,t,r)},i.prototype.detachWidget=function(e,t){var r=w.removeAt(this._titles,e);this.parent.node.removeChild(r),n.prototype.detachWidget.call(this,e,t)},i.prototype.updateItemPosition=function(e,t,r,o,a,u,h){var l=this._titles[e].style;l.top=o+"px",l.left=r+"px",l.height=this.widgetOffset+"px",t?l.width=a+"px":l.width=u+"px",n.prototype.updateItemPosition.call(this,e,t,r,o,a,u,h)},i}(ge),He;(function(n){function i(e,t,r){r===void 0&&(r=!0);var o=e.createSectionTitle(t);return o.style.position="absolute",o.setAttribute("aria-label",t.label+" Section"),o.setAttribute("aria-expanded",r?"true":"false"),o.setAttribute("aria-controls",t.owner.id),r&&o.classList.add("lm-mod-expanded"),o}n.createTitle=i})(He||(He={}));var ut=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this)||this;return t.addClass("lm-Panel"),t.addClass("p-Panel"),t.layout=tt.createLayout(e),t}return Object.defineProperty(i.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),i.prototype.addWidget=function(e){this.layout.addWidget(e)},i.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},i}(S),tt;(function(n){function i(e){return e.layout||new Fe}n.createLayout=i})(tt||(tt={}));var ke=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{layout:it.createLayout(e)})||this;return t._handleMoved=new L(t),t._pressData=null,t.addClass("lm-SplitPanel"),t.addClass("p-SplitPanel"),t}return i.prototype.dispose=function(){this._releaseMouse(),n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),i.prototype.relativeSizes=function(){return this.layout.relativeSizes()},i.prototype.setRelativeSizes=function(e,t){t===void 0&&(t=!0),this.layout.setRelativeSizes(e,t)},i.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},i.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child"),e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},i.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child"),e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},i.prototype._evtKeyDown=function(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()},i.prototype._evtMouseDown=function(e){if(e.button===0){var t=this.layout,r=w.findFirstIndex(t.handles,function(p){return p.contains(e.target)});if(r!==-1){e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var o,a=t.handles[r],u=a.getBoundingClientRect();t.orientation==="horizontal"?o=e.clientX-u.left:o=e.clientY-u.top;var h=window.getComputedStyle(a),l=ue.overrideCursor(h.cursor);this._pressData={index:r,delta:o,override:l}}}},i.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t,r=this.layout,o=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-o.left-this._pressData.delta:t=e.clientY-o.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)},i.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},i.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},i}(ut);(function(n){var i=function(){function r(){}return r.prototype.createHandle=function(){var o=document.createElement("div");return o.className="lm-SplitPanel-handle",o.classList.add("p-SplitPanel-handle"),o},r}();n.Renderer=i,n.defaultRenderer=new i;function e(r){return ge.getStretch(r)}n.getStretch=e;function t(r,o){ge.setStretch(r,o)}n.setStretch=t})(ke||(ke={}));var it;(function(n){function i(e){return e.layout||new ge({renderer:e.renderer||ke.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}n.createLayout=i})(it||(it={}));var nt=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,F(F({},e),{layout:rt.createLayout(e)}))||this;return t._widgetSizesCache=new WeakMap,t.addClass("lm-AccordionPanel"),t}return Object.defineProperty(i.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(e){this.layout.titleSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),i.prototype.addWidget=function(e){n.prototype.addWidget.call(this,e),e.title.changed.connect(this._onTitleChanged,this)},i.prototype.collapse=function(e){var t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)},i.prototype.expand=function(e){var t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)},i.prototype.insertWidget=function(e,t){n.prototype.insertWidget.call(this,e,t),t.title.changed.connect(this._onTitleChanged,this)},i.prototype.handleEvent=function(e){switch(n.prototype.handleEvent.call(this,e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),n.prototype.onBeforeAttach.call(this,e)},i.prototype.onAfterDetach=function(e){n.prototype.onAfterDetach.call(this,e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},i.prototype._onTitleChanged=function(e){var t=w.findFirstIndex(this.widgets,function(r){return r.contains(e.owner)});t>=0&&(this.layout.updateTitle(t,e.owner),this.update())},i.prototype._computeWidgetSize=function(e){var t=this.layout,r=t.widgets[e];if(r){var o=r.isHidden,a=t.absoluteSizes(),u=(o?-1:1)*this.spacing,h=a.reduce(function(d,s){return d+s}),l=Lt(a);if(o){var f=this._widgetSizesCache.get(r);if(!f)return;l[e]+=f;var g=l.map(function(s){return s-f>0}).lastIndexOf(!0);g===-1?l.forEach(function(s,c){c!==e&&(l[c]-=a[c]/h*(f-u))}):l[g]-=f-u}else{var p=a[e];this._widgetSizesCache.set(r,p),l[e]=0;var g=l.map(function(d){return d>0}).lastIndexOf(!0);if(g===-1)return;l[g]=a[g]+p+u}return l.map(function(d){return d/(h+u)})}},i.prototype._evtClick=function(e){var t=e.target;if(t){var r=w.findFirstIndex(this.titles,function(o){return o.contains(t)});r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}},i.prototype._eventKeyDown=function(e){if(!e.defaultPrevented){var t=e.target,r=!1;if(t){var o=w.findFirstIndex(this.titles,function(p){return p.contains(t)});if(o>=0){var a=e.keyCode.toString();if(e.key.match(/Space|Enter/)||a.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||a.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||a.match(/38|40/)){var u=e.key.match(/ArrowLeft|ArrowUp/)||a.match(/37|38/)?-1:1,h=this.titles.length,l=(o+h+u)%h;this.titles[l].focus(),r=!0}else e.key==="End"||a==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||a==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}},i.prototype._toggleExpansion=function(e){var t=this.titles[e],r=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide())},i}(ke);(function(n){var i=function(e){P(t,e);function t(){var r=e.call(this)||this;return r.titleClassName="lm-AccordionPanel-title",r._titleID=0,r._titleKeys=new WeakMap,r._uuid=++t._nInstance,r}return t.prototype.createCollapseIcon=function(r){return document.createElement("span")},t.prototype.createSectionTitle=function(r){var o=document.createElement("h3");o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.id=this.createTitleKey(r),o.className=this.titleClassName;for(var a in r.dataset)o.dataset[a]=r.dataset[a];var u=o.appendChild(this.createCollapseIcon(r));u.className="lm-AccordionPanel-titleCollapser";var h=o.appendChild(document.createElement("span"));return h.className="lm-AccordionPanel-titleLabel",h.textContent=r.label,h.title=r.caption||r.label,o},t.prototype.createTitleKey=function(r){var o=this._titleKeys.get(r);return o===void 0&&(o="title-key-"+this._uuid+"-"+this._titleID++,this._titleKeys.set(r,o)),o},t._nInstance=0,t}(ke.Renderer);n.Renderer=i,n.defaultRenderer=new i})(nt||(nt={}));var rt;(function(n){function i(e){return e.layout||new Dt({renderer:e.renderer||nt.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing,titleSpace:e.titleSpace})}n.createLayout=i})(rt||(rt={}));var J=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this)||this;return t._fixed=0,t._spacing=4,t._dirty=!1,t._sizers=[],t._items=[],t._box=null,t._alignment="start",t._direction="top-to-bottom",e.direction!==void 0&&(t._direction=e.direction),e.alignment!==void 0&&(t._alignment=e.alignment),e.spacing!==void 0&&(t._spacing=De.clampDimension(e.spacing)),t}return i.prototype.dispose=function(){A(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=De.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),i.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,n.prototype.init.call(this)},i.prototype.attachWidget=function(e,t){w.insert(this._items,e,new Te(t)),w.insert(this._sizers,e,new ce),this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterAttach),this.parent.fit()},i.prototype.moveWidget=function(e,t,r){w.move(this._items,e,t),w.move(this._sizers,e,t),this.parent.update()},i.prototype.detachWidget=function(e,t){var r=w.removeAt(this._items,e);w.removeAt(this._sizers,e),this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterDetach),r.dispose(),this.parent.fit()},i.prototype.onBeforeShow=function(e){n.prototype.onBeforeShow.call(this,e),this.parent.update()},i.prototype.onBeforeAttach=function(e){n.prototype.onBeforeAttach.call(this,e),this.parent.fit()},i.prototype.onChildShown=function(e){this.parent.fit()},i.prototype.onChildHidden=function(e){this.parent.fit()},i.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},i.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},i.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},i.prototype._fit=function(){for(var e=0,t=0,r=this._items.length;t<r;++t)e+=+!this._items[t].isHidden;this._fixed=this._spacing*Math.max(0,e-1);for(var o=pe.isHorizontal(this._direction),a=o?this._fixed:0,u=o?0:this._fixed,t=0,r=this._items.length;t<r;++t){var h=this._items[t],l=this._sizers[t];if(h.isHidden){l.minSize=0,l.maxSize=0;continue}h.fit(),l.sizeHint=i.getSizeBasis(h.widget),l.stretch=i.getStretch(h.widget),o?(l.minSize=h.minWidth,l.maxSize=h.maxWidth,a+=h.minWidth,u=Math.max(u,h.minHeight)):(l.minSize=h.minHeight,l.maxSize=h.maxHeight,u+=h.minHeight,a=Math.max(a,h.minWidth))}var p=this._box=z.boxSizing(this.parent.node);a+=p.horizontalSum,u+=p.verticalSum;var g=this.parent.node.style;g.minWidth=a+"px",g.minHeight=u+"px",this._dirty=!0,this.parent.parent&&C.sendMessage(this.parent.parent,S.Msg.FitRequest),this._dirty&&C.sendMessage(this.parent,S.Msg.UpdateRequest)},i.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(r!==0){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=z.boxSizing(this.parent.node));var u=this._box.paddingTop,h=this._box.paddingLeft,l=e-this._box.horizontalSum,p=t-this._box.verticalSum,g;switch(this._direction){case"left-to-right":g=$.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":g=$.calc(this._sizers,Math.max(0,p-this._fixed));break;case"right-to-left":g=$.calc(this._sizers,Math.max(0,l-this._fixed)),h+=l;break;case"bottom-to-top":g=$.calc(this._sizers,Math.max(0,p-this._fixed)),u+=p;break;default:throw"unreachable"}var f=0,d=0;if(g>0)switch(this._alignment){case"start":break;case"center":f=0,d=g/2;break;case"end":f=0,d=g;break;case"justify":f=g/r,d=0;break;default:throw"unreachable"}for(var o=0,a=this._items.length;o<a;++o){var s=this._items[o];if(!s.isHidden){var c=this._sizers[o].size;switch(this._direction){case"left-to-right":s.update(h+d,u,c+f,p),h+=c+f+this._spacing;break;case"top-to-bottom":s.update(h,u+d,l,c+f),u+=c+f+this._spacing;break;case"right-to-left":s.update(h-d-c-f,u,c+f,p),h-=c+f+this._spacing;break;case"bottom-to-top":s.update(h,u-d-c-f,l,c+f),u-=c+f+this._spacing;break;default:throw"unreachable"}}}}},i}(Fe);(function(n){function i(o){return pe.stretchProperty.get(o)}n.getStretch=i;function e(o,a){pe.stretchProperty.set(o,a)}n.setStretch=e;function t(o){return pe.sizeBasisProperty.get(o)}n.getSizeBasis=t;function r(o,a){pe.sizeBasisProperty.set(o,a)}n.setSizeBasis=r})(J||(J={}));var pe;(function(n){n.stretchProperty=new V({name:"stretch",create:function(){return 0},coerce:function(r,o){return Math.max(0,Math.floor(o))},changed:t}),n.sizeBasisProperty=new V({name:"sizeBasis",create:function(){return 0},coerce:function(r,o){return Math.max(0,Math.floor(o))},changed:t});function i(r){return r==="left-to-right"||r==="right-to-left"}n.isHorizontal=i;function e(r){return Math.max(0,Math.floor(r))}n.clampSpacing=e;function t(r){r.parent&&r.parent.layout instanceof J&&r.parent.fit()}})(pe||(pe={}));var yt=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{layout:ot.createLayout(e)})||this;return t.addClass("lm-BoxPanel"),t.addClass("p-BoxPanel"),t}return Object.defineProperty(i.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),i.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child"),e.child.addClass("p-BoxPanel-child")},i.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child"),e.child.removeClass("p-BoxPanel-child")},i}(ut);(function(n){function i(o){return J.getStretch(o)}n.getStretch=i;function e(o,a){J.setStretch(o,a)}n.setStretch=e;function t(o){return J.getSizeBasis(o)}n.getSizeBasis=t;function r(o,a){J.setSizeBasis(o,a)}n.setSizeBasis=r})(yt||(yt={}));var ot;(function(n){function i(e){return e.layout||new J(e)}n.createLayout=i})(ot||(ot={}));var bt=function(n){P(i,n);function i(e){var t=n.call(this,{node:re.createNode()})||this;return t._activeIndex=-1,t._items=[],t._results=null,t.addClass("lm-CommandPalette"),t.addClass("p-CommandPalette"),t.setFlag(S.Flag.DisallowLayout),t.commands=e.commands,t.renderer=e.renderer||i.defaultRenderer,t.commands.commandChanged.connect(t._onGenericChange,t),t.commands.keyBindingChanged.connect(t._onGenericChange,t),t}return i.prototype.dispose=function(){this._items.length=0,this._results=null,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),i.prototype.addItem=function(e){var t=re.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},i.prototype.addItems=function(e){var t=this,r=e.map(function(o){return re.createItem(t.commands,o)});return r.forEach(function(o){return t._items.push(o)}),this.refresh(),r},i.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},i.prototype.removeItemAt=function(e){var t=w.removeAt(this._items,e);t&&this.refresh()},i.prototype.clearItems=function(){this._items.length!==0&&(this._items.length=0,this.refresh())},i.prototype.refresh=function(){if(this._results=null,this.inputNode.value!==""){var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()},i.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},i.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},i.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,r=this.contentNode,o=this._results;if(o||(o=this._results=re.search(this._items,t),this._activeIndex=t?w.findFirstIndex(o,re.canActivate):-1),!t&&o.length===0){ne.render(null,r);return}if(t&&o.length===0){var a=this.renderer.renderEmptyMessage({query:t});ne.render(a,r);return}for(var u=this.renderer,h=this._activeIndex,l=new Array(o.length),p=0,g=o.length;p<g;++p){var f=o[p];if(f.type==="header"){var d=f.indices,s=f.category;l[p]=u.renderHeader({category:s,indices:d})}else{var c=f.item,d=f.indices,m=p===h;l[p]=u.renderItem({item:c,indices:d,active:m})}}if(ne.render(l,r),h<0||h>=o.length)r.scrollTop=0;else{var y=r.children[h];z.scrollIntoViewIfNeeded(r,y)}},i.prototype._evtClick=function(e){if(e.button===0){if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}var t=w.findFirstIndex(this.contentNode.children,function(r){return r.contains(e.target)});t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},i.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}},i.prototype._activateNextItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,o=r===0?t-1:r-1;this._activeIndex=w.findFirstIndex(this._results,re.canActivate,r,o),this.update()}},i.prototype._activatePreviousItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,o=r===t-1?0:r+1;this._activeIndex=w.findLastIndex(this._results,re.canActivate,r,o),this.update()}},i.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if(t.type==="header"){var r=this.inputNode;r.value=t.category.toLowerCase()+" ",r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},i.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e),this.toggleClass("p-mod-focused",e)},i.prototype._onGenericChange=function(){this.refresh()},i}(S);(function(n){var i=function(){function e(){}return e.prototype.renderHeader=function(t){var r=this.formatHeader(t);return D.li({className:"lm-CommandPalette-header p-CommandPalette-header"},r)},e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t);return t.item.isToggleable?D.li({className:r,dataset:o,role:"checkbox","aria-checked":""+t.item.isToggled},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t)):D.li({className:r,dataset:o},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t))},e.prototype.renderEmptyMessage=function(t){var r=this.formatEmptyMessage(t);return D.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},r)},e.prototype.renderItemIcon=function(t){var r=this.createIconClass(t);return typeof t.item.icon=="string"?D.div({className:r},t.item.iconLabel):D.div({className:r},t.item.icon,t.item.iconLabel)},e.prototype.renderItemContent=function(t){return D.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(t),this.renderItemCaption(t))},e.prototype.renderItemLabel=function(t){var r=this.formatItemLabel(t);return D.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},r)},e.prototype.renderItemCaption=function(t){var r=this.formatItemCaption(t);return D.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},r)},e.prototype.renderItemShortcut=function(t){var r=this.formatItemShortcut(t);return D.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},r)},e.prototype.createItemClass=function(t){var r="lm-CommandPalette-item";r+=" p-CommandPalette-item",t.item.isEnabled||(r+=" lm-mod-disabled",r+=" p-mod-disabled"),t.item.isToggled&&(r+=" lm-mod-toggled",r+=" p-mod-toggled"),t.active&&(r+=" lm-mod-active",r+=" p-mod-active");var o=t.item.className;return o&&(r+=" "+o),r},e.prototype.createItemDataset=function(t){return F(F({},t.item.dataset),{command:t.item.command})},e.prototype.createIconClass=function(t){var r="lm-CommandPalette-itemIcon";r+=" p-CommandPalette-itemIcon";var o=t.item.iconClass;return o?r+" "+o:r},e.prototype.formatHeader=function(t){return!t.indices||t.indices.length===0?t.category:ze.highlight(t.category,t.indices,D.mark)},e.prototype.formatEmptyMessage=function(t){return"No commands found that match '"+t.query+"'"},e.prototype.formatItemShortcut=function(t){var r=t.item.keyBinding;return r?Me.formatKeystroke(r.keys):null},e.prototype.formatItemLabel=function(t){return!t.indices||t.indices.length===0?t.item.label:ze.highlight(t.item.label,t.indices,D.mark)},e.prototype.formatItemCaption=function(t){return t.item.caption},e}();n.Renderer=i,n.defaultRenderer=new i})(bt||(bt={}));var re;(function(n){function i(){var f=document.createElement("div"),d=document.createElement("div"),s=document.createElement("div"),c=document.createElement("input"),m=document.createElement("ul"),y=document.createElement("button");return d.className="lm-CommandPalette-search",s.className="lm-CommandPalette-wrapper",c.className="lm-CommandPalette-input",y.className="lm-close-icon",m.className="lm-CommandPalette-content",d.classList.add("p-CommandPalette-search"),s.classList.add("p-CommandPalette-wrapper"),c.classList.add("p-CommandPalette-input"),m.classList.add("p-CommandPalette-content"),c.spellcheck=!1,s.appendChild(c),s.appendChild(y),d.appendChild(s),f.appendChild(d),f.appendChild(m),f}n.createNode=i;function e(f,d){return new g(f,d)}n.createItem=e;function t(f,d){var s=u(f,d);return s.sort(l),p(s)}n.search=t;function r(f){return f.type==="item"&&f.item.isEnabled}n.canActivate=r;function o(f){return f.trim().replace(/\s+/g," ")}function a(f){return f.replace(/\s+/g,"").toLowerCase()}function u(f,d){d=a(d);for(var s=[],c=0,m=f.length;c<m;++c){var y=f[c];if(y.isVisible){if(!d){s.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:y});continue}var b=h(y,d);b&&(y.isEnabled||(b.score+=1e3),s.push(b))}}return s}function h(f,d){for(var s=f.category.toLowerCase(),c=f.label.toLowerCase(),m=s+" "+c,y=1/0,b=null,v=/\b\w/g;;){var _=v.exec(m);if(!_)break;var M=ze.matchSumOfDeltas(m,d,_.index);if(!M)break;M&&M.score<=y&&(y=M.score,b=M.indices)}if(!b||y===1/0)return null;for(var x=s.length+1,I=w.lowerBound(b,x,function(H,j){return H-j}),E=b.slice(0,I),T=b.slice(I),k=0,B=T.length;k<B;++k)T[k]-=x;return E.length===0?{matchType:0,categoryIndices:null,labelIndices:T,score:y,item:f}:T.length===0?{matchType:1,categoryIndices:E,labelIndices:null,score:y,item:f}:{matchType:2,categoryIndices:E,labelIndices:T,score:y,item:f}}function l(f,d){var s=f.matchType-d.matchType;if(s!==0)return s;var c=f.score-d.score;if(c!==0)return c;var m=0,y=0;switch(f.matchType){case 0:m=f.labelIndices[0],y=d.labelIndices[0];break;case 1:case 2:m=f.categoryIndices[0],y=d.categoryIndices[0];break}if(m!==y)return m-y;var b=f.item.category.localeCompare(d.item.category);if(b!==0)return b;var v=f.item.rank,_=d.item.rank;return v!==_?v<_?-1:1:f.item.label.localeCompare(d.item.label)}function p(f){var d=new Array(f.length);w.fill(d,!1);for(var s=[],c=0,m=f.length;c<m;++c)if(!d[c]){var y=f[c],b=y.item,v=y.categoryIndices,_=b.category;s.push({type:"header",category:_,indices:v});for(var M=c;M<m;++M)if(!d[M]){var x=f[M],I=x.item,E=x.labelIndices;I.category===_&&(s.push({type:"item",item:I,indices:E}),d[M]=!0)}}return s}var g=function(){function f(d,s){this._commands=d,this.category=o(s.category),this.command=s.command,this.args=s.args||me.JSONExt.emptyObject,this.rank=s.rank!==void 0?s.rank:1/0}return Object.defineProperty(f.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"keyBinding",{get:function(){var d=this,s=d.command,c=d.args;return w.findLastValue(this._commands.keyBindings,function(m){return m.command===s&&me.JSONExt.deepEqual(m.args,c)})||null},enumerable:!0,configurable:!0}),f}()})(re||(re={}));var Ce=function(n){P(i,n);function i(e){var t=n.call(this,{node:X.createNode()})||this;return t._childIndex=-1,t._activeIndex=-1,t._openTimerID=0,t._closeTimerID=0,t._items=[],t._childMenu=null,t._parentMenu=null,t._aboutToClose=new L(t),t._menuRequested=new L(t),t.addClass("lm-Menu"),t.addClass("p-Menu"),t.setFlag(S.Flag.DisallowLayout),t.commands=e.commands,t.renderer=e.renderer||i.defaultRenderer,t}return i.prototype.dispose=function(){this.close(),this._items.length=0,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!X.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),i.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,o=r===0?e-1:r-1;this.activeIndex=w.findFirstIndex(this._items,X.canActivate,r,o)},i.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,o=r===e-1?0:r+1;this.activeIndex=w.findLastIndex(this._items,X.canActivate,r,o)},i.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e){if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();var t=e.command,r=e.args;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log("Command '"+t+"' is disabled.")}}},i.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},i.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var r=Math.max(0,Math.min(e,this._items.length)),o=X.createItem(this,t);return w.insert(this._items,r,o),this.update(),o},i.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},i.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1;var t=w.removeAt(this._items,e);t&&this.update()},i.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())},i.prototype.open=function(e,t,r){if(r===void 0&&(r={}),!this.isAttached){var o=r.forceX||!1,a=r.forceY||!1;X.openRootMenu(this,e,t,o,a),this.activate()}},i.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},i.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},i.prototype.onUpdateRequest=function(e){for(var t=this,r=this._items,o=this.renderer,a=this._activeIndex,u=X.computeCollapsed(r),h=new Array(r.length),l=function(f,d){var s=r[f],c=f===a,m=u[f];h[f]=o.renderItem({item:s,active:c,collapsed:m,onfocus:function(){t.activeIndex=f}})},p=0,g=r.length;p<g;++p)l(p);ne.render(h,this.contentNode)},i.prototype.onCloseRequest=function(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());var r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),n.prototype.onCloseRequest.call(this,e)},i.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){var r=this.activeItem;r&&r.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}var o=_e().keyForKeydownEvent(e);if(o){var a=this._activeIndex+1,u=X.findMnemonic(this._items,o,a);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}},i.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},i.prototype._evtMouseMove=function(e){var t=w.findFirstIndex(this.contentNode.children,function(o){return z.hitTest(o,e.clientX,e.clientY)});if(t!==this._activeIndex){if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();var r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}},i.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},i.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}var t=e.clientX,r=e.clientY;if(z.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()},i.prototype._evtMouseDown=function(e){this._parentMenu||(X.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},i.prototype._openChildMenu=function(e){e===void 0&&(e=!1);var t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}var r=t.submenu;if(r!==this._childMenu){i.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,C.sendMessage(this,S.Msg.UpdateRequest);var o=this.contentNode.children[this._activeIndex];X.openSubmenu(r,o),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}},i.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},i.prototype._startOpenTimer=function(){var e=this;this._openTimerID===0&&(this._openTimerID=window.setTimeout(function(){e._openTimerID=0,e._openChildMenu()},X.TIMER_DELAY))},i.prototype._startCloseTimer=function(){var e=this;this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(function(){e._closeTimerID=0,e._closeChildMenu()},X.TIMER_DELAY))},i.prototype._cancelOpenTimer=function(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)},i.prototype._cancelCloseTimer=function(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},i.saveWindowData=function(){X.saveWindowData()},i}(S);(function(n){var i=function(){function e(){}return e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t),a=this.createItemARIA(t);return D.li(F({className:r,dataset:o,tabindex:"0",onfocus:t.onfocus},a),this.renderIcon(t),this.renderLabel(t),this.renderShortcut(t),this.renderSubmenu(t))},e.prototype.renderIcon=function(t){var r=this.createIconClass(t);return typeof t.item.icon=="string"?D.div({className:r},t.item.iconLabel):D.div({className:r},t.item.icon,t.item.iconLabel)},e.prototype.renderLabel=function(t){var r=this.formatLabel(t);return D.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},r)},e.prototype.renderShortcut=function(t){var r=this.formatShortcut(t);return D.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},r)},e.prototype.renderSubmenu=function(t){return D.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(t){var r="lm-Menu-item";r+=" p-Menu-item",t.item.isEnabled||(r+=" lm-mod-disabled",r+=" p-mod-disabled"),t.item.isToggled&&(r+=" lm-mod-toggled",r+=" p-mod-toggled"),t.item.isVisible||(r+=" lm-mod-hidden",r+=" p-mod-hidden"),t.active&&(r+=" lm-mod-active",r+=" p-mod-active"),t.collapsed&&(r+=" lm-mod-collapsed",r+=" p-mod-collapsed");var o=t.item.className;return o&&(r+=" "+o),r},e.prototype.createItemDataset=function(t){var r,o=t.item,a=o.type,u=o.command,h=o.dataset;return a==="command"?r=F(F({},h),{type:a,command:u}):r=F(F({},h),{type:a}),r},e.prototype.createIconClass=function(t){var r="lm-Menu-itemIcon";r+=" p-Menu-itemIcon";var o=t.item.iconClass;return o?r+" "+o:r},e.prototype.createItemARIA=function(t){var r={};switch(t.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",t.item.isEnabled||(r["aria-disabled"]="true");break;default:t.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r},e.prototype.formatLabel=function(t){var r=t.item,o=r.label,a=r.mnemonic;if(a<0||a>=o.length)return o;var u=o.slice(0,a),h=o.slice(a+1),l=o[a],p=D.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},l);return[u,p,h]},e.prototype.formatShortcut=function(t){var r=t.item.keyBinding;return r?Me.formatKeystroke(r.keys):null},e}();n.Renderer=i,n.defaultRenderer=new i})(Ce||(Ce={}));var X;(function(n){n.TIMER_DELAY=300,n.SUBMENU_OVERLAP=3;var i=null,e=0;function t(){return e>0?(e--,i):p()}function r(){i=p(),e++}n.saveWindowData=r;function o(){var c=document.createElement("div"),m=document.createElement("ul");return m.className="lm-Menu-content",m.classList.add("p-Menu-content"),c.appendChild(m),m.setAttribute("role","menu"),c.tabIndex=0,c}n.createNode=o;function a(c){return c.type!=="separator"&&c.isEnabled&&c.isVisible}n.canActivate=a;function u(c,m){return new s(c.commands,m)}n.createItem=u;function h(c,m,y){for(var b=c;b;b=b.childMenu)if(z.hitTest(b.node,m,y))return!0;return!1}n.hitTestMenus=h;function l(c){var m=new Array(c.length);w.fill(m,!1);for(var y=0,b=c.length;y<b;++y){var v=c[y];if(v.isVisible){if(v.type!=="separator")break;m[y]=!0}}for(var _=b-1;_>=0;--_){var v=c[_];if(v.isVisible){if(v.type!=="separator")break;m[_]=!0}}for(var M=!1;++y<_;){var v=c[y];v.isVisible&&(v.type!=="separator"?M=!1:M?m[y]=!0:M=!0)}return m}n.computeCollapsed=l;function p(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(c,m,y,b,v){var _=t(),M=_.pageXOffset,x=_.pageYOffset,I=_.clientWidth,E=_.clientHeight;C.sendMessage(c,S.Msg.UpdateRequest);var T=E-(v?y:0),k=c.node,B=k.style;B.opacity="0",B.maxHeight=T+"px",S.attach(c,document.body);var H=k.getBoundingClientRect(),j=H.width,q=H.height;!b&&m+j>M+I&&(m=M+I-j),!v&&y+q>x+E&&(y>x+E?y=x+E-q:y=y-q),B.transform="translate("+Math.max(0,m)+"px, "+Math.max(0,y)+"px",B.opacity="1"}n.openRootMenu=g;function f(c,m){var y=t(),b=y.pageXOffset,v=y.pageYOffset,_=y.clientWidth,M=y.clientHeight;C.sendMessage(c,S.Msg.UpdateRequest);var x=M,I=c.node,E=I.style;E.opacity="0",E.maxHeight=x+"px",S.attach(c,document.body);var T=I.getBoundingClientRect(),k=T.width,B=T.height,H=z.boxSizing(c.node),j=m.getBoundingClientRect(),q=j.right-n.SUBMENU_OVERLAP;q+k>b+_&&(q=j.left+n.SUBMENU_OVERLAP-k);var ee=j.top-H.borderTop-H.paddingTop;ee+B>v+M&&(ee=j.bottom+H.borderBottom+H.paddingBottom-B),E.transform="translate("+Math.max(0,q)+"px, "+Math.max(0,ee)+"px",E.opacity="1"}n.openSubmenu=f;function d(c,m,y){for(var b=-1,v=-1,_=!1,M=m.toUpperCase(),x=0,I=c.length;x<I;++x){var E=(x+y)%I,T=c[E];if(a(T)){var k=T.label;if(k.length!==0){var B=T.mnemonic;if(B>=0&&B<k.length){k[B].toUpperCase()===M&&(b===-1?b=E:_=!0);continue}v===-1&&k[0].toUpperCase()===M&&(v=E)}}}return{index:b,multiple:_,auto:v}}n.findMnemonic=d;var s=function(){function c(m,y){this._commands=m,this.type=y.type||"command",this.command=y.command||"",this.args=y.args||me.JSONExt.emptyObject,this.submenu=y.submenu||null}return Object.defineProperty(c.prototype,"label",{get:function(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"mnemonic",{get:function(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"icon",{get:function(){return this.type==="command"?this._commands.icon(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"iconClass",{get:function(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"iconLabel",{get:function(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"caption",{get:function(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"className",{get:function(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataset",{get:function(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isEnabled",{get:function(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isToggled",{get:function(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isVisible",{get:function(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"keyBinding",{get:function(){if(this.type==="command"){var m=this,y=m.command,b=m.args;return w.findLastValue(this._commands.keyBindings,function(v){return v.command===y&&me.JSONExt.deepEqual(v.args,b)})||null}return null},enumerable:!0,configurable:!0}),c}()})(X||(X={}));var mi=function(){function n(i){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var e=i.groupByTarget,t=i.sortBySelector,r=At(i,["groupByTarget","sortBySelector"]);this.menu=new Ce(r),this._groupByTarget=e!==!1,this._sortBySelector=t!==!1}return n.prototype.addItem=function(i){var e=this,t=je.createItem(i,this._idTick++);return this._items.push(t),new se(function(){w.removeFirstOf(e._items,t)})},n.prototype.open=function(i){var e=this;if(Ce.saveWindowData(),this.menu.clearItems(),this._items.length===0)return!1;var t=je.matchItems(this._items,i,this._groupByTarget,this._sortBySelector);return!t||t.length===0?!1:(A(t,function(r){e.menu.addItem(r)}),this.menu.open(i.clientX,i.clientY),!0)},n}(),je;(function(n){function i(a,u){var h=t(a.selector),l=a.rank!==void 0?a.rank:1/0;return F(F({},a),{selector:h,rank:l,id:u})}n.createItem=i;function e(a,u,h,l){var p=u.target;if(!p)return null;var g=u.currentTarget;if(!g||!g.contains(p)&&(p=document.elementFromPoint(u.clientX,u.clientY),!p||!g.contains(p)))return null;for(var f=[],d=a.slice();p!==null;){for(var s=[],c=0,m=d.length;c<m;++c){var y=d[c];y&&ie.matches(p,y.selector)&&(s.push(y),d[c]=null)}if(s.length!==0&&(h&&s.sort(l?o:r),f.push.apply(f,s)),p===g)break;p=p.parentElement}return h||f.sort(l?o:r),f}n.matchItems=e;function t(a){if(a.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+a);if(!ie.isValid(a))throw new Error("Invalid selector: "+a);return a}function r(a,u){var h=a.rank,l=u.rank;return h!==l?h<l?-1:1:a.id-u.id}function o(a,u){var h=ie.calculateSpecificity(a.selector),l=ie.calculateSpecificity(u.selector);return h!==l?l-h:r(a,u)}})(je||(je={}));var Se=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{node:Q.createNode()})||this;return t._currentIndex=-1,t._titles=[],t._titlesEditable=!1,t._previousTitle=null,t._dragData=null,t._addButtonEnabled=!1,t._tabMoved=new L(t),t._currentChanged=new L(t),t._addRequested=new L(t),t._tabCloseRequested=new L(t),t._tabDetachRequested=new L(t),t._tabActivateRequested=new L(t),t.addClass("lm-TabBar"),t.addClass("p-TabBar"),t.contentNode.setAttribute("role","tablist"),t.setFlag(S.Flag.DisallowLayout),t._document=e.document||document,t.tabsMovable=e.tabsMovable||!1,t.titlesEditable=e.titlesEditable||!1,t.allowDeselect=e.allowDeselect||!1,t.addButtonEnabled=e.addButtonEnabled||!1,t.insertBehavior=e.insertBehavior||"select-tab-if-needed",t.name=e.name||"",t.orientation=e.orientation||"horizontal",t.removeBehavior=e.removeBehavior||"select-tab-after",t.renderer=e.renderer||i.defaultRenderer,t}return i.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,r=this._titles[t]||null,o=e,a=this._titles[o]||null;this._currentIndex=o,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:o,currentTitle:a})}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),i.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},i.prototype.insertTab=function(e,t){this._releaseMouse();var r=Q.asTitle(t),o=this._titles.indexOf(r),a=Math.max(0,Math.min(e,this._titles.length));return o===-1?(w.insert(this._titles,a,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(a,r),r):(a===this._titles.length&&a--,o===a||(w.move(this._titles,o,a),this.update(),this._adjustCurrentForMove(o,a)),r)},i.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},i.prototype.removeTabAt=function(e){this._releaseMouse();var t=w.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},i.prototype.clearTabs=function(){if(this._titles.length!==0){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){var r=t[e];r.changed.disconnect(this._onTitleChanged,this)}var o=this.currentIndex,a=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),o!==-1&&this._currentChanged.emit({previousIndex:o,previousTitle:a,currentIndex:-1,currentTitle:null})}},i.prototype.releaseMouse=function(){this._releaseMouse()},i.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},i.prototype.onUpdateRequest=function(e){for(var t=this._titles,r=this.renderer,o=this.currentTitle,a=new Array(t.length),u=0,h=t.length;u<h;++u){var l=t[u],p=l===o,g=p?h:h-u-1;a[u]=r.renderTab({title:l,current:p,zIndex:g})}ne.render(a,this.contentNode)},i.prototype._evtDblClick=function(e){if(this.titlesEditable){var t=this.contentNode.children,r=w.findFirstIndex(t,function(g){return z.hitTest(g,e.clientX,e.clientY)});if(r!==-1){var o=this.titles[r],a=t[r].querySelector(".lm-TabBar-tabLabel");if(a&&a.contains(e.target)){var u=o.label||"",h=a.innerHTML;a.innerHTML="";var l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=u,a.appendChild(l);var p=function(){l.removeEventListener("blur",p),a.innerHTML=h};l.addEventListener("dblclick",function(g){return g.stopPropagation()}),l.addEventListener("blur",p),l.addEventListener("keydown",function(g){g.key==="Enter"?(l.value!==""&&(o.label=o.caption=l.value),p()):g.key==="Escape"&&p()}),l.select(),l.focus(),a.children.length>0&&a.children[0].focus()}}}},i.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this._releaseMouse()},i.prototype._evtMouseDown=function(e){if(!(e.button!==0&&e.button!==1)&&!this._dragData){var t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,o=w.findFirstIndex(r,function(u){return z.hitTest(u,e.clientX,e.clientY)});if(!(o===-1&&!t)&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),!(e.button===1||t))){var a=r[o].querySelector(this.renderer.closeIconSelector);a&&a.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},i.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var r=this.contentNode.children;if(!(!t.dragActive&&!Q.dragExceeded(t,e))){if(!t.dragActive){var o=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=o.width,t.tabPressPos=t.pressX-o.left):(t.tabPos=t.tab.offsetTop,t.tabSize=o.height,t.tabPressPos=t.pressY-o.top),t.tabLayout=Q.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=ue.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&Q.detachExceeded(t,e)){t.detachRequested=!0;var a=t.index,u=e.clientX,h=e.clientY,l=r[a],p=this._titles[a];if(this._tabDetachRequested.emit({index:a,title:p,tab:l,clientX:u,clientY:h}),t.dragAborted)return}Q.layoutTabs(r,t,e,this._orientation)}}},i.prototype._evtMouseUp=function(e){var t=this;if(!(e.button!==0&&e.button!==1)){var r=this._dragData;if(r){if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!r.dragActive){this._dragData=null;var o=this.addButtonEnabled&&this.addButtonNode.contains(e.target);if(o){this._addRequested.emit(void 0);return}var a=this.contentNode.children,u=w.findFirstIndex(a,function(g){return z.hitTest(g,e.clientX,e.clientY)});if(u!==r.index)return;var h=this._titles[u];if(!h.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:u,title:h});return}var l=a[u].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:u,title:h});return}return}if(e.button===0){Q.finalizeTabPosition(r,this._orientation),r.tab.classList.remove("lm-mod-dragging"),r.tab.classList.remove("p-mod-dragging");var p=Q.parseTransitionDuration(r.tab);setTimeout(function(){if(!r.dragAborted){t._dragData=null,Q.resetTabPositions(t.contentNode.children,t._orientation),r.override.dispose(),t.removeClass("lm-mod-dragging"),t.removeClass("p-mod-dragging");var g=r.index,f=r.targetIndex;f===-1||g===f||(w.move(t._titles,g,f),t._adjustCurrentForMove(g,f),t._tabMoved.emit({fromIndex:g,toIndex:f,title:t._titles[f]}),C.sendMessage(t,S.Msg.UpdateRequest))}},p)}}}},i.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Q.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},i.prototype._adjustCurrentForInsert=function(e,t){var r=this.currentTitle,o=this._currentIndex,a=this.insertBehavior;if(a==="select-tab"||a==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:o,previousTitle:r,currentIndex:e,currentTitle:t});return}o>=e&&this._currentIndex++},i.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},i.prototype._adjustCurrentForRemove=function(e,t){var r=this._currentIndex,o=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})},i.prototype._onTitleChanged=function(e){this.update()},i}(S);(function(n){var i=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}return e.prototype.renderTab=function(t){var r=t.title.caption,o=this.createTabKey(t),a=o,u=this.createTabStyle(t),h=this.createTabClass(t),l=this.createTabDataset(t),p=this.createTabARIA(t);return t.title.closable?D.li(F({id:a,key:o,className:h,title:r,style:u,dataset:l},p),this.renderIcon(t),this.renderLabel(t),this.renderCloseIcon(t)):D.li(F({id:a,key:o,className:h,title:r,style:u,dataset:l},p),this.renderIcon(t),this.renderLabel(t))},e.prototype.renderIcon=function(t){var r=t.title,o=this.createIconClass(t);return typeof r.icon=="string"?D.div({className:o},r.iconLabel):D.div({className:o},r.icon,r.iconLabel)},e.prototype.renderLabel=function(t){return D.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},t.title.label)},e.prototype.renderCloseIcon=function(t){return D.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(t){var r=this._tabKeys.get(t.title);return r===void 0&&(r="tab-key-"+this._uuid+"-"+this._tabID++,this._tabKeys.set(t.title,r)),r},e.prototype.createTabStyle=function(t){return{zIndex:""+t.zIndex}},e.prototype.createTabClass=function(t){var r="lm-TabBar-tab";return r+=" p-TabBar-tab",t.title.className&&(r+=" "+t.title.className),t.title.closable&&(r+=" lm-mod-closable",r+=" p-mod-closable"),t.current&&(r+=" lm-mod-current",r+=" p-mod-current"),r},e.prototype.createTabDataset=function(t){return t.title.dataset},e.prototype.createTabARIA=function(t){return{role:"tab","aria-selected":t.current.toString()}},e.prototype.createIconClass=function(t){var r="lm-TabBar-tabIcon";r+=" p-TabBar-tabIcon";var o=t.title.iconClass;return o?r+" "+o:r},e._nInstance=0,e}();n.Renderer=i,n.defaultRenderer=new i,n.addButtonSelector=".lm-TabBar-addButton"})(Se||(Se={}));var Q;(function(n){n.DRAG_THRESHOLD=5,n.DETACH_THRESHOLD=20;function i(){var p=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",g.classList.add("p-TabBar-content"),p.appendChild(g);var f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",p.appendChild(f),p}n.createNode=i;function e(p){return p instanceof et?p:new et(p)}n.asTitle=e;function t(p){var g=window.getComputedStyle(p);return 1e3*(parseFloat(g.transitionDuration)||0)}n.parseTransitionDuration=t;function r(p,g){for(var f=new Array(p.length),d=0,s=p.length;d<s;++d){var c=p[d],m=window.getComputedStyle(c);g==="horizontal"?f[d]={pos:c.offsetLeft,size:c.offsetWidth,margin:parseFloat(m.marginLeft)||0}:f[d]={pos:c.offsetTop,size:c.offsetHeight,margin:parseFloat(m.marginTop)||0}}return f}n.snapTabLayout=r;function o(p,g){var f=Math.abs(g.clientX-p.pressX),d=Math.abs(g.clientY-p.pressY);return f>=n.DRAG_THRESHOLD||d>=n.DRAG_THRESHOLD}n.dragExceeded=o;function a(p,g){var f=p.contentRect;return g.clientX<f.left-n.DETACH_THRESHOLD||g.clientX>=f.right+n.DETACH_THRESHOLD||g.clientY<f.top-n.DETACH_THRESHOLD||g.clientY>=f.bottom+n.DETACH_THRESHOLD}n.detachExceeded=a;function u(p,g,f,d){var s,c,m,y;d==="horizontal"?(s=g.pressX,c=f.clientX-g.contentRect.left,m=f.clientX,y=g.contentRect.width):(s=g.pressY,c=f.clientY-g.contentRect.top,m=f.clientY,y=g.contentRect.height);for(var b=g.index,v=c-g.tabPressPos,_=v+g.tabSize,M=0,x=p.length;M<x;++M){var I=void 0,E=g.tabLayout[M],T=E.pos+(E.size>>1);if(M<g.index&&v<T)I=g.tabSize+g.tabLayout[M+1].margin+"px",b=Math.min(b,M);else if(M>g.index&&_>T)I=-g.tabSize-E.margin+"px",b=Math.max(b,M);else if(M===g.index){var k=m-s,B=y-(g.tabPos+g.tabSize);I=Math.max(-g.tabPos,Math.min(k,B))+"px"}else I="";d==="horizontal"?p[M].style.left=I:p[M].style.top=I}g.targetIndex=b}n.layoutTabs=u;function h(p,g){var f;g==="horizontal"?f=p.contentRect.width:f=p.contentRect.height;var d;if(p.targetIndex===p.index)d=0;else if(p.targetIndex>p.index){var s=p.tabLayout[p.targetIndex];d=s.pos+s.size-p.tabSize-p.tabPos}else{var s=p.tabLayout[p.targetIndex];d=s.pos-p.tabPos}var c=f-(p.tabPos+p.tabSize),m=Math.max(-p.tabPos,Math.min(d,c));g==="horizontal"?p.tab.style.left=m+"px":p.tab.style.top=m+"px"}n.finalizeTabPosition=h;function l(p,g){A(p,function(f){g==="horizontal"?f.style.left="":f.style.top=""})}n.resetTabPositions=l})(Q||(Q={}));var kt=function(n){P(i,n);function i(e){var t=n.call(this)||this;return t._spacing=4,t._dirty=!1,t._root=null,t._box=null,t._items=new Map,t.renderer=e.renderer,e.spacing!==void 0&&(t._spacing=De.clampDimension(e.spacing)),t._document=e.document||document,t._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:S.HiddenMode.Display,t}return i.prototype.dispose=function(){var e=this.iter();this._items.forEach(function(t){t.dispose()}),this._box=null,this._root=null,this._items.clear(),A(e,function(t){t.dispose()}),n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,A(this.tabBars(),function(r){r.titles.length>1&&r.titles.forEach(function(o){o.owner.hiddenMode=t._hiddenMode})}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=De.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:!0,configurable:!0}),i.prototype.iter=function(){return this._root?this._root.iterAllWidgets():te()},i.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():te()},i.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():te()},i.prototype.tabBars=function(){return this._root?this._root.iterTabBars():te()},i.prototype.handles=function(){return this._root?this._root.iterHandles():te()},i.prototype.moveHandle=function(e,t,r){var o=e.classList.contains("lm-mod-hidden");if(o=o||e.classList.contains("p-mod-hidden"),!(!this._root||o)){var a=this._root.findSplitNode(e);if(a){var u;a.node.orientation==="horizontal"?u=t-e.offsetLeft:u=r-e.offsetTop,u!==0&&(a.node.holdSizes(),$.adjust(a.node.sizers,a.index,u),this.parent&&this.parent.update())}}},i.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},i.prototype.restoreLayout=function(e){var t=this,r=new Set,o;e.main?o=R.normalizeAreaConfig(e.main,r):o=null;var a=this.widgets(),u=this.tabBars(),h=this.handles();this._root=null,A(a,function(l){r.has(l)||(l.parent=null)}),A(u,function(l){l.dispose()}),A(h,function(l){l.parentNode&&l.parentNode.removeChild(l)}),r.forEach(function(l){l.parent=t.parent}),o?this._root=R.realizeAreaConfig(o,{createTabBar:function(l){return t._createTabBar()},createHandle:function(){return t._createHandle()}},this._document):this._root=null,this.parent&&(r.forEach(function(l){t.attachWidget(l)}),this.parent.fit())},i.prototype.addWidget=function(e,t){t===void 0&&(t={});var r=t.ref||null,o=t.mode||"tab-after",a=null;if(this._root&&r&&(a=this._root.findTabNode(r)),r&&!a)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,r,a,!0);break;case"tab-before":this._insertTab(e,r,a,!1);break;case"split-top":this._insertSplit(e,r,a,"vertical",!1);break;case"split-left":this._insertSplit(e,r,a,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,a,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,a,"vertical",!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())},i.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},i.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=z.boxSizing(this.parent.node));var r=this.parent.node.getBoundingClientRect(),o=e-r.left-this._box.borderLeft,a=t-r.top-this._box.borderTop,u=this._root.hitTestTabNodes(o,a);if(!u)return null;var h=u.tabBar,l=u.top,p=u.left,g=u.width,f=u.height,d=this._box.borderLeft+this._box.borderRight,s=this._box.borderTop+this._box.borderBottom,c=r.width-d-(p+g),m=r.height-s-(l+f);return{tabBar:h,x:o,y:a,top:l,left:p,right:c,bottom:m,width:g,height:f}},i.prototype.init=function(){var e=this;n.prototype.init.call(this),A(this,function(t){e.attachWidget(t)}),A(this.handles(),function(t){e.parent.node.appendChild(t)}),this.parent.fit()},i.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Te(e)),this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterAttach))},i.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},i.prototype.onBeforeShow=function(e){n.prototype.onBeforeShow.call(this,e),this.parent.update()},i.prototype.onBeforeAttach=function(e){n.prototype.onBeforeAttach.call(this,e),this.parent.fit()},i.prototype.onChildShown=function(e){this.parent.fit()},i.prototype.onChildHidden=function(e){this.parent.fit()},i.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},i.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},i.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},i.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t){if(R.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===S.HiddenMode.Scale&&t.tabBar.titles.length==1){var r=t.tabBar.titles[0].owner;r.hiddenMode=S.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();var o=t.parent;t.parent=null;var a=w.removeFirstOf(o.children,t),u=w.removeAt(o.handles,a);if(w.removeAt(o.sizers,a),u.parentNode&&u.parentNode.removeChild(u),o.children.length>1){o.syncHandles();return}var h=o.parent;o.parent=null;var l=o.children[0],p=o.handles[0];if(o.children.length=0,o.handles.length=0,o.sizers.length=0,p.parentNode&&p.parentNode.removeChild(p),this._root===o){l.parent=null,this._root=l;return}var g=h,f=g.children.indexOf(o);if(l instanceof R.TabLayoutNode){l.parent=g,g.children[f]=l;return}var d=w.removeAt(g.handles,f);w.removeAt(g.children,f),w.removeAt(g.sizers,f),d.parentNode&&d.parentNode.removeChild(d);for(var s=0,c=l.children.length;s<c;++s){var m=l.children[s],y=l.handles[s],b=l.sizers[s];w.insert(g.children,f+s,m),w.insert(g.handles,f+s,y),w.insert(g.sizers,f+s,b),m.parent=g}l.children.length=0,l.handles.length=0,l.sizers.length=0,l.parent=null,g.syncHandles()}}},i.prototype._insertTab=function(e,t,r,o){if(e!==t){if(!this._root){var a=new R.TabLayoutNode(this._createTabBar());a.tabBar.addTab(e.title),this._root=a,R.addAria(e,a.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());var u;if(t?u=r.tabBar.titles.indexOf(t.title):u=r.tabBar.currentIndex,this._hiddenMode===S.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=S.HiddenMode.Display;else if(r.tabBar.titles.length==1){var h=r.tabBar.titles[0].owner;h.hiddenMode=S.HiddenMode.Scale}else e.hiddenMode=S.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(u+(o?1:0),e.title),R.addAria(e,r.tabBar)}},i.prototype._insertSplit=function(e,t,r,o,a){if(!(e===t&&r&&r.tabBar.titles.length===1)){this._removeWidget(e);var u=new R.TabLayoutNode(this._createTabBar());if(u.tabBar.addTab(e.title),R.addAria(e,u.tabBar),!this._root){this._root=u;return}if(!r||!r.parent){var h=this._splitRoot(o),l=a?h.children.length:0;h.normalizeSizes();var p=R.createSizer(r?1:R.GOLDEN_RATIO);w.insert(h.children,l,u),w.insert(h.sizers,l,p),w.insert(h.handles,l,this._createHandle()),u.parent=h,h.normalizeSizes(),h.syncHandles();return}var g=r.parent;if(g.orientation===o){var f=g.children.indexOf(r);g.normalizeSizes();var d=g.sizers[f].sizeHint/=2,s=f+(a?1:0);w.insert(g.children,s,u),w.insert(g.sizers,s,R.createSizer(d)),w.insert(g.handles,s,this._createHandle()),u.parent=g,g.syncHandles();return}var c=w.removeFirstOf(g.children,r),m=new R.SplitLayoutNode(o);m.normalized=!0,m.children.push(r),m.sizers.push(R.createSizer(.5)),m.handles.push(this._createHandle()),r.parent=m;var y=a?1:0;w.insert(m.children,y,u),w.insert(m.sizers,y,R.createSizer(.5)),w.insert(m.handles,y,this._createHandle()),u.parent=m,m.syncHandles(),w.insert(g.children,c,m),m.parent=g}},i.prototype._splitRoot=function(e){var t=this._root;if(t instanceof R.SplitLayoutNode&&t.orientation===e)return t;var r=this._root=new R.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(R.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r},i.prototype._fit=function(){var e=0,t=0;if(this._root){var r=this._root.fit(this._spacing,this._items);e=r.minWidth,t=r.minHeight}var o=this._box=z.boxSizing(this.parent.node);e+=o.horizontalSum,t+=o.verticalSum;var a=this.parent.node.style;a.minWidth=e+"px",a.minHeight=t+"px",this._dirty=!0,this.parent.parent&&C.sendMessage(this.parent.parent,S.Msg.FitRequest),this._dirty&&C.sendMessage(this.parent,S.Msg.UpdateRequest)},i.prototype._update=function(e,t){if(this._dirty=!1,!!this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=z.boxSizing(this.parent.node));var r=this._box.paddingTop,o=this._box.paddingLeft,a=e-this._box.horizontalSum,u=t-this._box.verticalSum;this._root.update(r,o,a,u,this._spacing,this._items)}},i.prototype._createTabBar=function(){var e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},i.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},i}(le),R;(function(n){n.GOLDEN_RATIO=.618;function i(f){var d=new ce;return d.sizeHint=f,d.size=f,d}n.createSizer=i;function e(f,d){var s;return f.type==="tab-area"?s=h(f,d):s=l(f,d),s}n.normalizeAreaConfig=e;function t(f,d,s){var c;return f.type==="tab-area"?c=p(f,d,s):c=g(f,d,s),c}n.realizeAreaConfig=t;var r=function(){function f(d){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var s=new ce,c=new ce;s.stretch=0,c.stretch=1,this.tabBar=d,this.sizers=[s,c]}return Object.defineProperty(f.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),f.prototype.iterAllWidgets=function(){return qe(Ee(this.tabBar),this.iterUserWidgets())},f.prototype.iterUserWidgets=function(){return ae(this.tabBar.titles,function(d){return d.owner})},f.prototype.iterSelectedWidgets=function(){var d=this.tabBar.currentTitle;return d?Ee(d.owner):te()},f.prototype.iterTabBars=function(){return Ee(this.tabBar)},f.prototype.iterHandles=function(){return te()},f.prototype.findTabNode=function(d){return this.tabBar.titles.indexOf(d.title)!==-1?this:null},f.prototype.findSplitNode=function(d){return null},f.prototype.findFirstTabNode=function(){return this},f.prototype.hitTestTabNodes=function(d,s){return d<this._left||d>=this._left+this._width||s<this._top||s>=this._top+this._height?null:this},f.prototype.createConfig=function(){var d=this.tabBar.titles.map(function(c){return c.owner}),s=this.tabBar.currentIndex;return{type:"tab-area",widgets:d,currentIndex:s}},f.prototype.holdAllSizes=function(){},f.prototype.fit=function(d,s){var c=0,m=0,y=1/0,b=1/0,v=s.get(this.tabBar),_=this.tabBar.currentTitle,M=_?s.get(_.owner):void 0,x=this.sizers,I=x[0],E=x[1];return v&&v.fit(),M&&M.fit(),v&&!v.isHidden?(c=Math.max(c,v.minWidth),m+=v.minHeight,I.minSize=v.minHeight,I.maxSize=v.maxHeight):(I.minSize=0,I.maxSize=0),M&&!M.isHidden?(c=Math.max(c,M.minWidth),m+=M.minHeight,E.minSize=M.minHeight,E.maxSize=1/0):(E.minSize=0,E.maxSize=1/0),{minWidth:c,minHeight:m,maxWidth:y,maxHeight:b}},f.prototype.update=function(d,s,c,m,y,b){this._top=s,this._left=d,this._width=c,this._height=m;var v=b.get(this.tabBar),_=this.tabBar.currentTitle,M=_?b.get(_.owner):void 0;if($.calc(this.sizers,m),v&&!v.isHidden){var x=this.sizers[0].size;v.update(d,s,c,x),s+=x}if(M&&!M.isHidden){var x=this.sizers[1].size;M.update(d,s,c,x)}},f}();n.TabLayoutNode=r;var o=function(){function f(d){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=d}return f.prototype.iterAllWidgets=function(){var d=ae(this.children,function(s){return s.iterAllWidgets()});return new ve(d)},f.prototype.iterUserWidgets=function(){var d=ae(this.children,function(s){return s.iterUserWidgets()});return new ve(d)},f.prototype.iterSelectedWidgets=function(){var d=ae(this.children,function(s){return s.iterSelectedWidgets()});return new ve(d)},f.prototype.iterTabBars=function(){var d=ae(this.children,function(s){return s.iterTabBars()});return new ve(d)},f.prototype.iterHandles=function(){var d=ae(this.children,function(s){return s.iterHandles()});return qe(this.handles,new ve(d))},f.prototype.findTabNode=function(d){for(var s=0,c=this.children.length;s<c;++s){var m=this.children[s].findTabNode(d);if(m)return m}return null},f.prototype.findSplitNode=function(d){var s=this.handles.indexOf(d);if(s!==-1)return{index:s,node:this};for(var c=0,m=this.children.length;c<m;++c){var y=this.children[c].findSplitNode(d);if(y)return y}return null},f.prototype.findFirstTabNode=function(){return this.children.length===0?null:this.children[0].findFirstTabNode()},f.prototype.hitTestTabNodes=function(d,s){for(var c=0,m=this.children.length;c<m;++c){var y=this.children[c].hitTestTabNodes(d,s);if(y)return y}return null},f.prototype.createConfig=function(){var d=this.orientation,s=this.createNormalizedSizes(),c=this.children.map(function(m){return m.createConfig()});return{type:"split-area",orientation:d,children:c,sizes:s}},f.prototype.syncHandles=function(){var d=this;A(this.handles,function(s,c){s.setAttribute("data-orientation",d.orientation),c===d.handles.length-1?(s.classList.add("lm-mod-hidden"),s.classList.add("p-mod-hidden")):(s.classList.remove("lm-mod-hidden"),s.classList.remove("p-mod-hidden"))})},f.prototype.holdSizes=function(){A(this.sizers,function(d){d.sizeHint=d.size})},f.prototype.holdAllSizes=function(){A(this.children,function(d){return d.holdAllSizes()}),this.holdSizes()},f.prototype.normalizeSizes=function(){var d=this.sizers.length;if(d!==0){this.holdSizes();var s=Ke(this.sizers,function(c,m){return c+m.sizeHint},0);s===0?A(this.sizers,function(c){c.size=c.sizeHint=1/d}):A(this.sizers,function(c){c.size=c.sizeHint/=s}),this.normalized=!0}},f.prototype.createNormalizedSizes=function(){var d=this.sizers.length;if(d===0)return[];var s=this.sizers.map(function(m){return m.size}),c=Ke(s,function(m,y){return m+y},0);return c===0?A(s,function(m,y){s[y]=1/d}):A(s,function(m,y){s[y]=m/c}),s},f.prototype.fit=function(d,s){for(var c=this.orientation==="horizontal",m=Math.max(0,this.children.length-1)*d,y=c?m:0,b=c?0:m,v=1/0,_=1/0,M=0,x=this.children.length;M<x;++M){var I=this.children[M].fit(d,s);c?(b=Math.max(b,I.minHeight),y+=I.minWidth,this.sizers[M].minSize=I.minWidth):(y=Math.max(y,I.minWidth),b+=I.minHeight,this.sizers[M].minSize=I.minHeight)}return{minWidth:y,minHeight:b,maxWidth:v,maxHeight:_}},f.prototype.update=function(d,s,c,m,y,b){var v=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*y,M=Math.max(0,(v?c:m)-_);this.normalized&&(A(this.sizers,function(B){B.sizeHint*=M}),this.normalized=!1),$.calc(this.sizers,M);for(var x=0,I=this.children.length;x<I;++x){var E=this.children[x],T=this.sizers[x].size,k=this.handles[x].style;v?(E.update(d,s,T,m,y,b),d+=T,k.top=s+"px",k.left=d+"px",k.width=y+"px",k.height=m+"px",d+=y):(E.update(d,s,c,T,y,b),s+=T,k.top=s+"px",k.left=d+"px",k.width=c+"px",k.height=y+"px",s+=y)}},f}();n.SplitLayoutNode=o;function a(f,d){f.node.setAttribute("role","tabpanel");var s=d.renderer;if(s instanceof Se.Renderer){var c=s.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",c)}}n.addAria=a;function u(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}n.removeAria=u;function h(f,d){if(f.widgets.length===0)return null;var s=[];if(A(f.widgets,function(m){d.has(m)||(d.add(m),s.push(m))}),s.length===0)return null;var c=f.currentIndex;return c!==-1&&(c<0||c>=s.length)&&(c=0),{type:"tab-area",widgets:s,currentIndex:c}}function l(f,d){for(var s=f.orientation,c=[],m=[],y=0,b=f.children.length;y<b;++y){var v=e(f.children[y],d);v&&(v.type==="tab-area"||v.orientation!==s?(c.push(v),m.push(Math.abs(f.sizes[y]||0))):(c.push.apply(c,v.children),m.push.apply(m,v.sizes)))}return c.length===0?null:c.length===1?c[0]:{type:"split-area",orientation:s,children:c,sizes:m}}function p(f,d,s){var c=d.createTabBar(s);return A(f.widgets,function(m){m.hide(),c.addTab(m.title),n.addAria(m,c)}),c.currentIndex=f.currentIndex,new r(c)}function g(f,d,s){var c=new o(f.orientation);return A(f.children,function(m,y){var b=t(m,d,s),v=i(f.sizes[y]),_=d.createHandle();c.children.push(b),c.handles.push(_),c.sizers.push(v),b.parent=c}),c.syncHandles(),c.normalizeSizes(),c}})(R||(R={}));var _t=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this)||this;t._drag=null,t._tabsMovable=!0,t._tabsConstrained=!1,t._addButtonEnabled=!1,t._pressData=null,t._layoutModified=new L(t),t._addRequested=new L(t),t.addClass("lm-DockPanel"),t.addClass("p-DockPanel"),t._document=e.document||document,t._mode=e.mode||"multiple-document",t._renderer=e.renderer||i.defaultRenderer,t._edges=e.edges||O.DEFAULT_EDGES,e.tabsMovable!==void 0&&(t._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(t._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(t._addButtonEnabled=e.addButtonEnabled),t.dataset.mode=t._mode;var r={createTabBar:function(){return t._createTabBar()},createHandle:function(){return t._createHandle()}};return t.layout=new kt({document:t._document,renderer:r,spacing:e.spacing,hiddenMode:e.hiddenMode}),t.overlay=e.overlay||new i.Overlay,t.node.appendChild(t.overlay.node),t}return i.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var t=this.layout;switch(e){case"multiple-document":A(t.tabBars(),function(r){r.show()});break;case"single-document":t.restoreLayout(O.createSingleDocumentConfig(this));break;default:throw"unreachable"}C.postMessage(this,O.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e,A(this.tabBars(),function(t){t.tabsMovable=e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled=e,A(this.tabBars(),function(t){t.addButtonEnabled=e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),i.prototype.widgets=function(){return this.layout.widgets()},i.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},i.prototype.tabBars=function(){return this.layout.tabBars()},i.prototype.handles=function(){return this.layout.handles()},i.prototype.selectWidget=function(e){var t=ye(this.tabBars(),function(r){return r.titles.indexOf(e.title)!==-1});if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},i.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},i.prototype.saveLayout=function(){return this.layout.saveLayout()},i.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(K.IS_EDGE||K.IS_IE)&&C.flush(),C.postMessage(this,O.LayoutModified)},i.prototype.addWidget=function(e,t){t===void 0&&(t={}),this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),C.postMessage(this,O.LayoutModified)},i.prototype.processMessage=function(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):n.prototype.processMessage.call(this,e)},i.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},i.prototype.onChildAdded=function(e){O.isGeneratedTabBarProperty.get(e.child)||(e.child.addClass("lm-DockPanel-widget"),e.child.addClass("p-DockPanel-widget"))},i.prototype.onChildRemoved=function(e){O.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),e.child.removeClass("p-DockPanel-widget"),C.postMessage(this,O.LayoutModified))},i.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())},i.prototype._evtDragLeave=function(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))},i.prototype._evtDragOver=function(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)},i.prototype._evtDrop=function(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}var t=e.clientX,r=e.clientY,o=O.findDropTarget(this,t,r,this._edges),a=o.zone,u=o.target;if(this._tabsConstrained&&e.source!==this||a==="invalid"){e.dropAction="none";return}var h=e.mimeData,l=h.getData("application/vnd.lumino.widget-factory");if(typeof l!="function"){e.dropAction="none";return}var p=l();if(!(p instanceof S)){e.dropAction="none";return}if(p.contains(this)){e.dropAction="none";return}var g=u?O.getDropRef(u.tabBar):null;switch(a){case"root-all":this.addWidget(p);break;case"root-top":this.addWidget(p,{mode:"split-top"});break;case"root-left":this.addWidget(p,{mode:"split-left"});break;case"root-right":this.addWidget(p,{mode:"split-right"});break;case"root-bottom":this.addWidget(p,{mode:"split-bottom"});break;case"widget-all":this.addWidget(p,{mode:"tab-after",ref:g});break;case"widget-top":this.addWidget(p,{mode:"split-top",ref:g});break;case"widget-left":this.addWidget(p,{mode:"split-left",ref:g});break;case"widget-right":this.addWidget(p,{mode:"split-right",ref:g});break;case"widget-bottom":this.addWidget(p,{mode:"split-bottom",ref:g});break;case"widget-tab":this.addWidget(p,{mode:"tab-after",ref:g});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(p)},i.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),C.postMessage(this,O.LayoutModified))},i.prototype._evtMouseDown=function(e){if(e.button===0){var t=this.layout,r=e.target,o=ye(t.handles(),function(g){return g.contains(r)});if(o){e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var a=o.getBoundingClientRect(),u=e.clientX-a.left,h=e.clientY-a.top,l=window.getComputedStyle(o),p=ue.overrideCursor(l.cursor,this._document);this._pressData={handle:o,deltaX:u,deltaY:h,override:p}}}},i.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,o=e.clientY-t.top-this._pressData.deltaY,a=this.layout;a.moveHandle(this._pressData.handle,r,o)}},i.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),C.postMessage(this,O.LayoutModified))},i.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},i.prototype._showOverlay=function(e,t){var r=O.findDropTarget(this,e,t,this._edges),o=r.zone,a=r.target;if(o==="invalid")return this.overlay.hide(100),o;var u,h,l,p,g=z.boxSizing(this.node),f=this.node.getBoundingClientRect();switch(o){case"root-all":u=g.paddingTop,h=g.paddingLeft,l=g.paddingRight,p=g.paddingBottom;break;case"root-top":u=g.paddingTop,h=g.paddingLeft,l=g.paddingRight,p=f.height*O.GOLDEN_RATIO;break;case"root-left":u=g.paddingTop,h=g.paddingLeft,l=f.width*O.GOLDEN_RATIO,p=g.paddingBottom;break;case"root-right":u=g.paddingTop,h=f.width*O.GOLDEN_RATIO,l=g.paddingRight,p=g.paddingBottom;break;case"root-bottom":u=f.height*O.GOLDEN_RATIO,h=g.paddingLeft,l=g.paddingRight,p=g.paddingBottom;break;case"widget-all":u=a.top,h=a.left,l=a.right,p=a.bottom;break;case"widget-top":u=a.top,h=a.left,l=a.right,p=a.bottom+a.height/2;break;case"widget-left":u=a.top,h=a.left,l=a.right+a.width/2,p=a.bottom;break;case"widget-right":u=a.top,h=a.left+a.width/2,l=a.right,p=a.bottom;break;case"widget-bottom":u=a.top+a.height/2,h=a.left,l=a.right,p=a.bottom;break;case"widget-tab":var d=a.tabBar.node.getBoundingClientRect().height;u=a.top,h=a.left,l=a.right,p=a.bottom+a.height-d;break;default:throw"unreachable"}return this.overlay.show({top:u,left:h,right:l,bottom:p}),o},i.prototype._createTabBar=function(){var e=this._renderer.createTabBar(this._document);return O.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e},i.prototype._createHandle=function(){return this._renderer.createHandle()},i.prototype._onTabMoved=function(){C.postMessage(this,O.LayoutModified)},i.prototype._onCurrentChanged=function(e,t){var r=t.previousTitle,o=t.currentTitle;r&&r.owner.hide(),o&&o.owner.show(),(K.IS_EDGE||K.IS_IE)&&C.flush(),C.postMessage(this,O.LayoutModified)},i.prototype._onTabAddRequested=function(e){this._addRequested.emit(e)},i.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},i.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},i.prototype._onTabDetachRequested=function(e,t){var r=this;if(!this._drag){e.releaseMouse();var o=t.title,a=t.tab,u=t.clientX,h=t.clientY,l=new me.MimeData,p=function(){return o.owner};l.setData("application/vnd.lumino.widget-factory",p);var g=a.cloneNode(!0);this._drag=new ue({document:this._document,mimeData:l,dragImage:g,proposedAction:"move",supportedActions:"move",source:this}),a.classList.add("lm-mod-hidden"),a.classList.add("p-mod-hidden");var f=function(){r._drag=null,a.classList.remove("lm-mod-hidden"),a.classList.remove("p-mod-hidden")};this._drag.start(u,h).then(f)}},i}(S);(function(n){var i=function(){function t(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return t.prototype.show=function(r){var o=this.node.style;o.top=r.top+"px",o.left=r.left+"px",o.right=r.right+"px",o.bottom=r.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},t.prototype.hide=function(r){var o=this;if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(function(){o._timer=-1,o._hidden=!0,o.node.classList.add("lm-mod-hidden"),o.node.classList.add("p-mod-hidden")},r))}},t}();n.Overlay=i;var e=function(){function t(){}return t.prototype.createTabBar=function(r){var o=new Se({document:r});return o.addClass("lm-DockPanel-tabBar"),o.addClass("p-DockPanel-tabBar"),o},t.prototype.createHandle=function(){var r=document.createElement("div");return r.className="lm-DockPanel-handle",r.classList.add("p-DockPanel-handle"),r},t}();n.Renderer=e,n.defaultRenderer=new e})(_t||(_t={}));var O;(function(n){n.GOLDEN_RATIO=.618,n.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},n.LayoutModified=new be("layout-modified"),n.isGeneratedTabBarProperty=new V({name:"isGeneratedTabBar",create:function(){return!1}});function i(r){if(r.isEmpty)return{main:null};var o=lt(r.widgets()),a=r.selectedWidgets().next(),u=a?o.indexOf(a):-1;return{main:{type:"tab-area",widgets:o,currentIndex:u}}}n.createSingleDocumentConfig=i;function e(r,o,a,u){if(!z.hitTest(r.node,o,a))return{zone:"invalid",target:null};var h=r.layout;if(h.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){var l=r.node.getBoundingClientRect(),p=o-l.left+1,g=a-l.top+1,f=l.right-o,d=l.bottom-a,s=Math.min(g,f,d,p);switch(s){case g:if(g<u.top)return{zone:"root-top",target:null};break;case f:if(f<u.right)return{zone:"root-right",target:null};break;case d:if(d<u.bottom)return{zone:"root-bottom",target:null};break;case p:if(p<u.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var c=h.hitTestTabAreas(o,a);if(!c)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:c};var m=c.x-c.left+1,y=c.y-c.top+1,b=c.left+c.width-c.x,v=c.top+c.height-c.y,_=c.tabBar.node.getBoundingClientRect().height;if(y<_)return{zone:"widget-tab",target:c};var M=Math.round(c.width/3),x=Math.round(c.height/3);if(m>M&&b>M&&y>x&&v>x)return{zone:"widget-all",target:c};m/=M,y/=x,b/=M,v/=x;var I=Math.min(m,y,b,v),E;switch(I){case m:E="widget-left";break;case y:E="widget-top";break;case b:E="widget-right";break;case v:E="widget-bottom";break;default:throw"unreachable"}return{zone:E,target:c}}n.findDropTarget=e;function t(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}n.getDropRef=t})(O||(O={}));var gi=function(){function n(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new L(this),this._currentChanged=new L(this)}return n.prototype.dispose=function(){var i=this;this._counter<0||(this._counter=-1,L.clearData(this),A(this._widgets,function(e){e.node.removeEventListener("focus",i,!0),e.node.removeEventListener("blur",i,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(n.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),n.prototype.focusNumber=function(i){var e=this._numbers.get(i);return e===void 0?-1:e},n.prototype.has=function(i){return this._numbers.has(i)},n.prototype.add=function(i){if(!this._numbers.has(i)){var e=i.node.contains(document.activeElement),t=e?this._counter++:-1;this._widgets.push(i),this._numbers.set(i,t),this._nodes.set(i.node,i),i.node.addEventListener("focus",this,!0),i.node.addEventListener("blur",this,!0),i.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(i,i)}},n.prototype.remove=function(i){var e=this;if(this._numbers.has(i)&&(i.disposed.disconnect(this._onWidgetDisposed,this),i.node.removeEventListener("focus",this,!0),i.node.removeEventListener("blur",this,!0),w.removeFirstOf(this._widgets,i),this._nodes.delete(i.node),this._numbers.delete(i),this._currentWidget===i)){var t=ht(this._widgets,function(o){return e._numbers.get(o)!==-1}),r=ft(t,function(o,a){var u=e._numbers.get(o),h=e._numbers.get(a);return u-h})||null;this._setWidgets(r,null)}},n.prototype.handleEvent=function(i){switch(i.type){case"focus":this._evtFocus(i);break;case"blur":this._evtBlur(i);break}},n.prototype._setWidgets=function(i,e){var t=this._currentWidget;this._currentWidget=i;var r=this._activeWidget;this._activeWidget=e,t!==i&&this._currentChanged.emit({oldValue:t,newValue:i}),r!==e&&this._activeChanged.emit({oldValue:r,newValue:e})},n.prototype._evtFocus=function(i){var e=this._nodes.get(i.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},n.prototype._evtBlur=function(i){var e=this._nodes.get(i.currentTarget),t=i.relatedTarget;if(!t){this._setWidgets(this._currentWidget,null);return}if(!e.node.contains(t)&&!ye(this._widgets,function(r){return r.node.contains(t)})){this._setWidgets(this._currentWidget,null);return}},n.prototype._onWidgetDisposed=function(i){this.remove(i)},n}(),at=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,e)||this;return t._dirty=!1,t._rowSpacing=4,t._columnSpacing=4,t._items=[],t._rowStarts=[],t._columnStarts=[],t._rowSizers=[new ce],t._columnSizers=[new ce],t._box=null,e.rowCount!==void 0&&N.reallocSizers(t._rowSizers,e.rowCount),e.columnCount!==void 0&&N.reallocSizers(t._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(t._rowSpacing=N.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(t._columnSpacing=N.clampValue(e.columnSpacing)),t}return i.prototype.dispose=function(){A(this._items,function(e){var t=e.widget;e.dispose(),t.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(N.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(N.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=N.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=N.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),i.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},i.prototype.setRowStretch=function(e,t){var r=this._rowSizers[e];r&&(t=N.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))},i.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},i.prototype.setColumnStretch=function(e,t){var r=this._columnSizers[e];r&&(t=N.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))},i.prototype.iter=function(){return ae(this._items,function(e){return e.widget})},i.prototype.addWidget=function(e){var t=w.findFirstIndex(this._items,function(r){return r.widget===e});t===-1&&(this._items.push(new Te(e)),this.parent&&this.attachWidget(e))},i.prototype.removeWidget=function(e){var t=w.findFirstIndex(this._items,function(o){return o.widget===e});if(t!==-1){var r=w.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}},i.prototype.init=function(){var e=this;n.prototype.init.call(this),A(this,function(t){e.attachWidget(t)})},i.prototype.attachWidget=function(e){this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterAttach),this.parent.fit()},i.prototype.detachWidget=function(e){this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterDetach),this.parent.fit()},i.prototype.onBeforeShow=function(e){n.prototype.onBeforeShow.call(this,e),this.parent.update()},i.prototype.onBeforeAttach=function(e){n.prototype.onBeforeAttach.call(this,e),this.parent.fit()},i.prototype.onChildShown=function(e){this.parent.fit()},i.prototype.onChildHidden=function(e){this.parent.fit()},i.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},i.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},i.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},i.prototype._fit=function(){for(var e=0,t=this.rowCount;e<t;++e)this._rowSizers[e].minSize=0;for(var e=0,t=this.columnCount;e<t;++e)this._columnSizers[e].minSize=0;for(var r=this._items.filter(function(y){return!y.isHidden}),e=0,t=r.length;e<t;++e)r[e].fit();var o=this.rowCount-1,a=this.columnCount-1;r.sort(N.rowSpanCmp);for(var e=0,t=r.length;e<t;++e){var u=r[e],h=i.getCellConfig(u.widget),l=Math.min(h.row,o),p=Math.min(h.row+h.rowSpan-1,o);N.distributeMin(this._rowSizers,l,p,u.minHeight)}r.sort(N.columnSpanCmp);for(var e=0,t=r.length;e<t;++e){var u=r[e],h=i.getCellConfig(u.widget),g=Math.min(h.column,a),f=Math.min(h.column+h.columnSpan-1,a);N.distributeMin(this._columnSizers,g,f,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){C.sendMessage(this.parent,S.Msg.UpdateRequest);return}for(var d=o*this._rowSpacing,s=a*this._columnSpacing,e=0,t=this.rowCount;e<t;++e)d+=this._rowSizers[e].minSize;for(var e=0,t=this.columnCount;e<t;++e)s+=this._columnSizers[e].minSize;var c=this._box=z.boxSizing(this.parent.node);s+=c.horizontalSum,d+=c.verticalSum;var m=this.parent.node.style;m.minWidth=s+"px",m.minHeight=d+"px",this._dirty=!0,this.parent.parent&&C.sendMessage(this.parent.parent,S.Msg.FitRequest),this._dirty&&C.sendMessage(this.parent,S.Msg.UpdateRequest)},i.prototype._update=function(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=z.boxSizing(this.parent.node));var r=this._box.paddingTop,o=this._box.paddingLeft,a=e-this._box.horizontalSum,u=t-this._box.verticalSum,h=this.rowCount-1,l=this.columnCount-1,p=h*this._rowSpacing,g=l*this._columnSpacing;$.calc(this._rowSizers,Math.max(0,u-p)),$.calc(this._columnSizers,Math.max(0,a-g));for(var f=0,d=r,s=this.rowCount;f<s;++f)this._rowStarts[f]=d,d+=this._rowSizers[f].size+this._rowSpacing;for(var f=0,d=o,s=this.columnCount;f<s;++f)this._columnStarts[f]=d,d+=this._columnSizers[f].size+this._columnSpacing;for(var f=0,s=this._items.length;f<s;++f){var c=this._items[f];if(!c.isHidden){var m=i.getCellConfig(c.widget),y=Math.min(m.row,h),b=Math.min(m.column,l),v=Math.min(m.row+m.rowSpan-1,h),_=Math.min(m.column+m.columnSpan-1,l),M=this._columnStarts[b],x=this._rowStarts[y],I=this._columnStarts[_]+this._columnSizers[_].size-M,E=this._rowStarts[v]+this._rowSizers[v].size-x;c.update(M,x,I,E)}}},i}(le);(function(n){function i(t){return N.cellConfigProperty.get(t)}n.getCellConfig=i;function e(t,r){N.cellConfigProperty.set(t,N.normalizeConfig(r))}n.setCellConfig=e})(at||(at={}));var N;(function(n){n.cellConfigProperty=new V({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:u});function i(h){var l=Math.max(0,Math.floor(h.row||0)),p=Math.max(0,Math.floor(h.column||0)),g=Math.max(1,Math.floor(h.rowSpan||0)),f=Math.max(1,Math.floor(h.columnSpan||0));return{row:l,column:p,rowSpan:g,columnSpan:f}}n.normalizeConfig=i;function e(h){return Math.max(0,Math.floor(h))}n.clampValue=e;function t(h,l){var p=n.cellConfigProperty.get(h.widget),g=n.cellConfigProperty.get(l.widget);return p.rowSpan-g.rowSpan}n.rowSpanCmp=t;function r(h,l){var p=n.cellConfigProperty.get(h.widget),g=n.cellConfigProperty.get(l.widget);return p.columnSpan-g.columnSpan}n.columnSpanCmp=r;function o(h,l){for(l=Math.max(1,Math.floor(l));h.length<l;)h.push(new ce);h.length>l&&(h.length=l)}n.reallocSizers=o;function a(h,l,p,g){if(!(p<l)){if(l===p){var f=h[l];f.minSize=Math.max(f.minSize,g);return}for(var d=0,s=l;s<=p;++s)d+=h[s].minSize;if(!(d>=g))for(var c=(g-d)/(p-l+1),s=l;s<=p;++s)h[s].minSize+=c}}n.distributeMin=a;function u(h){h.parent&&h.parent.layout instanceof at&&h.parent.fit()}})(N||(N={}));var Mt=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{node:Ne.createNode()})||this;return t._activeIndex=-1,t._tabFocusIndex=0,t._menus=[],t._childMenu=null,t.addClass("lm-MenuBar"),t.addClass("p-MenuBar"),t.setFlag(S.Flag.DisallowLayout),t.renderer=e.renderer||i.defaultRenderer,t._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},t}return i.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,e!==-1&&(this._tabFocusIndex=e),this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),i.prototype.openActiveMenu=function(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},i.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},i.prototype.insertMenu=function(e,t){this._closeChildMenu();var r=this._menus.indexOf(t),o=Math.max(0,Math.min(e,this._menus.length));if(r===-1){w.insert(this._menus,o,t),t.addClass("lm-MenuBar-menu"),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),this.update();return}o===this._menus.length&&o--,r!==o&&(w.move(this._menus,r,o),this.update())},i.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},i.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=w.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("lm-MenuBar-menu"),t.removeClass("p-MenuBar-menu"),this.update())},i.prototype.clearMenus=function(){if(this._menus.length!==0){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var r=t[e];r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),r.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},i.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},i.prototype.onActivateRequest=function(e){this.isAttached&&(this.activeIndex=0)},i.prototype.onUpdateRequest=function(e){for(var t=this,r=this._menus,o=this.renderer,a=this._activeIndex,u=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,h=new Array(r.length),l=function(f,d){var s=r[f].title,c=f===a;c&&r[f].items.length==0&&(c=!1),h[f]=o.renderItem({title:s,active:c,tabbable:f===u,onfocus:function(){t.activeIndex=f}})},p=0,g=r.length;p<g;++p)l(p);ne.render(h,this.contentNode)},i.prototype._evtKeyDown=function(e){var t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this.activeIndex=-1,this.node.blur();return}if(t===37){var r=this._activeIndex,o=this._menus.length;this.activeIndex=r===0?o-1:r-1;return}if(t===39){var r=this._activeIndex,o=this._menus.length;this.activeIndex=r===o-1?0:r+1;return}var a=_e().keyForKeydownEvent(e);if(a){var u=this._activeIndex+1,h=Ne.findMnemonic(this._menus,a,u);h.index!==-1&&!h.multiple?(this.activeIndex=h.index,this.openActiveMenu()):h.index!==-1?this.activeIndex=h.index:h.auto!==-1&&(this.activeIndex=h.auto)}},i.prototype._evtMouseDown=function(e){if(z.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=w.findFirstIndex(this.contentNode.children,function(o){return z.hitTest(o,e.clientX,e.clientY)});if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{var r=this._positionForMenu(t);Ce.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}},i.prototype._evtMouseMove=function(e){var t=w.findFirstIndex(this.contentNode.children,function(o){return z.hitTest(o,e.clientX,e.clientY)});if(t!==this._activeIndex&&!(t===-1&&this._childMenu)){var r=this._positionForMenu(t);Ce.saveWindowData(),this.activeIndex=t,this._childMenu&&this._openChildMenu(r)}},i.prototype._positionForMenu=function(e){var t=this.contentNode.children[e],r=t.getBoundingClientRect(),o=r.left,a=r.bottom;return{top:a,left:o}},i.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},i.prototype._openChildMenu=function(e){var t;e===void 0&&(e={});var r=this.activeMenu;if(!r){this._closeChildMenu();return}var o=this._childMenu;if(o!==r){this._childMenu=r,o?o.close():document.addEventListener("mousedown",this,!0),C.sendMessage(this,S.Msg.UpdateRequest);var a=e.left,u=e.top;(typeof a>"u"||typeof u>"u")&&(t=this._positionForMenu(this._activeIndex),a=t.left,u=t.top),o||(this.addClass("lm-mod-active"),this.addClass("p-mod-active")),r.items.length>0&&r.open(a,u,this._forceItemsPosition)}},i.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},i.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},i.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var r=this._activeIndex,o=this._menus.length;switch(t){case"next":this.activeIndex=r===o-1?0:r+1;break;case"previous":this.activeIndex=r===0?o-1:r-1;break}this.openActiveMenu()}},i.prototype._onTitleChanged=function(){this.update()},i}(S);(function(n){var i=function(){function e(){}return e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t),a=this.createItemARIA(t);return D.li(F({className:r,dataset:o,tabindex:t.tabbable?"0":"-1",onfocus:t.onfocus},a),this.renderIcon(t),this.renderLabel(t))},e.prototype.renderIcon=function(t){var r=this.createIconClass(t);return typeof t.title.icon=="string"?D.div({className:r},t.title.iconLabel):D.div({className:r},t.title.icon,t.title.iconLabel)},e.prototype.renderLabel=function(t){var r=this.formatLabel(t);return D.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},r)},e.prototype.createItemClass=function(t){var r="lm-MenuBar-item";return r+=" p-MenuBar-item",t.title.className&&(r+=" "+t.title.className),t.active&&(r+=" lm-mod-active",r+=" p-mod-active"),r},e.prototype.createItemDataset=function(t){return t.title.dataset},e.prototype.createItemARIA=function(t){return{role:"menuitem","aria-haspopup":"true"}},e.prototype.createIconClass=function(t){var r="lm-MenuBar-itemIcon";r+=" p-MenuBar-itemIcon";var o=t.title.iconClass;return o?r+" "+o:r},e.prototype.formatLabel=function(t){var r=t.title,o=r.label,a=r.mnemonic;if(a<0||a>=o.length)return o;var u=o.slice(0,a),h=o.slice(a+1),l=o[a],p=D.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},l);return[u,p,h]},e}();n.Renderer=i,n.defaultRenderer=new i})(Mt||(Mt={}));var Ne;(function(n){function i(){var t=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",r.classList.add("p-MenuBar-content"),t.appendChild(r),r.setAttribute("role","menubar"),t}n.createNode=i;function e(t,r,o){for(var a=-1,u=-1,h=!1,l=r.toUpperCase(),p=0,g=t.length;p<g;++p){var f=(p+o)%g,d=t[f].title;if(d.label.length!==0){var s=d.mnemonic;if(s>=0&&s<d.label.length){d.label[s].toUpperCase()===l&&(a===-1?a=f:h=!0);continue}u===-1&&d.label[0].toUpperCase()===l&&(u=f)}}return{index:a,multiple:h,auto:u}}n.findMnemonic=e})(Ne||(Ne={}));var vi=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{node:We.createNode()})||this;return t._onRepeat=function(){if(t._repeatTimer=-1,!!t._pressData){var r=t._pressData.part;if(r!=="thumb"){t._repeatTimer=window.setTimeout(t._onRepeat,20);var o=t._pressData.mouseX,a=t._pressData.mouseY;if(r==="decrement"){if(!z.hitTest(t.decrementNode,o,a))return;t._stepRequested.emit("decrement");return}if(r==="increment"){if(!z.hitTest(t.incrementNode,o,a))return;t._stepRequested.emit("increment");return}if(r==="track"){if(!z.hitTest(t.trackNode,o,a))return;var u=t.thumbNode;if(z.hitTest(u,o,a))return;var h=u.getBoundingClientRect(),l=void 0;t._orientation==="horizontal"?l=o<h.left?"decrement":"increment":l=a<h.top?"decrement":"increment",t._pageRequested.emit(l);return}}}},t._value=0,t._page=10,t._maximum=100,t._repeatTimer=-1,t._pressData=null,t._thumbMoved=new L(t),t._stepRequested=new L(t),t._pageRequested=new L(t),t.addClass("lm-ScrollBar"),t.addClass("p-ScrollBar"),t.setFlag(S.Flag.DisallowLayout),t._orientation=e.orientation||"vertical",t.dataset.orientation=t._orientation,e.maximum!==void 0&&(t._maximum=Math.max(0,e.maximum)),e.page!==void 0&&(t._page=Math.max(0,e.page)),e.value!==void 0&&(t._value=Math.max(0,Math.min(e.value,t._maximum))),t}return Object.defineProperty(i.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),i.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},i.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},i.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},i.prototype.onUpdateRequest=function(e){var t=this._value*100/this._maximum,r=this._page*100/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),r=Math.max(0,Math.min(r,100));var o=this.thumbNode.style;this._orientation==="horizontal"?(o.top="",o.height="",o.left=t+"%",o.width=r+"%",o.transform="translate("+-t+"%, 0%)"):(o.left="",o.width="",o.top=t+"%",o.height=r+"%",o.transform="translate(0%, "+-t+"%)")},i.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),e.keyCode===27){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),t!==-1&&this._moveThumb(t)}},i.prototype._evtMouseDown=function(e){if(e.button===0&&(this.activate(),!this._pressData)){var t=We.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var r=ue.overrideCursor("default");if(this._pressData={part:t,override:r,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),t==="thumb"){var o=this.thumbNode,a=o.getBoundingClientRect();this._orientation==="horizontal"?this._pressData.delta=e.clientX-a.left:this._pressData.delta=e.clientY-a.top,o.classList.add("lm-mod-active"),o.classList.add("p-mod-active"),this._pressData.value=this._value;return}if(t==="track"){var a=this.thumbNode.getBoundingClientRect(),u=void 0;this._orientation==="horizontal"?u=e.clientX<a.left?"decrement":"increment":u=e.clientY<a.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),this._pageRequested.emit(u);return}if(t==="decrement"){this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("decrement");return}if(t==="increment"){this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("increment");return}}}},i.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,this._pressData.part==="thumb")){var t=this.thumbNode.getBoundingClientRect(),r=this.trackNode.getBoundingClientRect(),o,a;this._orientation==="horizontal"?(o=e.clientX-r.left-this._pressData.delta,a=r.width-t.width):(o=e.clientY-r.top-this._pressData.delta,a=r.height-t.height);var u=a===0?0:o*this._maximum/a;this._moveThumb(u)}},i.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},i.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},i.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))},i}(S),We;(function(n){function i(){var t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),u=document.createElement("div");return r.className="lm-ScrollBar-button",o.className="lm-ScrollBar-button",r.dataset.action="decrement",o.dataset.action="increment",a.className="lm-ScrollBar-track",u.className="lm-ScrollBar-thumb",r.classList.add("p-ScrollBar-button"),o.classList.add("p-ScrollBar-button"),a.classList.add("p-ScrollBar-track"),u.classList.add("p-ScrollBar-thumb"),a.appendChild(u),t.appendChild(r),t.appendChild(a),t.appendChild(o),t}n.createNode=i;function e(t,r){return t.thumbNode.contains(r)?"thumb":t.trackNode.contains(r)?"track":t.decrementNode.contains(r)?"decrement":t.incrementNode.contains(r)?"increment":null}n.findPart=e})(We||(We={}));var yi=function(n){P(i,n);function i(){var e=n!==null&&n.apply(this,arguments)||this;return e._widget=null,e}return i.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}n.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"widget",{get:function(){return this._widget},set:function(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))},enumerable:!0,configurable:!0}),i.prototype.iter=function(){return this._widget?Ee(this._widget):te()},i.prototype.removeWidget=function(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))},i.prototype.init=function(){var e=this;n.prototype.init.call(this),A(this,function(t){e.attachWidget(t)})},i.prototype.attachWidget=function(e){this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterAttach)},i.prototype.detachWidget=function(e){this.parent.isAttached&&C.sendMessage(e,S.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&C.sendMessage(e,S.Msg.AfterDetach)},i}(le),Tt=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,e)||this;return t._dirty=!1,t._items=[],t._box=null,t._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:S.HiddenMode.Display,t}return Object.defineProperty(i.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(function(r){r.hiddenMode=t._hiddenMode}))},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){A(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,n.prototype.dispose.call(this)},i.prototype.attachWidget=function(e,t){this._hiddenMode===S.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=S.HiddenMode.Scale),t.hiddenMode=S.HiddenMode.Scale):t.hiddenMode=S.HiddenMode.Display,w.insert(this._items,e,new Te(t)),this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterAttach),this.parent.fit()},i.prototype.moveWidget=function(e,t,r){w.move(this._items,e,t),this.parent.update()},i.prototype.detachWidget=function(e,t){var r=w.removeAt(this._items,e);this.parent.isAttached&&C.sendMessage(t,S.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&C.sendMessage(t,S.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===S.HiddenMode.Scale&&(t.hiddenMode=S.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=S.HiddenMode.Display)),r.dispose(),this.parent.fit()},i.prototype.onBeforeShow=function(e){n.prototype.onBeforeShow.call(this,e),this.parent.update()},i.prototype.onBeforeAttach=function(e){n.prototype.onBeforeAttach.call(this,e),this.parent.fit()},i.prototype.onChildShown=function(e){this.parent.fit()},i.prototype.onChildHidden=function(e){this.parent.fit()},i.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},i.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},i.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},i.prototype._fit=function(){for(var e=0,t=0,r=0,o=this._items.length;r<o;++r){var a=this._items[r];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}var u=this._box=z.boxSizing(this.parent.node);e+=u.horizontalSum,t+=u.verticalSum;var h=this.parent.node.style;h.minWidth=e+"px",h.minHeight=t+"px",this._dirty=!0,this.parent.parent&&C.sendMessage(this.parent.parent,S.Msg.FitRequest),this._dirty&&C.sendMessage(this.parent,S.Msg.UpdateRequest)},i.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(r!==0){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=z.boxSizing(this.parent.node));for(var u=this._box.paddingTop,h=this._box.paddingLeft,l=e-this._box.horizontalSum,p=t-this._box.verticalSum,o=0,a=this._items.length;o<a;++o){var g=this._items[o];g.isHidden||(g.widget.node.style.zIndex=""+o,g.update(h,u,l,p))}}},i}(Fe),zt=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this,{layout:st.createLayout(e)})||this;return t._widgetRemoved=new L(t),t.addClass("lm-StackedPanel"),t.addClass("p-StackedPanel"),t}return Object.defineProperty(i.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),i.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child"),e.child.addClass("p-StackedPanel-child")},i.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child"),e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},i}(ut),st;(function(n){function i(e){return e.layout||new Tt}n.createLayout=i})(st||(st={}));var bi=function(n){P(i,n);function i(e){e===void 0&&(e={});var t=n.call(this)||this;t._currentChanged=new L(t),t._addRequested=new L(t),t.addClass("lm-TabPanel"),t.addClass("p-TabPanel"),t.tabBar=new Se(e),t.tabBar.addClass("lm-TabPanel-tabBar"),t.stackedPanel=new zt,t.stackedPanel.addClass("lm-TabPanel-stackedPanel"),t.tabBar.addClass("p-TabPanel-tabBar"),t.stackedPanel.addClass("p-TabPanel-stackedPanel"),t.tabBar.tabMoved.connect(t._onTabMoved,t),t.tabBar.currentChanged.connect(t._onCurrentChanged,t),t.tabBar.tabCloseRequested.connect(t._onTabCloseRequested,t),t.tabBar.tabActivateRequested.connect(t._onTabActivateRequested,t),t.tabBar.addRequested.connect(t._onTabAddRequested,t),t.stackedPanel.widgetRemoved.connect(t._onWidgetRemoved,t),t._tabPlacement=e.tabPlacement||"top";var r=we.directionFromPlacement(t._tabPlacement),o=we.orientationFromPlacement(t._tabPlacement);t.tabBar.orientation=o,t.tabBar.dataset.placement=t._tabPlacement;var a=new J({direction:r,spacing:0});return J.setStretch(t.tabBar,0),J.setStretch(t.stackedPanel,1),a.addWidget(t.tabBar),a.addWidget(t.stackedPanel),t.layout=a,t}return Object.defineProperty(i.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(e){this.tabBar.addButtonEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=we.directionFromPlacement(e),r=we.orientationFromPlacement(e);this.tabBar.orientation=r,this.tabBar.dataset.placement=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),i.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},i.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title),t.node.setAttribute("role","tabpanel");var r=this.tabBar.renderer;if(r instanceof Se.Renderer){var o=r.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",o)}},i.prototype._onCurrentChanged=function(e,t){var r=t.previousIndex,o=t.previousTitle,a=t.currentIndex,u=t.currentTitle,h=o?o.owner:null,l=u?u.owner:null;h&&h.hide(),l&&l.show(),this._currentChanged.emit({previousIndex:r,previousWidget:h,currentIndex:a,currentWidget:l}),(K.IS_EDGE||K.IS_IE)&&C.flush()},i.prototype._onTabAddRequested=function(e,t){this._addRequested.emit(e)},i.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},i.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},i.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},i.prototype._onWidgetRemoved=function(e,t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(t.title)},i}(S),we;(function(n){function i(o){return t[o]}n.orientationFromPlacement=i;function e(o){return r[o]}n.directionFromPlacement=e;var t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(we||(we={}));var Pt=function(n,i,e,t){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(p){try{l(t.next(p))}catch(g){a(g)}}function h(p){try{l(t.throw(p))}catch(g){a(g)}}function l(p){p.done?o(p.value):r(p.value).then(u,h)}l((t=t.apply(n,i||[])).next())})},Bt="jp-RenderedPlotly",Ot="jp-MaterialIcon jp-PlotlyIcon",xt="application/vnd.plotly.v1+json",W=class extends S{constructor(i){super(),this.addClass(Bt),this._mimeType=i.mimeType,this._img_el=document.createElement("img"),this._img_el.className="plot-img",this.node.appendChild(this._img_el),this._img_el.addEventListener("mouseenter",e=>{this.createGraph(this._model)})}renderModel(i){if(this.hasGraphElement())return Promise.resolve();this._model=i;let e=i.data["image/png"];return e!=null?(this.updateImage(e),Promise.resolve()):this.createGraph(i)}hasGraphElement(){return this.node.querySelector(".plot-container")!==null}updateImage(i){this.hideGraph(),this._img_el.src="data:image/png;base64,"+i,this.showImage()}hideGraph(){let i=this.node.querySelector(".plot-container");i!=null&&(i.style.display="none")}showGraph(){let i=this.node.querySelector(".plot-container");i!=null&&(i.style.display="block")}hideImage(){let i=this.node.querySelector(".plot-img");i!=null&&(i.style.display="none")}showImage(){let i=this.node.querySelector(".plot-img");i!=null&&(i.style.display="block")}createGraph(i){let{data:e,layout:t,frames:r,config:o}=i.data[this._mimeType];return t.height||(t.height=360),(()=>Pt(this,void 0,void 0,function*(){return W.Plotly===null&&(W.Plotly=yield import("/build/_shared/plotly-3OHZKR7T.js"),W.Plotly=W.Plotly.default,W._resolveLoadingPlotly()),W.loadingPlotly}))().then(()=>W.Plotly.react(this.node,e,t,o)).then(u=>{this.showGraph(),this.hideImage(),this.update(),r&&W.Plotly.addFrames(this.node,r),this.node.offsetWidth>0&&this.node.offsetHeight>0&&W.Plotly.toImage(u,{format:"png",width:this.node.offsetWidth,height:this.node.offsetHeight}).then(h=>{let l=h.split(",")[1];i.data["image/png"]!==l&&i.setData({data:Object.assign(Object.assign({},i.data),{"image/png":l})})}),this.node.on("plotly_webglcontextlost",()=>{let h=i.data["image/png"];if(h!=null)return this.updateImage(h),Promise.resolve()})})}onAfterShow(i){this.update()}onResize(i){this.update()}onUpdateRequest(i){W.Plotly&&this.isVisible&&this.hasGraphElement()&&W.Plotly.redraw(this.node).then(()=>{W.Plotly.Plots.resize(this.node)})}};W.Plotly=null;W.loadingPlotly=new Promise(n=>{W._resolveLoadingPlotly=n});var Rt={safe:!0,mimeTypes:[xt],createRenderer:n=>new W(n)},Ht=[{id:"@jupyterlab/plotly-extension:factory",rendererFactory:Rt,rank:0,dataType:"json",fileTypes:[{name:"plotly",mimeTypes:[xt],extensions:[".plotly",".plotly.json"],iconClass:Ot}],documentWidgetFactoryOptions:{name:"Plotly",primaryFileType:"plotly",fileTypes:["plotly","json"],defaultFor:["plotly"]}}],Si=Ht;export{xt as MIME_TYPE,W as RenderedPlotly,Si as default,Rt as rendererFactory};
/*! Bundled license information:

@lumino/disposable/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/commands/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/virtualdom/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/widgets/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
